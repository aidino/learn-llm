<!DOCTYPE html><html lang="en" data-rh="lang"><head><meta http-equiv="origin-trial" content="A7vZI3v+Gz7JfuRolKNM4Aff6zaGuT7X0mf3wtoZTnKv6497cVMnhy03KDqX7kBz/q/iidW7srW31oQbBt4VhgoAAACUeyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGUuY29tOjQ0MyIsImZlYXR1cmUiOiJEaXNhYmxlVGhpcmRQYXJ0eVN0b3JhZ2VQYXJ0aXRpb25pbmczIiwiZXhwaXJ5IjoxNzU3OTgwODAwLCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><title>Real-time Retrieval for RAG on Social Media Data | Decoding ML</title><meta data-rh="true" charset="utf-8"><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=1"><meta data-rh="true" name="theme-color" content="#000000"><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"><meta data-rh="true" property="al:ios:app_name" content="Medium"><meta data-rh="true" property="al:ios:app_store_id" content="828256236"><meta data-rh="true" property="al:android:package" content="com.medium.reader"><meta data-rh="true" property="fb:app_id" content="542599432471018"><meta data-rh="true" property="og:site_name" content="Medium"><meta data-rh="true" name="apple-itunes-app" content="app-id=828256236, app-argument=/decodingml/a-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0, affiliate-data=pt=698524&amp;ct=smart_app_banner&amp;mt=8"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-04-10T13:03:51.931Z"><meta data-rh="true" name="title" content="Real-time Retrieval for RAG on Social Media Data | Decoding ML"><meta data-rh="true" property="og:title" content="A Real-time Retrieval System for RAG on Social Media Data"><meta data-rh="true" property="al:android:url" content="medium://p/9cc01d50a2a0"><meta data-rh="true" property="al:ios:url" content="medium://p/9cc01d50a2a0"><meta data-rh="true" property="al:android:app_name" content="Medium"><meta data-rh="true" name="description" content="Use Bytewax to build a streaming real-time pipeline to populate a Qdrant vector DB. Implement a RAG retrieval client using rerank. Visualize using UMAP."><meta data-rh="true" property="og:description" content="Use a streaming engine to populate a vector DB in real-time. Improve RAG accuracy using rerank &amp; UMAP."><meta data-rh="true" property="og:url" content="https://medium.com/decodingml/a-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0"><meta data-rh="true" property="al:web:url" content="https://medium.com/decodingml/a-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0"><meta data-rh="true" property="og:image" content="https://miro.medium.com/v2/resize:fit:1024/1*mm9nB9FZq-u5alVd_chwyg.png"><meta data-rh="true" property="article:author" content="https://pauliusztin.medium.com"><meta data-rh="true" name="author" content="Paul Iusztin"><meta data-rh="true" name="robots" content="index,noarchive,follow,max-image-preview:large"><meta data-rh="true" name="referrer" content="unsafe-url"><meta data-rh="true" property="twitter:title" content="A Real-time Retrieval System for RAG on Social Media Data"><meta data-rh="true" name="twitter:site" content="@decodingml"><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/9cc01d50a2a0"><meta data-rh="true" property="twitter:description" content="Use a streaming engine to populate a vector DB in real-time. Improve RAG accuracy using rerank &amp; UMAP."><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/v2/resize:fit:1024/1*mm9nB9FZq-u5alVd_chwyg.png"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:creator" content="@iusztinpaul"><meta data-rh="true" name="twitter:label1" content="Reading time"><meta data-rh="true" name="twitter:data1" content="12 min read"><link data-rh="true" rel="icon" href="https://miro.medium.com/v2/5d8de952517e8160e40ef9841c781cdc14a5db313057fa3c3de41c6f5b494b19"><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml"><link data-rh="true" rel="preconnect" href="https://glyph.medium.com" crossorigin=""><link data-rh="true" rel="manifest" href="/manifest.json"><link data-rh="true" id="glyph_preload_link" rel="preload" as="style" type="text/css" href="https://glyph.medium.com/css/unbound.css"><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://glyph.medium.com/css/unbound.css"><link data-rh="true" rel="author" href="https://pauliusztin.medium.com"><link data-rh="true" rel="canonical" href="https://medium.com/decodingml/a-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0"><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/9cc01d50a2a0"><style type="text/css" data-fela-rehydration="603" data-fela-type="STATIC">html{box-sizing:border-box;-webkit-text-size-adjust:100%}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}#speechify-root{font-family:Sohne, sans-serif}div[data-popper-reference-hidden="true"]{visibility:hidden;pointer-events:none}.grecaptcha-badge{visibility:hidden}
/*XCode style (c) Angel Garcia <angelgarcia.mail@gmail.com>*/.hljs {background: #fff;color: black;
}/* Gray DOCTYPE selectors like WebKit */
.xml .hljs-meta {color: #c0c0c0;
}.hljs-comment,
.hljs-quote {color: #007400;
}.hljs-tag,
.hljs-attribute,
.hljs-keyword,
.hljs-selector-tag,
.hljs-literal,
.hljs-name {color: #aa0d91;
}.hljs-variable,
.hljs-template-variable {color: #3F6E74;
}.hljs-code,
.hljs-string,
.hljs-meta .hljs-string {color: #c41a16;
}.hljs-regexp,
.hljs-link {color: #0E0EFF;
}.hljs-title,
.hljs-symbol,
.hljs-bullet,
.hljs-number {color: #1c00cf;
}.hljs-section,
.hljs-meta {color: #643820;
}.hljs-title.class_,
.hljs-class .hljs-title,
.hljs-type,
.hljs-built_in,
.hljs-params {color: #5c2699;
}.hljs-attr {color: #836C28;
}.hljs-subst {color: #000;
}.hljs-formula {background-color: #eee;font-style: italic;
}.hljs-addition {background-color: #baeeba;
}.hljs-deletion {background-color: #ffc8bd;
}.hljs-selector-id,
.hljs-selector-class {color: #9b703f;
}.hljs-doctag,
.hljs-strong {font-weight: bold;
}.hljs-emphasis {font-style: italic;
}
</style><style type="text/css" data-fela-rehydration="603" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@-moz-keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}</style><style type="text/css" data-fela-rehydration="603" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.d{display:none}.m{display:block}.n{position:sticky}.o{top:0}.p{z-index:500}.q{padding:0 24px}.r{align-items:center}.s{border-bottom:solid 1px #F2F2F2}.z{height:41px}.ab{line-height:20px}.ac{display:flex}.ae{height:57px}.af{flex:1 0 auto}.ag{color:inherit}.ah{fill:inherit}.ai{font-size:inherit}.aj{border:none}.ak{font-family:inherit}.al{letter-spacing:inherit}.am{font-weight:inherit}.an{padding:0}.ao{margin:0}.ap{cursor:pointer}.aq:disabled{cursor:not-allowed}.ar:disabled{color:#6B6B6B}.as:disabled{fill:#6B6B6B}.av{width:auto}.aw path{fill:#242424}.ax{height:25px}.ay{margin-left:24px}.az{border-radius:20px}.ba{width:240px}.bb{background:#F9F9F9}.bc path{fill:#6B6B6B}.be{outline:none}.bf{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.bg{font-size:14px}.bh{width:100%}.bi{padding:10px 20px 10px 0}.bj{background-color:transparent}.bk{color:#242424}.bl::placeholder{color:#6B6B6B}.bm{display:inline-block}.bn{margin-left:12px}.bo{margin-right:12px}.bp{border-radius:4px}.bq{height:24px}.bw{background-color:#F9F9F9}.bx{border-radius:50%}.by{height:32px}.bz{width:32px}.ca{flex:1 1 auto}.cb{justify-content:center}.ch{max-width:680px}.ci{min-width:0}.cj{animation:k1 1.2s ease-in-out infinite}.ck{height:100vh}.cl{margin-bottom:16px}.cm{margin-top:48px}.cn{align-items:flex-start}.co{flex-direction:column}.cp{justify-content:space-between}.cq{margin-bottom:24px}.cw{width:80%}.cx{background-color:#F2F2F2}.dd{height:44px}.de{width:44px}.df{margin:auto 0}.dg{margin-bottom:4px}.dh{height:16px}.di{width:120px}.dj{width:80px}.dp{margin-bottom:8px}.dq{width:96%}.dr{width:98%}.ds{width:81%}.dt{margin-left:8px}.du{color:#6B6B6B}.dv{font-size:13px}.dw{height:100%}.ep{color:#FFFFFF}.eq{fill:#FFFFFF}.er{background:rgba(95, 138, 181, 1)}.es{border-color:rgba(95, 138, 181, 1)}.ew:disabled{cursor:inherit !important}.ex:disabled{opacity:0.3}.ey:disabled:hover{background:rgba(95, 138, 181, 1)}.ez:disabled:hover{border-color:rgba(95, 138, 181, 1)}.fa{border-radius:99em}.fb{border-width:1px}.fc{border-style:solid}.fd{box-sizing:border-box}.fe{text-decoration:none}.ff{text-align:center}.fg{margin-left:16px}.fh{border:inherit}.fk{margin-right:32px}.fl{position:relative}.fm{fill:#6B6B6B}.fp{background:transparent}.fq svg{margin-left:4px}.fr svg{fill:#6B6B6B}.ft{box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.05)}.fu{position:absolute}.fw{max-width:100%}.fx{overflow:hidden}.fy{text-overflow:ellipsis}.fz{white-space:nowrap}.ga{border-bottom:1px solid #F2F2F2}.gb{height:3px}.gc{background-color:rgba(95, 138, 181, 1)}.gd{max-width:1192px}.gj{font-weight:500}.gx{margin:0 8px}.gy{display:inline}.gz{font-size:16px}.ha{line-height:24px}.hb{pointer-events:none}.hc{will-change:opacity, transform}.hd{width:calc(100% - 0px)}.hg{opacity:0}.hh{transform:translateY(89px)}.hi{width:148px}.hj{border-radius:2px}.hk{height:38px}.hl{width:38px}.hn{margin-top:16px}.ho{word-break:break-word}.hu{margin:0 24px}.hy{background:rgba(255, 255, 255, 1)}.hz{border:1px solid #F2F2F2}.ia{box-shadow:0 1px 4px #F2F2F2}.ib{max-height:100vh}.ic{overflow-y:auto}.id{left:0}.ie{top:calc(100vh + 100px)}.if{bottom:calc(100vh + 100px)}.ig{width:10px}.ih{word-wrap:break-word}.ii:after{display:block}.ij:after{content:""}.ik:after{clear:both}.il{line-height:1.23}.im{letter-spacing:0}.in{font-style:normal}.io{font-weight:700}.jj{margin-bottom:-0.27em}.jk{line-height:1.394}.kk{gap:12px}.kl{align-items:baseline}.km{width:36px}.kn{height:36px}.ko{border:2px solid rgba(255, 255, 255, 1)}.kp{z-index:0}.kq{box-shadow:none}.kr{border:1px solid rgba(0, 0, 0, 0.05)}.ks{margin-bottom:2px}.kt{flex-wrap:nowrap}.kv{margin-left:2px}.kw{margin-top:1px}.kx{cursor:initial}.ky{width:12px}.kz{flex-wrap:wrap}.la{padding-left:8px}.lb{padding-right:8px}.mc> *{flex-shrink:0}.md{overflow-x:scroll}.me::-webkit-scrollbar{display:none}.mf{scrollbar-width:none}.mg{-ms-overflow-style:none}.mh{width:74px}.mi{flex-direction:row}.mj{z-index:2}.mk{margin-right:4px}.mn{-webkit-user-select:none}.mo{border:0}.mp{fill:rgba(117, 117, 117, 1)}.ms{outline:0}.mt{user-select:none}.mu> svg{pointer-events:none}.nd{cursor:progress}.ne{opacity:1}.nf{padding:4px 0}.ni{margin-top:0px}.nj{width:16px}.nl{display:inline-flex}.nr{padding:8px 2px}.ns svg{color:#6B6B6B}.oj{margin-left:auto}.ok{margin-right:auto}.ol{max-width:1024px}.or{clear:both}.ot{cursor:zoom-in}.ou{z-index:auto}.ow{height:auto}.ox{margin-top:10px}.oy{max-width:728px}.pb{line-height:1.58}.pc{letter-spacing:-0.004em}.pd{font-family:source-serif-pro, Georgia, Cambria, "Times New Roman", Times, serif}.pt{margin-bottom:-0.46em}.pu{list-style-type:disc}.pv{margin-left:30px}.pw{padding-left:0px}.qc{margin-top:32px}.qd{margin-bottom:14px}.qe{padding-top:24px}.qf{padding-bottom:10px}.qg{background-color:#000000}.qh{width:3px}.qi{margin-right:20px}.qj{line-height:1.12}.qk{letter-spacing:-0.022em}.ql{font-weight:600}.rc{margin-bottom:-0.28em}.ri{list-style-type:decimal}.ro{max-width:1920px}.rp{padding-top:5px}.rq{padding-bottom:5px}.rr{line-height:1.18}.rx{margin-bottom:-0.31em}.ry{text-decoration:underline}.rz{overflow-x:auto}.sa{font-family:source-code-pro, Menlo, Monaco, "Courier New", Courier, monospace}.sb{padding:32px}.sc{border:1px solid #E5E5E5}.sd{line-height:1.4}.se{margin-top:-0.2em}.sf{margin-bottom:-0.2em}.sg{white-space:pre}.sh{min-width:fit-content}.si{font-style:italic}.sj{box-shadow:inset 3px 0 0 0 #242424}.sk{padding-left:23px}.sl{margin-left:-20px}.sm{max-width:2234px}.sn{max-width:1456px}.so{max-width:900px}.su{box-shadow:inset 0 0 0 1px #F2F2F2}.sv{padding:0px}.sw{flex:0 0 auto}.sx{padding:16px 20px}.sz{max-height:40px}.ta{display:-webkit-box}.tb{-webkit-line-clamp:2}.tc{-webkit-box-orient:vertical}.te{margin-top:8px}.tf{margin-top:12px}.tg{width:160px}.th{background-image:url(https://miro.medium.com/v2/da:true/resize:fit:320/0*RbO1fw-7Y380mMug)}.ti{background-origin:border-box}.tj{background-size:cover}.tk{height:167px}.tl{background-position:50% 50%}.tm{margin-bottom:26px}.tn{margin-top:6px}.to{margin-right:8px}.tp{padding:8px 16px}.tq{border-radius:100px}.tr{transition:background 300ms ease}.tt{border-top:none}.tu{margin-bottom:50px}.tv{height:52px}.tw{max-height:52px}.tx{box-sizing:content-box}.ty{position:static}.tz{z-index:1}.ub{max-width:155px}.uh{margin-bottom:64px}.ui{margin-bottom:48px}.uv{height:48px}.uw{width:48px}.ux{height:64px}.uy{width:64px}.uz{align-self:flex-end}.vd{padding-right:4px}.vk{white-space:pre-wrap}.vl{margin-top:2px}.vm{margin-bottom:54px}.vn{height:0px}.vo{gap:18px}.vp{fill:rgba(61, 61, 61, 1)}.wb{border-bottom:solid 1px #E5E5E5}.wc{margin-top:72px}.wd{padding:24px 0}.we{margin-bottom:0px}.wf{margin-right:16px}.at:hover:not(:disabled){color:rgba(25, 25, 25, 1)}.au:hover:not(:disabled){fill:rgba(25, 25, 25, 1)}.et:hover{background:rgba(85, 119, 152, 1)}.eu:hover{border-color:rgba(85, 119, 152, 1)}.ev:hover{cursor:pointer}.fn:hover{color:#242424}.fo:hover{fill:#242424}.fs:hover svg{fill:#242424}.fv:hover{background-color:rgba(0, 0, 0, 0.1)}.hm:hover{background-color:none}.ku:hover{text-decoration:underline}.mr:hover{fill:rgba(8, 8, 8, 1)}.ng:hover{fill:#000000}.nh:hover p{color:#000000}.nk:hover{color:#000000}.nt:hover svg{color:#000000}.ts:hover{background-color:#F2F2F2}.vq:hover{fill:rgba(25, 25, 25, 1)}.bd:focus-within path{fill:#242424}.mq:focus{fill:rgba(8, 8, 8, 1)}.nu:focus svg{color:#000000}.ov:focus{transform:scale(1.01)}.mv:active{border-style:none}</style><style type="text/css" data-fela-rehydration="603" data-fela-type="RULE" media="all and (min-width: 1080px)">.e{display:none}.bv{width:64px}.cg{margin:0 64px}.cv{height:48px}.dc{margin-bottom:52px}.do{margin-bottom:48px}.ef{font-size:14px}.eg{line-height:20px}.em{font-size:13px}.eo{padding:5px 12px}.fj{display:flex}.gi{max-width:250px}.gu{font-size:20px}.gv{line-height:24px}.gw{letter-spacing:0}.ht{margin-bottom:50px}.hx{max-width:680px}.jf{font-size:42px}.jg{margin-top:1.19em}.jh{line-height:52px}.ji{letter-spacing:-0.011em}.jx{font-size:22px}.jy{margin-top:0.92em}.jz{line-height:28px}.ki{align-items:center}.kj{flex-direction:row}.lo{border-top:solid 1px #F2F2F2}.lp{border-bottom:solid 1px #F2F2F2}.lq{margin:32px 0 0}.lr{padding:3px 8px}.ma> *{margin-right:24px}.mb> :last-child{margin-right:0}.nc{margin-top:0px}.nq{margin:0}.oq{margin-top:56px}.pq{margin-top:2.14em}.pr{line-height:32px}.ps{letter-spacing:-0.003em}.qb{margin-top:1.14em}.qy{font-size:24px}.qz{margin-top:1.25em}.ra{line-height:30px}.rb{letter-spacing:-0.016em}.rh{margin-top:0.94em}.rn{max-width:1192px}.rw{margin-top:1.72em}.st{margin-top:32px}.ug{display:inline-block}.ul{margin-bottom:0}.um{margin-right:20px}.va{max-width:500px}.vv{margin:40px 0 0}.wa{padding-top:72px}</style><style type="text/css" data-fela-rehydration="603" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.f{display:none}.nb{margin-top:0px}.oz{margin-left:auto}.pa{text-align:center}.uf{display:inline-block}</style><style type="text/css" data-fela-rehydration="603" data-fela-type="RULE" media="all and (max-width: 903.98px)">.g{display:none}.na{margin-top:0px}.ue{display:inline-block}</style><style type="text/css" data-fela-rehydration="603" data-fela-type="RULE" media="all and (max-width: 727.98px)">.h{display:none}.my{margin-top:0px}.mz{margin-right:0px}.sy{padding:10px 12px 10px}.ud{display:inline-block}</style><style type="text/css" data-fela-rehydration="603" data-fela-type="RULE" media="all and (max-width: 551.98px)">.i{display:none}.t{display:flex}.u{justify-content:space-between}.br{width:24px}.cc{margin:0 24px}.cr{height:40px}.cy{margin-bottom:44px}.dk{margin-bottom:32px}.dx{font-size:13px}.dy{line-height:20px}.eh{padding:0px 8px 1px}.ge{max-width:150px}.gk{font-size:16px}.gl{letter-spacing:0}.hp{margin-bottom:2px}.ip{font-size:32px}.iq{margin-top:1.01em}.ir{line-height:38px}.is{letter-spacing:-0.014em}.jl{font-size:18px}.jm{margin-top:0.79em}.jn{line-height:24px}.ka{align-items:flex-start}.kb{flex-direction:column-reverse}.lc{margin:24px -24px 0}.ld{padding:0}.ls> *{margin-right:8px}.lt> :last-child{margin-right:24px}.ml{margin-left:0px}.mw{margin-top:0px}.mx{margin-right:0px}.nm{margin:0}.nv{border:1px solid #F2F2F2}.nw{border-radius:99em}.nx{padding:0px 16px 0px 12px}.ny{height:38px}.nz{align-items:center}.ob svg{margin-right:8px}.om{margin-top:40px}.pe{margin-top:1.56em}.pf{line-height:28px}.pg{letter-spacing:-0.003em}.px{margin-top:1.34em}.qm{font-size:20px}.qn{margin-top:0.93em}.rd{margin-top:0.67em}.rj{max-width:100%}.rs{margin-top:1.23em}.sp{margin-top:24px}.uc{display:inline-block}.uk{flex-direction:column}.ut{margin-bottom:20px}.uu{margin-right:0}.ve{font-size:24px}.vf{line-height:30px}.vg{letter-spacing:-0.016em}.vr{margin:32px 0 0}.vw{padding-top:48px}.oa:hover{border-color:#E5E5E5}</style><style type="text/css" data-fela-rehydration="603" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.j{display:none}.bu{width:64px}.cf{margin:0 64px}.cu{height:48px}.db{margin-bottom:52px}.dn{margin-bottom:48px}.ed{font-size:14px}.ee{line-height:20px}.ek{font-size:13px}.el{padding:5px 12px}.fi{display:flex}.gh{max-width:250px}.gr{font-size:20px}.gs{line-height:24px}.gt{letter-spacing:0}.hs{margin-bottom:50px}.hw{max-width:680px}.jb{font-size:42px}.jc{margin-top:1.19em}.jd{line-height:52px}.je{letter-spacing:-0.011em}.ju{font-size:22px}.jv{margin-top:0.92em}.jw{line-height:28px}.kg{align-items:center}.kh{flex-direction:row}.lk{border-top:solid 1px #F2F2F2}.ll{border-bottom:solid 1px #F2F2F2}.lm{margin:32px 0 0}.ln{padding:3px 8px}.ly> *{margin-right:24px}.lz> :last-child{margin-right:0}.np{margin:0}.op{margin-top:56px}.pn{margin-top:2.14em}.po{line-height:32px}.pp{letter-spacing:-0.003em}.qa{margin-top:1.14em}.qu{font-size:24px}.qv{margin-top:1.25em}.qw{line-height:30px}.qx{letter-spacing:-0.016em}.rg{margin-top:0.94em}.rm{max-width:1192px}.rv{margin-top:1.72em}.ss{margin-top:32px}.un{margin-bottom:0}.uo{margin-right:20px}.vb{max-width:500px}.vu{margin:40px 0 0}.vz{padding-top:72px}</style><style type="text/css" data-fela-rehydration="603" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.k{display:none}.x{display:flex}.y{justify-content:space-between}.bt{width:64px}.ce{margin:0 48px}.ct{height:48px}.da{margin-bottom:52px}.dm{margin-bottom:48px}.eb{font-size:13px}.ec{line-height:20px}.ej{padding:0px 8px 1px}.gg{max-width:250px}.go{font-size:20px}.gp{line-height:24px}.gq{letter-spacing:0}.hr{margin-bottom:50px}.hv{max-width:680px}.ix{font-size:42px}.iy{margin-top:1.19em}.iz{line-height:52px}.ja{letter-spacing:-0.011em}.jr{font-size:22px}.js{margin-top:0.92em}.jt{line-height:28px}.ke{align-items:center}.kf{flex-direction:row}.lg{border-top:solid 1px #F2F2F2}.lh{border-bottom:solid 1px #F2F2F2}.li{margin:32px 0 0}.lj{padding:3px 8px}.lw> *{margin-right:24px}.lx> :last-child{margin-right:0}.no{margin:0}.oo{margin-top:56px}.pk{margin-top:2.14em}.pl{line-height:32px}.pm{letter-spacing:-0.003em}.pz{margin-top:1.14em}.qq{font-size:24px}.qr{margin-top:1.25em}.qs{line-height:30px}.qt{letter-spacing:-0.016em}.rf{margin-top:0.94em}.rl{max-width:100%}.ru{margin-top:1.72em}.sr{margin-top:32px}.up{margin-bottom:0}.uq{margin-right:20px}.vc{max-width:500px}.vt{margin:40px 0 0}.vy{padding-top:72px}</style><style type="text/css" data-fela-rehydration="603" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.l{display:none}.v{display:flex}.w{justify-content:space-between}.bs{width:24px}.cd{margin:0 24px}.cs{height:40px}.cz{margin-bottom:44px}.dl{margin-bottom:32px}.dz{font-size:13px}.ea{line-height:20px}.ei{padding:0px 8px 1px}.gf{max-width:150px}.gm{font-size:16px}.gn{letter-spacing:0}.hq{margin-bottom:2px}.it{font-size:32px}.iu{margin-top:1.01em}.iv{line-height:38px}.iw{letter-spacing:-0.014em}.jo{font-size:18px}.jp{margin-top:0.79em}.jq{line-height:24px}.kc{align-items:flex-start}.kd{flex-direction:column-reverse}.le{margin:24px 0 0}.lf{padding:0}.lu> *{margin-right:8px}.lv> :last-child{margin-right:8px}.mm{margin-left:0px}.nn{margin:0}.oc{border:1px solid #F2F2F2}.od{border-radius:99em}.oe{padding:0px 16px 0px 12px}.of{height:38px}.og{align-items:center}.oi svg{margin-right:8px}.on{margin-top:40px}.ph{margin-top:1.56em}.pi{line-height:28px}.pj{letter-spacing:-0.003em}.py{margin-top:1.34em}.qo{font-size:20px}.qp{margin-top:0.93em}.re{margin-top:0.67em}.rk{max-width:100%}.rt{margin-top:1.23em}.sq{margin-top:24px}.uj{flex-direction:column}.ur{margin-bottom:20px}.us{margin-right:0}.vh{font-size:24px}.vi{line-height:30px}.vj{letter-spacing:-0.016em}.vs{margin:32px 0 0}.vx{padding-top:48px}.oh:hover{border-color:#E5E5E5}</style><style type="text/css" data-fela-rehydration="603" data-fela-type="RULE" media="print">.ua{display:none}</style><style type="text/css" data-fela-rehydration="603" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.he{transition:opacity 200ms}.os{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}</style><style type="text/css" data-fela-rehydration="603" data-fela-type="RULE" media="all and (max-width: 1232px)">.hf{display:none}</style><style type="text/css" data-fela-rehydration="603" data-fela-type="RULE" media="(orientation: landscape) and (max-width: 903.98px)">.td{max-height:none}</style><link rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/v2/resize:fill:152:152/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156" data-rh="true"><link rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/v2/resize:fill:120:120/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156" data-rh="true"><link rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/v2/resize:fill:76:76/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156" data-rh="true"><link rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/v2/resize:fill:60:60/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156" data-rh="true"><link rel="mask-icon" href="https://miro.medium.com/v2/resize:fill:500:500/7*GAOKVe--MXbEJmV9230oOQ.png" color="#171717" data-rh="true"><script type="text/javascript" async="" src="https://www.googletagmanager.com/gtag/js?id=AW-17106321204&amp;cx=c&amp;gtm=45je5791v9123887712za200&amp;tag_exp=101509157~103116026~103200004~103233427~103351869~103351871~104573694~104684208~104684211~104732253~104732255~104908318~104908320~104909302~104909304~104935091~104935093"></script><script type="text/javascript" async="" charset="utf-8" src="https://www.gstatic.com/recaptcha/releases/_cn5mBoBXIA0_T7xBjxkUqUA/recaptcha__en.js" crossorigin="anonymous" integrity="sha384-/ILBq7Rf7jA0CLWzfC5SIIkhImlHzZiEPgrCxq+PnZmvQGn/khw81itGKoHNsX5D"></script><script async="" src="https://cdn.branch.io/branch-latest.min.js"></script><script type="application/ld+json" data-rh="true">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fv2\u002Fresize:fit:1200\u002F1*mm9nB9FZq-u5alVd_chwyg.png"],"url":"https:\u002F\u002Fmedium.com\u002Fdecodingml\u002Fa-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0","dateCreated":"2024-03-30T14:02:03.124Z","datePublished":"2024-03-30T14:02:03.124Z","dateModified":"2024-11-29T13:03:23.940Z","headline":"Real-time Retrieval for RAG on Social Media Data | Decoding ML","name":"Real-time Retrieval for RAG on Social Media Data | Decoding ML","description":"Use Bytewax to build a streaming real-time pipeline to populate a Qdrant vector DB. Implement a RAG retrieval client using rerank. Visualize using UMAP.","identifier":"9cc01d50a2a0","author":{"@type":"Person","name":"Paul Iusztin","url":"https:\u002F\u002Fpauliusztin.medium.com"},"creator":["Paul Iusztin"],"publisher":{"@type":"Organization","name":"Decoding ML","url":"https:\u002F\u002Fmedium.com\u002Fdecodingml","logo":{"@type":"ImageObject","width":59,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fv2\u002Fresize:fit:59\u002F1*26Oyys83TRIKEtdUM1uZRA.png"}},"mainEntityOfPage":"https:\u002F\u002Fmedium.com\u002Fdecodingml\u002Fa-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0"}</script><script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-7JY7T788PK" data-rh="true"></script><script data-rh="true">window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-7JY7T788PK');
            gtag('config', 'AW-17106321204');</script><script type="text/javascript" data-rh="true">(function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener banner closeBanner closeJourney data deepview deepviewCta first init link logout removeListener setBranchViewData setIdentity track trackCommerceEvent logEvent disableTracking getBrowserFingerprintId crossPlatformIds lastAttributedTouchData setAPIResponseCallback qrCode setRequestMetaData setAPIUrl getAPIUrl setDMAParamsForEEA".split(" "), 0);
branch.init('key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm', {'no_journeys': true, 'disable_exit_animation': true, 'disable_entry_animation': true, 'tracking_disabled': null}, function(err, data) {});</script><script src="https://www.google.com/recaptcha/enterprise.js?render=6Le-uGgpAAAAAPprRaokM8AKthQ9KNGdoxaGUvVp" data-rh="true"></script><style id="googleidentityservice_button_styles">.qJTHM{-webkit-user-select:none;color:#202124;direction:ltr;-webkit-touch-callout:none;font-family:"Roboto-Regular",arial,sans-serif;-webkit-font-smoothing:antialiased;font-weight:400;margin:0;overflow:hidden;-webkit-text-size-adjust:100%}.ynRLnc{left:-9999px;position:absolute;top:-9999px}.L6cTce{display:none}.bltWBb{word-break:break-all}.hSRGPd{color:#1a73e8;cursor:pointer;font-weight:500;text-decoration:none}.Bz112c-W3lGp{height:16px;width:16px}.Bz112c-E3DyYd{height:20px;width:20px}.Bz112c-r9oPif{height:24px;width:24px}.Bz112c-r4WDKb{height:42px;width:42px}.Bz112c-uaxL4e{-webkit-border-radius:10px;border-radius:10px}.LgbsSe-Bz112c{display:block}.S9gUrf-YoZ4jf,.S9gUrf-YoZ4jf *{border:none;margin:0;padding:0}.fFW7wc-ibnC6b>.aZ2wEe>div{border-color:#4285f4}.P1ekSe-ZMv3u>div:nth-child(1){background-color:#1a73e8!important}.P1ekSe-ZMv3u>div:nth-child(2),.P1ekSe-ZMv3u>div:nth-child(3){background-image:linear-gradient(to right,rgba(255,255,255,.7),rgba(255,255,255,.7)),linear-gradient(to right,#1a73e8,#1a73e8)!important}.haAclf{display:inline-block}.nsm7Bb-HzV7m-LgbsSe{-webkit-border-radius:4px;border-radius:4px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:background-color .218s,border-color .218s;transition:background-color .218s,border-color .218s;-webkit-user-select:none;-webkit-appearance:none;background-color:#fff;background-image:none;border:1px solid #dadce0;color:#3c4043;cursor:pointer;font-family:"Google Sans",arial,sans-serif;font-size:14px;height:40px;letter-spacing:0.25px;outline:none;overflow:hidden;padding:0 12px;position:relative;text-align:center;vertical-align:middle;white-space:nowrap;width:auto}@media screen and (-ms-high-contrast:active){.nsm7Bb-HzV7m-LgbsSe{border:2px solid windowText;color:windowText}}@media screen and (preferes-contrast:more){.nsm7Bb-HzV7m-LgbsSe{color:#000}}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe{font-size:14px;height:32px;letter-spacing:0.25px;padding:0 10px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe{font-size:11px;height:20px;letter-spacing:0.3px;padding:0 8px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe{padding:0;width:40px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.pSzOP-SxQuSe{width:32px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.purZT-SxQuSe{width:20px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK{-webkit-border-radius:20px;border-radius:20px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK.pSzOP-SxQuSe{-webkit-border-radius:16px;border-radius:16px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK.purZT-SxQuSe{-webkit-border-radius:10px;border-radius:10px}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc{border:none;color:#fff}.nsm7Bb-HzV7m-LgbsSe.MFS4be-v3pZbf-Ia7Qfc{background-color:#1a73e8}.nsm7Bb-HzV7m-LgbsSe.MFS4be-JaPV2b-Ia7Qfc{background-color:#202124;color:#e8eaed}@media screen and (prefers-contrast:more){.nsm7Bb-HzV7m-LgbsSe.MFS4be-JaPV2b-Ia7Qfc{color:#fff}}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:18px;margin-right:8px;min-width:18px;width:18px}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:14px;min-width:14px;width:14px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:10px;min-width:10px;width:10px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin-left:8px;margin-right:-4px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin:0;padding:10px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{padding:8px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{padding:4px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-top-left-radius:3px;border-top-left-radius:3px;-webkit-border-bottom-left-radius:3px;border-bottom-left-radius:3px;display:-webkit-box;display:-webkit-flex;display:flex;justify-content:center;-webkit-align-items:center;align-items:center;background-color:#fff;height:36px;margin-left:-10px;margin-right:12px;min-width:36px;width:36px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf .nsm7Bb-HzV7m-LgbsSe-Bz112c,.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin:0;padding:0}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{height:28px;margin-left:-8px;margin-right:10px;min-width:28px;width:28px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{height:16px;margin-left:-6px;margin-right:8px;min-width:16px;width:16px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:3px;border-radius:3px;margin-left:2px;margin-right:0;padding:0}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:18px;border-radius:18px}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:14px;border-radius:14px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:8px;border-radius:8px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-bN97Pc-sM5MNb{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-flex-direction:row;flex-direction:row;justify-content:space-between;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;height:100%;position:relative;width:100%}.nsm7Bb-HzV7m-LgbsSe .oXtfBe-l4eHX{justify-content:center}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-BPrWId{-webkit-flex-grow:1;flex-grow:1;font-family:"Google Sans",arial,sans-serif;font-weight:500;overflow:hidden;text-overflow:ellipsis;vertical-align:top}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-BPrWId{font-weight:300}.nsm7Bb-HzV7m-LgbsSe .oXtfBe-l4eHX .nsm7Bb-HzV7m-LgbsSe-BPrWId{-webkit-flex-grow:0;flex-grow:0}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-MJoBVe{-webkit-transition:background-color .218s;transition:background-color .218s;bottom:0;left:0;position:absolute;right:0;top:0}.nsm7Bb-HzV7m-LgbsSe:hover,.nsm7Bb-HzV7m-LgbsSe:focus{-webkit-box-shadow:none;box-shadow:none;border-color:rgb(210,227,252);outline:none}.nsm7Bb-HzV7m-LgbsSe:focus-within{outline:2px solid #00639b;border-color:transparent}.nsm7Bb-HzV7m-LgbsSe:hover .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(66,133,244,.08)}.nsm7Bb-HzV7m-LgbsSe:active .nsm7Bb-HzV7m-LgbsSe-MJoBVe,.nsm7Bb-HzV7m-LgbsSe:focus .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(66,133,244,.1)}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:hover .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(255,255,255,.24)}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:active .nsm7Bb-HzV7m-LgbsSe-MJoBVe,.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:focus .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(255,255,255,.32)}.nsm7Bb-HzV7m-LgbsSe .n1UuX-DkfjY{-webkit-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:flex;height:20px;margin-left:-4px;margin-right:8px;min-width:20px;width:20px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId{font-family:"Roboto";font-size:12px;text-align:left}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .ssJRIf,.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff .fmcmS{overflow:hidden;text-overflow:ellipsis}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;color:#5f6368;fill:#5f6368;font-size:11px;font-weight:400}.nsm7Bb-HzV7m-LgbsSe.jVeSEe.MFS4be-Ia7Qfc .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff{color:#e8eaed;fill:#e8eaed}@media screen and (prefers-contrast:more){.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff,.nsm7Bb-HzV7m-LgbsSe.jVeSEe.MFS4be-Ia7Qfc .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff{color:#000;fill:#000}}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff .Bz112c{height:18px;margin:-3px -3px -3px 2px;min-width:18px;width:18px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-top-left-radius:0;border-top-left-radius:0;-webkit-border-bottom-left-radius:0;border-bottom-left-radius:0;-webkit-border-top-right-radius:3px;border-top-right-radius:3px;-webkit-border-bottom-right-radius:3px;border-bottom-right-radius:3px;margin-left:12px;margin-right:-10px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:18px;border-radius:18px}.L5Fo6c-sM5MNb{border:0;display:block;left:0;position:relative;top:0}.L5Fo6c-bF1uUb{-webkit-border-radius:4px;border-radius:4px;bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0}.L5Fo6c-bF1uUb:focus{border:none;outline:none}sentinel{}</style></head><body><div id="root"><div class="a b c"><a href="/sitemap/sitemap.xml" class="d">Sitemap</a><div class="e f g h i j k l"></div><script>document.domain = document.domain;</script><div><script>if (window.self !== window.top) window.location = "about:blank"</script></div><div class="m c"><div class="m n o p c" style="transform: translateY(0px);"><div class="q r s t u v w x y j e z ab"><a class="du ah dv bf al b an ao ap aq ar as at au t v x j e r dw ab" href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F9cc01d50a2a0&amp;%7Efeature=LoOpenInAppButton&amp;%7Echannel=ShowPostUnderCollection&amp;%7Estage=mobileNavBar&amp;source=post_page---top_nav_layout_nav-----------------------------------------" rel="noopener follow">Open in app<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="none" viewBox="0 0 10 10" class="dt"><path fill="currentColor" d="M.985 8.485a.375.375 0 1 0 .53.53zM8.75 1.25h.375A.375.375 0 0 0 8.75.875zM8.375 6.5a.375.375 0 1 0 .75 0zM3.5.875a.375.375 0 1 0 0 .75zm-1.985 8.14 7.5-7.5-.53-.53-7.5 7.5zm6.86-7.765V6.5h.75V1.25zM3.5 1.625h5.25v-.75H3.5z"></path></svg></a><div class="ac r"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><button class="bf b dx dy eh dz ea ei eb ec ej ek ee el em eg eo ep eq er es et eu ev ew ex ey ez fa fb fc fd bm fe ff" data-testid="headerSignUpButton">Sign up</button></span></p><div class="fg m"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" data-testid="headerSignInButton" rel="noopener follow" href="/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2Fdecodingml%2Fa-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0&amp;source=post_page---top_nav_layout_nav-----------------------global_nav------------------" data-discover="true">Sign in</a></span></p></div></div></div><div class="q r s ac ae"><div class="ac r af"><a class="ag ah ai aj ak al am an ao ap aq ar as at au ac" aria-label="Homepage" data-testid="headerMediumLogo" rel="noopener follow" href="/?source=post_page---top_nav_layout_nav-----------------------------------------" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="719" height="160" fill="none" aria-labelledby="wordmark-medium-desc" viewBox="0 0 719 160" class="av aw ax"><desc id="wordmark-medium-desc">Medium Logo</desc><path fill="#242424" d="m174.104 9.734.215-.047V8.02H130.39L89.6 103.89 48.81 8.021H1.472v1.666l.212.047c8.018 1.81 12.09 4.509 12.09 14.242V137.93c0 9.734-4.087 12.433-12.106 14.243l-.212.047v1.671h32.118v-1.665l-.213-.048c-8.018-1.809-12.089-4.509-12.089-14.242V30.586l52.399 123.305h2.972l53.925-126.743V140.75c-.687 7.688-4.721 10.062-11.982 11.701l-.215.05v1.652h55.948v-1.652l-.215-.05c-7.269-1.639-11.4-4.013-12.087-11.701l-.037-116.774h.037c0-9.733 4.071-12.432 12.087-14.242m25.555 75.488c.915-20.474 8.268-35.252 20.606-35.507 3.806.063 6.998 1.312 9.479 3.714 5.272 5.118 7.751 15.812 7.368 31.793zm-.553 5.77h65.573v-.275c-.186-15.656-4.721-27.834-13.466-36.196-7.559-7.227-18.751-11.203-30.507-11.203h-.263c-6.101 0-13.584 1.48-18.909 4.16-6.061 2.807-11.407 7.003-15.855 12.511-7.161 8.874-11.499 20.866-12.554 34.343q-.05.606-.092 1.212a50 50 0 0 0-.065 1.151 85.807 85.807 0 0 0-.094 5.689c.71 30.524 17.198 54.917 46.483 54.917 25.705 0 40.675-18.791 44.407-44.013l-1.886-.664c-6.557 13.556-18.334 21.771-31.738 20.769-18.297-1.369-32.314-19.922-31.042-42.395m139.722 41.359c-2.151 5.101-6.639 7.908-12.653 7.908s-11.513-4.129-15.418-11.63c-4.197-8.053-6.405-19.436-6.405-32.92 0-28.067 8.729-46.22 22.24-46.22 5.657 0 10.111 2.807 12.236 7.704zm43.499 20.008c-8.019-1.897-12.089-4.722-12.089-14.951V1.309l-48.716 14.353v1.757l.299-.024c6.72-.543 11.278.386 13.925 2.83 2.072 1.915 3.082 4.853 3.082 8.987v18.66c-4.803-3.067-10.516-4.56-17.448-4.56-14.059 0-26.909 5.92-36.176 16.672-9.66 11.205-14.767 26.518-14.767 44.278-.003 31.72 15.612 53.039 38.851 53.039 13.595 0 24.533-7.449 29.54-20.013v16.865h43.711v-1.746zM424.1 19.819c0-9.904-7.468-17.374-17.375-17.374-9.859 0-17.573 7.632-17.573 17.374s7.721 17.374 17.573 17.374c9.907 0 17.375-7.47 17.375-17.374m11.499 132.546c-8.019-1.897-12.089-4.722-12.089-14.951h-.035V43.635l-43.714 12.551v1.705l.263.024c9.458.842 12.047 4.1 12.047 15.152v81.086h43.751v-1.746zm112.013 0c-8.018-1.897-12.089-4.722-12.089-14.951V43.635l-41.621 12.137v1.71l.246.026c7.733.813 9.967 4.257 9.967 15.36v59.279c-2.578 5.102-7.415 8.131-13.274 8.336-9.503 0-14.736-6.419-14.736-18.073V43.638l-43.714 12.55v1.703l.262.024c9.459.84 12.05 4.097 12.05 15.152v50.17a56.3 56.3 0 0 0 .91 10.444l.787 3.423c3.701 13.262 13.398 20.197 28.59 20.197 12.868 0 24.147-7.966 29.115-20.43v17.311h43.714v-1.747zm169.818 1.788v-1.749l-.213-.05c-8.7-2.006-12.089-5.789-12.089-13.49v-63.79c0-19.89-11.171-31.761-29.883-31.761-13.64 0-25.141 7.882-29.569 20.16-3.517-13.01-13.639-20.16-28.606-20.16-13.146 0-23.449 6.938-27.869 18.657V43.643L545.487 55.68v1.715l.263.024c9.345.829 12.047 4.181 12.047 14.95v81.784h40.787v-1.746l-.215-.053c-6.941-1.631-9.181-4.606-9.181-12.239V66.998c1.836-4.289 5.537-9.37 12.853-9.37 9.086 0 13.692 6.296 13.692 18.697v77.828h40.797v-1.746l-.215-.053c-6.94-1.631-9.18-4.606-9.18-12.239V75.066a42 42 0 0 0-.578-7.26c1.947-4.661 5.86-10.177 13.475-10.177 9.214 0 13.691 6.114 13.691 18.696v77.828z"></path></svg></a><div class="ay i"><div class="ac aj az ba bb r bc bd"><div class="bm" aria-hidden="false" aria-describedby="searchResults" aria-labelledby="searchResults"></div><div class="bn bo ac"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.092 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0m6.95-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .79-.79l-3.73-3.73A8.05 8.05 0 0 0 11.042 3z" clip-rule="evenodd"></path></svg></div><input role="combobox" aria-controls="searchResults" aria-expanded="false" aria-label="search" data-testid="headerSearchInput" tabindex="0" class="aj be bf bg ab bh bi bj bk bl" placeholder="Search" value=""></div></div></div><div class="i l x fi fj"><div class="fk ac"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" data-testid="headerWriteButton" rel="noopener follow" href="/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fnew-story&amp;source=---top_nav_layout_nav-----------------------new_post_topnav------------------" data-discover="true"><div class="bf b bg ab du fl fm ac r fn fo"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-label="Write"><path fill="currentColor" d="M14 4a.5.5 0 0 0 0-1zm7 6a.5.5 0 0 0-1 0zm-7-7H4v1h10zM3 4v16h1V4zm1 17h16v-1H4zm17-1V10h-1v10zm-1 1a1 1 0 0 0 1-1h-1zM3 20a1 1 0 0 0 1 1v-1zM4 3a1 1 0 0 0-1 1h1z"></path><path stroke="currentColor" d="m17.5 4.5-8.458 8.458a.25.25 0 0 0-.06.098l-.824 2.47a.25.25 0 0 0 .316.316l2.47-.823a.25.25 0 0 0 .098-.06L19.5 6.5m-2-2 2.323-2.323a.25.25 0 0 1 .354 0l1.646 1.646a.25.25 0 0 1 0 .354L19.5 6.5m-2-2 2 2"></path></svg><div class="dt m">Write</div></div></a></span></div></div><div class="l k j e"><div class="fk ac"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" data-testid="headerSearchButton" rel="noopener follow" href="/search?source=post_page---top_nav_layout_nav-----------------------------------------" data-discover="true"><div class="bf b bg ab du fl fm ac r fn fo"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-label="Search"><path fill="currentColor" fill-rule="evenodd" d="M4.092 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0m6.95-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .79-.79l-3.73-3.73A8.05 8.05 0 0 0 11.042 3z" clip-rule="evenodd"></path></svg></div></a></div></div><div class="fk i l k"><div class="ac r"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><button class="bf b dx dy eh dz ea ei eb ec ej ek ee el em eg eo ep eq er es et eu ev ew ex ey ez fa fb fc fd bm fe ff" data-testid="headerSignUpButton">Sign up</button></span></p><div class="fg m"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" data-testid="headerSignInButton" rel="noopener follow" href="/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2Fdecodingml%2Fa-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0&amp;source=post_page---top_nav_layout_nav-----------------------global_nav------------------" data-discover="true">Sign in</a></span></p></div></div></div><div class="m" aria-hidden="false"><button class="aj fp an ac r ap fl fq fr fs" aria-label="user options menu" data-testid="headerUserIcon"><div class="m fl"><img alt="" class="m fd bx by bz cx" src="https://miro.medium.com/v2/resize:fill:32:32/1*dmbNkD5D-u45r44go_cf0g.png" width="32" height="32" loading="lazy" role="presentation"><div class="ft bx m by bz fu o aj fv"></div></div></button></div></div></div><div class="ac"><div class="sw" style="width: 0px;"></div><div class="ca bh" style="width: calc(100% + 0px);"><div class="m"><div><div class="ga bh m"><div class="gb bh gc"></div><div class="ac cb"><div class="cc cd ce cf cg gd ci bh"><div class="ae ac r"><div class="ge gf gg gh gi m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" href="https://medium.com/decodingml?source=post_page---publication_nav-57b7a1f365ee-9cc01d50a2a0---------------------------------------" rel="noopener follow"><h2 class="bf gj gk dy gl gm ea gn go gp gq gr gs gt gu gv gw bk"><div class="fw fx fy fz">Decoding ML</div></h2></a></div><div class="t v k j e"><span class="gx gy" aria-hidden="true"><span class="bf b gz ha bk">·</span></span><p class="bf b gz ha bk"><span><a class="ag ah ai fh ak al am an ao ap aq ar as ry" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Fdecodingml&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdecodingml%2Fa-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0&amp;collection=Decoding+ML&amp;collectionId=57b7a1f365ee&amp;source=post_page---publication_nav-57b7a1f365ee-9cc01d50a2a0---------------------publication_nav------------------" data-discover="true">Follow publication</a></span></p></div></div></div></div></div></div><div class="ua" role="dialog" aria-modal="true" tabindex="-1"><div class="zd ze bh dw wq zf wm ap hg hb zg" aria-hidden="true" role="presentation"></div><div class="zh wq zi zj zk zd dw fd zl zm zn ne zo zp wr zq zr zs zt zu zv zw ac co zx" aria-hidden="true"><div class="zy ic"></div></div></div><div class="hb fu hc hd o he hf ne zz"><div class="ac cb"><div class="cc cd ce cf cg gd ci bh"><div class="hi m"><div class="aba"><div class="ac cn co"><a href="https://medium.com/decodingml?source=post_page---post_publication_sidebar-57b7a1f365ee-9cc01d50a2a0---------------------------------------" rel="noopener follow"><div class="fl"><img alt="Decoding ML" class="cx hj m hl hk" src="https://miro.medium.com/v2/resize:fill:38:38/1*26Oyys83TRIKEtdUM1uZRA.png" width="38" height="38" loading="lazy"><div class="hj m hk hl fu o ft hm"></div></div></a><div class="hn m"></div><p class="bf b bg ab du"><span class="ho">Battle-tested content on designing, coding, and deploying production-grade ML &amp; MLOps systems. The hub for continuous learning on ML system design, ML engineering, MLOps, large language models (LLMs), and computer vision (CV).</span></p><div class="hn m"></div><p class="bf b bg ab bk"><span><a class="ag ah ai fh ak al am an ao ap aq ar as ry" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Fdecodingml&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdecodingml%2Fa-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0&amp;collection=Decoding+ML&amp;collectionId=57b7a1f365ee&amp;source=post_page---post_publication_sidebar-57b7a1f365ee-9cc01d50a2a0---------------------post_publication_sidebar------------------" data-discover="true">Follow publication</a></span></p></div></div></div></div></div></div><div class="hp hq hr hs ht m"><div class="ac cb"><div class="ci bh hu hv hw hx"></div></div><article><div class="m"><div class="m"><span class="m"></span><section><div><div class="fu id abb if ig hb"></div><div class="ho ih ii ij ik"><div class="ac cb"><div class="ci bh hu hv hw hx"><div><h1 id="6f6d" class="pw-post-title il im in bf io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bk" data-testid="storyTitle" data-selectable-paragraph="">A Real-time Retrieval System for RAG on Social Media Data</h1></div><div><h2 id="37c8" class="pw-subtitle-paragraph jk im in bf b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz cq du" data-selectable-paragraph="">Use a streaming engine to populate a vector DB in real-time. Improve RAG accuracy using rerank &amp; UMAP.</h2><div><div class="speechify-ignore ac cp"><div class="speechify-ignore bh m"><div class="ac ka kb kc kd ke kf kg kh ki kj kk"><div class="ac r kk"><div class="ac kl"><div><div class="bm" aria-hidden="false" aria-describedby="1" aria-labelledby="1"><div tabindex="-1" class="be"><a rel="noopener follow" href="/@pauliusztin?source=post_page---byline--9cc01d50a2a0---------------------------------------" data-discover="true"><div class="m km kn bx ko kp"><div class="m fl"><img alt="Paul Iusztin" class="m fd bx by bz cx" src="https://miro.medium.com/v2/resize:fill:32:32/1*r3Geug_sW6weKSvaqBJtAA.jpeg" width="32" height="32" loading="lazy" data-testid="authorPhoto"><div class="kq bx m by bz fu o kr fv"></div></div></div></a></div></div></div></div><span class="bf b bg ab bk"><div class="ks ac r"><div class="ac r kt"><div class="ac r"><div><div class="bm" aria-hidden="false" aria-describedby="2" aria-labelledby="2"><div tabindex="-1" class="be"><span class="bf b bg ab bk"><a class="ag ah ai fh ak al am an ao ap aq ar as ku" data-testid="authorName" rel="noopener follow" href="/@pauliusztin?source=post_page---byline--9cc01d50a2a0---------------------------------------" data-discover="true">Paul Iusztin</a></span></div></div></div></div><div class="kv kw m"><div class="ac kx"><div class="ac"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#437AFF" d="M15.163 8c0 .65-.459 1.144-.863 1.575-.232.244-.471.5-.563.719s-.086.543-.092.875c-.006.606-.018 1.3-.49 1.781-.47.481-1.15.494-1.744.5-.324.006-.655.013-.857.094s-.465.337-.704.575c-.422.412-.906.881-1.542.881-.637 0-1.12-.469-1.543-.881-.239-.238-.49-.482-.704-.575-.214-.094-.532-.088-.857-.094-.593-.006-1.273-.019-1.744-.5s-.484-1.175-.49-1.781c-.006-.332-.012-.669-.092-.875-.08-.207-.33-.475-.563-.719-.404-.431-.863-.925-.863-1.575s.46-1.144.863-1.575c.233-.244.472-.5.563-.719.092-.219.086-.544.092-.875.006-.606.019-1.3.49-1.781s1.15-.494 1.744-.5c.325-.006.655-.012.857-.094.202-.081.465-.337.704-.575C7.188 1.47 7.671 1 8.308 1s1.12.469 1.542.881c.239.238.49.481.704.575s.533.088.857.094c.594.006 1.273.019 1.745.5.47.481.483 1.175.49 1.781.005.331.011.669.091.875s.33.475.563.719c.404.431.863.925.863 1.575"></path><path fill="#fff" d="M7.328 10.5c.195 0 .381.08.519.22.137.141.215.331.216.53 0 .066.026.13.072.177a.24.24 0 0 0 .346 0 .25.25 0 0 0 .071-.177c.001-.199.079-.389.216-.53a.73.73 0 0 1 .519-.22h1.959c.13 0 .254-.053.346-.146a.5.5 0 0 0 .143-.354V6a.5.5 0 0 0-.143-.354.49.49 0 0 0-.346-.146h-1.47c-.324 0-.635.132-.865.366-.23.235-.359.552-.359.884v2.5c0 .066-.025.13-.071.177a.24.24 0 0 1-.346 0 .25.25 0 0 1-.072-.177v-2.5c0-.332-.13-.65-.359-.884A1.21 1.21 0 0 0 6.84 5.5h-1.47a.49.49 0 0 0-.346.146A.5.5 0 0 0 4.88 6v4c0 .133.051.26.143.354a.49.49 0 0 0 .347.146z"></path></svg></div></div></div><div class="ky bm"></div><div class="bm" aria-hidden="false"><button class="abv yt ap ac cb r acb acc acd" style="border: 1px solid rgb(36, 36, 36);"><span class="bf b bg ab bk bh"><span class="bm ace">Follow</span></span></button></div></div></div></span></div><div class="ac r kz"><span class="bf b bg ab du"><div class="ac af"><span data-testid="storyReadTime">12 min read</span><div class="la lb m" aria-hidden="true"><span class="m" aria-hidden="true"><span class="bf b bg ab du">·</span></span></div><span data-testid="storyPublishDate">Mar 30, 2024</span></div></span></div></div><div class="ac cp lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr"><div class="i l x fi fj r"><div class="mh m"><div class="ac r mi mj"><div class="pw-multi-vote-icon fl mk ml mm mn"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" data-testid="headerClapButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fdecodingml%2F9cc01d50a2a0&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdecodingml%2Fa-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0&amp;user=Paul+Iusztin&amp;userId=8323de62a1a1&amp;source=---header_actions--9cc01d50a2a0---------------------clap_footer------------------" data-discover="true"><div><div class="bm" aria-hidden="false" aria-describedby="3" aria-labelledby="3"><div tabindex="-1" class="be"><div class="mo ap mp mq mr ms an mt mu mv mn" role="presentation"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></div></div></div></div></a></span></div><div class="pw-multi-vote-count m mw mx my mz na nb nc"><div><div class="bm" aria-hidden="false" aria-describedby="86" aria-labelledby="86"><div tabindex="-1" class="be"><p class="bf b dv ab du"><button class="ag ah ai fh ak al am an ao ap aq ar as at au acf nk">323<span class="m i h g uf ug"></span></button></p></div></div></div></div></div></div><div><div class="bm" aria-hidden="false" aria-describedby="4" aria-labelledby="4"><div tabindex="-1" class="be"><button class="ap mo ne nf ac r fm ng nh" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="ni"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"></path></svg></button></div></div></div></div><div class="ac r ls lt lu lv lw lx ly lz ma mb mc md me mf mg"><div class="nj l k j e"></div><div class="i l"><div><div class="bm" aria-hidden="false" aria-describedby="5" aria-labelledby="5"><div tabindex="-1" class="be"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" data-testid="headerBookmarkButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9cc01d50a2a0&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdecodingml%2Fa-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0&amp;source=---header_actions--9cc01d50a2a0---------------------bookmark_footer------------------" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du nk" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div></div><div class="fd nl cn"><div class="m af"><div class="ac cb"><div class="nm nn no np nq fw ci bh"><div class="ac"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2Fplans%3Fdimension%3Dpost_audio_button%26postId%3D9cc01d50a2a0&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdecodingml%2Fa-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0&amp;source=---header_actions--9cc01d50a2a0---------------------post_audio_button------------------" data-discover="true"><div><div class="bm" aria-hidden="false" aria-describedby="108" aria-labelledby="108"><div tabindex="-1" class="be"><button aria-label="Listen" data-testid="audioPlayButton" class="ag fm ai fh ak al am nr ao ap aq ex ns nt nh nu nv nw nx ny t nz oa ob oc od oe of v og oh oi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"></path></svg><div class="k j e"><p class="bf b bg ab du">Listen</p></div></button></div></div></div></a></span></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false" aria-describedby="7" aria-labelledby="7"><div tabindex="-1" class="be"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="ag fm ai fh ak al am nr ao ap aq ex ns nt nh nu nv nw nx ny t nz oa ob oc od oe of v og oh oi"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"></path></svg><div class="k j e"><p class="bf b bg ab du">Share</p></div></button></div></div></div></div></div></div></div></div></div></div><figure class="om on oo op oq or oj ok paragraph-image"><div role="button" tabindex="0" class="os ot fl ou bh ov"><div class="oj ok ol"><picture><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/1*mm9nB9FZq-u5alVd_chwyg.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*mm9nB9FZq-u5alVd_chwyg.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*mm9nB9FZq-u5alVd_chwyg.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*mm9nB9FZq-u5alVd_chwyg.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*mm9nB9FZq-u5alVd_chwyg.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*mm9nB9FZq-u5alVd_chwyg.png 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mm9nB9FZq-u5alVd_chwyg.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/1*mm9nB9FZq-u5alVd_chwyg.png 640w, https://miro.medium.com/v2/resize:fit:720/1*mm9nB9FZq-u5alVd_chwyg.png 720w, https://miro.medium.com/v2/resize:fit:750/1*mm9nB9FZq-u5alVd_chwyg.png 750w, https://miro.medium.com/v2/resize:fit:786/1*mm9nB9FZq-u5alVd_chwyg.png 786w, https://miro.medium.com/v2/resize:fit:828/1*mm9nB9FZq-u5alVd_chwyg.png 828w, https://miro.medium.com/v2/resize:fit:1100/1*mm9nB9FZq-u5alVd_chwyg.png 1100w, https://miro.medium.com/v2/resize:fit:1400/1*mm9nB9FZq-u5alVd_chwyg.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"><img alt="" class="bh fw ow c" width="700" height="700" loading="eager" role="presentation" src="https://miro.medium.com/v2/resize:fit:700/1*mm9nB9FZq-u5alVd_chwyg.png"></picture></div></div><figcaption class="ox ff oy oj ok oz pa bf b bg ab du" data-selectable-paragraph="">Image by DALL-E</figcaption></figure><p id="193c" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">In this article, you will learn how to build a real-time retrieval system for social media data. In our example, we will use only my LinkedIn posts, but our implementation can easily be extended to other platforms supporting written content, such as X, Instagram, or Medium.</p><p id="715e" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph=""><strong class="pd io">In this article, you will learn how to:</strong></p><ul class=""><li id="0157" class="pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt pu pv pw bk" data-selectable-paragraph="">build a streaming pipeline that ingests LinkedIn posts into a vector DB in real-time</li><li id="cc5f" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt pu pv pw bk" data-selectable-paragraph="">clean, chunk, and embed LinkedIn posts</li><li id="3bae" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt pu pv pw bk" data-selectable-paragraph="">build a retrieval client to query LinkedIn posts</li><li id="b5b5" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt pu pv pw bk" data-selectable-paragraph="">use a rerank pattern to improve retrieval accuracy</li><li id="c8bd" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt pu pv pw bk" data-selectable-paragraph="">visualize content retrieved for a given query in a 2D plot using UMAP</li></ul><p id="66bc" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Our implementation focuses on just the retrieval part of an RAG system. But you can quickly hook the retrieved LinkedIn posts to an LLM for post analysis or personalized content generation.</p></div></div></div><div class="ac cb qc qd qe qf" role="separator"><span class="qg bx bm gb qh qi"></span><span class="qg bx bm gb qh qi"></span><span class="qg bx bm gb qh"></span></div><div class="ho ih ii ij ik"><div class="ac cb"><div class="ci bh hu hv hw hx"><h1 id="7d75" class="qj qk in bf ql qm qn jn gl qo qp jq gn qq qr qs qt qu qv qw qx qy qz ra rb rc bk" data-selectable-paragraph="">Table of Contents:</h1><ol class=""><li id="1032" class="pb pc in pd b jl rd pf pg jo re pi pj go rf pl pm gr rg po pp gu rh pr ps pt ri pv pw bk" data-selectable-paragraph="">System Design</li><li id="1ca0" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt ri pv pw bk" data-selectable-paragraph="">Data</li><li id="4f4e" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt ri pv pw bk" data-selectable-paragraph="">Streaming ingestion pipeline</li><li id="4574" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt ri pv pw bk" data-selectable-paragraph="">Retrieval client</li><li id="feec" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt ri pv pw bk" data-selectable-paragraph="">Conclusion</li></ol></div></div></div><div class="ac cb qc qd qe qf" role="separator"><span class="qg bx bm gb qh qi"></span><span class="qg bx bm gb qh qi"></span><span class="qg bx bm gb qh"></span></div><div class="ho ih ii ij ik"><div class="ac cb"><div class="ci bh hu hv hw hx"><h1 id="96fc" class="qj qk in bf ql qm qn jn gl qo qp jq gn qq qr qs qt qu qv qw qx qy qz ra rb rc bk" data-selectable-paragraph="">1. System Design</h1><p id="ec15" class="pw-post-body-paragraph pb pc in pd b jl rd pf pg jo re pi pj go rf pl pm gr rg po pp gu rh pr ps pt ho bk" data-selectable-paragraph="">The retrieval system is based on 2 detached components:</p><ol class=""><li id="7a5a" class="pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ri pv pw bk" data-selectable-paragraph="">the streaming ingestion pipeline</li><li id="abd3" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt ri pv pw bk" data-selectable-paragraph="">the retrieval client</li></ol></div></div><div class="or"><div class="ac cb"><div class="nm rj nn rk no rl cf rm cg rn ci bh"><figure class="om on oo op oq or rp rq paragraph-image"><div role="button" tabindex="0" class="os ot fl ou bh ov"><div class="oj ok ro"><picture><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/0*SfXvnsaSFcBZUMmi.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*SfXvnsaSFcBZUMmi.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*SfXvnsaSFcBZUMmi.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*SfXvnsaSFcBZUMmi.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*SfXvnsaSFcBZUMmi.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*SfXvnsaSFcBZUMmi.png 1100w, https://miro.medium.com/v2/resize:fit:2000/format:webp/0*SfXvnsaSFcBZUMmi.png 2000w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 1000px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/0*SfXvnsaSFcBZUMmi.png 640w, https://miro.medium.com/v2/resize:fit:720/0*SfXvnsaSFcBZUMmi.png 720w, https://miro.medium.com/v2/resize:fit:750/0*SfXvnsaSFcBZUMmi.png 750w, https://miro.medium.com/v2/resize:fit:786/0*SfXvnsaSFcBZUMmi.png 786w, https://miro.medium.com/v2/resize:fit:828/0*SfXvnsaSFcBZUMmi.png 828w, https://miro.medium.com/v2/resize:fit:1100/0*SfXvnsaSFcBZUMmi.png 1100w, https://miro.medium.com/v2/resize:fit:2000/0*SfXvnsaSFcBZUMmi.png 2000w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 1000px"><img alt="" class="bh fw ow c" width="1000" height="563" loading="eager" role="presentation" src="https://miro.medium.com/v2/resize:fit:1000/0*SfXvnsaSFcBZUMmi.png"></picture></div></div><figcaption class="ox ff oy oj ok oz pa bf b bg ab du" data-selectable-paragraph="">The architecture of the retrieval system [Image by the Author — in collaboration with VectorHub].</figcaption></figure></div></div></div><div class="ac cb"><div class="ci bh hu hv hw hx"><p id="e14b" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">The <strong class="pd io">streaming ingestion pipeline</strong> runs 24/7 to keep the vector DB synced up with current raw LinkedIn posts data source, while the <strong class="pd io">retrieval client</strong> is used in RAG applications to query the vector DB. These 2 components <strong class="pd io">communicate with each other only through the vector DB</strong>.</p><h2 id="7047" class="rr qk in bf ql gk rs dy gl gm rt ea gn go ru gp gq gr rv gs gt gu rw gv gw rx bk" data-selectable-paragraph="">1.1. The streaming ingestion pipeline</h2><p id="a733" class="pw-post-body-paragraph pb pc in pd b jl rd pf pg jo re pi pj go rf pl pm gr rg po pp gu rh pr ps pt ho bk" data-selectable-paragraph="">The streaming ingestion pipeline implements the <a class="ag ry" href="https://hub.superlinked.com/12-data-modality#fpwX4" rel="noopener ugc nofollow" target="_blank">Change Data Capture (CDC) pattern</a> between a data source containing the raw LinkedIn posts and the vector DB used for retrieval.</p><p id="0525" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">In a real-world scenario, the streaming pipeline listens to a queue populated by all the changes made to the source database. But because we are focusing primarily on the retrieval system, we simulate the data within the queue with a couple of JSON files.</p><p id="fb04" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">The streaming pipeline is built in Python using Bytewax, and cleans, chunks, and embeds the LinkedIn posts before loading them into a <a class="ag ry" href="https://qdrant.tech/" rel="noopener ugc nofollow" target="_blank">Qdrant</a> vector DB.</p><p id="b30b" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph=""><strong class="pd io">Why do we need a stream engine?</strong></p><p id="5911" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Because LinkedIn posts (or any other social media data) evolve frequently, your vector DB can quickly get out of sync. To handle this, you can build a batch pipeline that runs every minute. But to really minimize data lag, to <strong class="pd io">make sure your vector DB stays current with new social media posts</strong>, you need to use a streaming pipeline that <strong class="pd io">immediately</strong> takes every new item the moment it’s posted, preprocesses it, and loads it into the vector DB.</p><p id="acfa" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph=""><strong class="pd io">Why Bytewax?</strong></p><p id="5ad5" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph=""><a class="ag ry" href="https://github.com/bytewax/bytewax" rel="noopener ugc nofollow" target="_blank">Bytewax</a> is a streaming engine built in Rust that exposes a Python interface. We use Bytewax because it combines the impressive speed and reliability of Rust with the ease of use and ecosystem of Python.</p><h2 id="06c9" class="rr qk in bf ql gk rs dy gl gm rt ea gn go ru gp gq gr rv gs gt gu rw gv gw rx bk" data-selectable-paragraph="">1.2. The retrieval client</h2><p id="94c2" class="pw-post-body-paragraph pb pc in pd b jl rd pf pg jo re pi pj go rf pl pm gr rg po pp gu rh pr ps pt ho bk" data-selectable-paragraph="">Our retrieval client is a standard Python module that preprocesses user queries and searches the vector DB for most similar results. Qdrant vector DB lets us decouple the retrieval client from the streaming ingestion pipeline.</p><p id="6224" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Using a semantic-based retrieval system lets us query our LinkedIn post collection very flexibly. For example, we can retrieve similar posts using a variety of query types — e.g., posts, questions, sentences.</p><p id="c6a6" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Also, to improve the retrieval system’s accuracy, we use a rerank pattern.</p><p id="3acf" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Lastly, to better understand and explain the retrieval process for particular queries, we visualize our results on a 2D plot using UMAP.</p></div></div></div><div class="ac cb qc qd qe qf" role="separator"><span class="qg bx bm gb qh qi"></span><span class="qg bx bm gb qh qi"></span><span class="qg bx bm gb qh"></span></div><div class="ho ih ii ij ik"><div class="ac cb"><div class="ci bh hu hv hw hx"><h1 id="024b" class="qj qk in bf ql qm qn jn gl qo qp jq gn qq qr qs qt qu qv qw qx qy qz ra rb rc bk" data-selectable-paragraph="">2. Data</h1><p id="e491" class="pw-post-body-paragraph pb pc in pd b jl rd pf pg jo re pi pj go rf pl pm gr rg po pp gu rh pr ps pt ho bk" data-selectable-paragraph="">We will ingest 215 LinkedIn posts from <a class="ag ry" href="https://www.linkedin.com/in/pauliusztin/" rel="noopener ugc nofollow" target="_blank">my Linked profile — Paul Iusztin</a>. Though we simulate the post ingestion step using JSON files, the posts themselves are authentic.</p><p id="5657" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Before diving into the code, let’s take a look at an example LinkedIn post to familiarize ourselves with the challenges it will introduce ↓</p><pre class="om on oo op oq rz sa sb bp sc bb bk"><span id="b654" class="sd qk in sa b bg se sf m sg sh" data-selectable-paragraph=""><span class="hljs-punctuation">[</span><br>    <span class="hljs-punctuation">{</span><br>        <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"𝗪𝗵𝗮𝘁 do you need to 𝗳𝗶𝗻𝗲-𝘁𝘂𝗻𝗲 an open-source 𝗟𝗟𝗠 to create your <br>own 𝗳𝗶𝗻𝗮𝗻𝗰𝗶𝗮𝗹 𝗮𝗱𝘃𝗶𝘀𝗼𝗿?\nThis is the 𝗟𝗟𝗠 𝗳𝗶𝗻𝗲-𝘁𝘂𝗻𝗶𝗻𝗴 𝗸𝗶𝘁 you must know ↓\n𝗗𝗮𝘁𝗮𝘀𝗲𝘁\n<br>The key component of any successful ML project is the data.\n<br>You need a 100 - 1000 sample Q&amp;A (questions &amp; answers) dataset with <br>financial scenarios.\nThe best approach is to hire a bunch of experts to <br>create it manually.\nBut, for a PoC, that might get expensive &amp; slow.\n<br>The good news is that a method called \"𝘍𝘪𝘯𝘦𝘵𝘶𝘯𝘪𝘯𝘨 𝘸𝘪𝘵𝘩 𝘥𝘪𝘴𝘵𝘪𝘭𝘭𝘢𝘵𝘪𝘰𝘯\" exists.\n <br>...<br>Along with ease of deployment, you can easily add your training code to <br>your CI/CD to add the final piece of the MLOps puzzle, called <br>CT (continuous training).\n↳ Beam: 🔗\nhttps://lnkd.in/dedCaMDh\n.\n<br>↳ To see all these components in action, check out <br>my FREE 𝗛𝗮𝗻𝗱𝘀-𝗼𝗻 𝗟𝗟𝗠𝘀 𝗰𝗼𝘂𝗿𝘀𝗲 &amp; give it a ⭐:  <br>🔗\nhttps://lnkd.in/dZgqtf8f\n<br>hashtag\n#\nmachinelearning\nhashtag\n#\nmlops\nhashtag\n#\ndatascience"</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">"image"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://media.licdn.com/dms/image/D4D10AQHWQzZcToQQ1Q/image-shrink_800/0/1698388219549?e=1705082400&amp;v=beta&amp;t=9mrDC_NooJgD7u7Qk0PmrTGGaZtuwDIFKh3bEqeBsm0"</span><br>    <span class="hljs-punctuation">}</span><br><span class="hljs-punctuation">]</span></span></pre><p id="beb9" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">The following features of the above post are not compatible with embedding models. We’ll need to find some way of handling them in our preprocessing step:</p><ul class=""><li id="6149" class="pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt pu pv pw bk" data-selectable-paragraph="">emojis</li><li id="9cdc" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt pu pv pw bk" data-selectable-paragraph="">bold, italic text</li><li id="c81f" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt pu pv pw bk" data-selectable-paragraph="">other non-ASCII characters</li><li id="8cf0" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt pu pv pw bk" data-selectable-paragraph="">URLs</li><li id="10ca" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt pu pv pw bk" data-selectable-paragraph="">content that exceeds the context window limit of the embedding model</li></ul><p id="1e9f" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Emojis and bolded and italic text are represented by Unicode characters that are not available in the vocabulary of the embedding model. Thus, these items cannot be tokenized and passed to the model; we have to remove them or normalize them to something that can be parsed by the tokenizer. The same holds true for all other non-ASCII characters.</p><p id="ad76" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">URLs take up space in the context window without providing much semantic value. Still, knowing that there’s a URL in the sentence may add context. For this reason, we replace all URLs with a [URL] token. This lets us ingest whatever value the URL’s presence conveys without it taking up valuable space.</p></div></div></div><div class="ac cb qc qd qe qf" role="separator"><span class="qg bx bm gb qh qi"></span><span class="qg bx bm gb qh qi"></span><span class="qg bx bm gb qh"></span></div><div class="ho ih ii ij ik"><div class="ac cb"><div class="ci bh hu hv hw hx"><h1 id="c87f" class="qj qk in bf ql qm qn jn gl qo qp jq gn qq qr qs qt qu qv qw qx qy qz ra rb rc bk" data-selectable-paragraph="">3. Streaming ingestion pipeline</h1><p id="76fc" class="pw-post-body-paragraph pb pc in pd b jl rd pf pg jo re pi pj go rf pl pm gr rg po pp gu rh pr ps pt ho bk" data-selectable-paragraph="">Let’s dive into the streaming pipeline, starting from the top and working our way to the bottom ↓</p><h2 id="65a4" class="rr qk in bf ql gk rs dy gl gm rt ea gn go ru gp gq gr rv gs gt gu rw gv gw rx bk" data-selectable-paragraph="">3.1. The Bytewax flow</h2><p id="9727" class="pw-post-body-paragraph pb pc in pd b jl rd pf pg jo re pi pj go rf pl pm gr rg po pp gu rh pr ps pt ho bk" data-selectable-paragraph=""><strong class="pd io">The Bytewax flow</strong> transparently conveys all the steps of the streaming pipeline.</p><p id="4042" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">The first step is ingesting every LinkedIn post from our JSON files. In the next steps, every map operation has a single responsibility:</p><ul class=""><li id="267c" class="pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt pu pv pw bk" data-selectable-paragraph="">validate the ingested data using a <em class="si">RawPost pydantic model</em></li><li id="eaaa" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt pu pv pw bk" data-selectable-paragraph="">clean the posts</li><li id="cf74" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt pu pv pw bk" data-selectable-paragraph="">chunk the posts; because chunking will output a list of ChunkedPost objects, we use a flat_map operation to flatten them out</li><li id="a59c" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt pu pv pw bk" data-selectable-paragraph="">embed the posts</li><li id="c196" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt pu pv pw bk" data-selectable-paragraph="">load the posts to a Qdrant vector DB</li></ul><pre class="om on oo op oq rz sa sb bp sc bb bk"><span id="6fcd" class="sd qk in sa b bg se sf m sg sh" data-selectable-paragraph=""><span class="hljs-keyword">def</span> <span class="hljs-title.function">build_flow</span>():<br>    embedding_model = EmbeddingModelSingleton()<br><br>    flow = Dataflow(<span class="hljs-string">"flow"</span>)<br><br>    stream = op.<span class="hljs-built_in">input</span>(<span class="hljs-string">"input"</span>, flow, JSONSource([<span class="hljs-string">"data/paul.json"</span>]))<br>    stream = op.<span class="hljs-built_in">map</span>(<span class="hljs-string">"raw_post"</span>, stream, RawPost.from_source)<br>    stream = op.<span class="hljs-built_in">map</span>(<span class="hljs-string">"cleaned_post"</span>, stream, CleanedPost.from_raw_post)<br>    stream = op.flat_map(<br>        <span class="hljs-string">"chunked_post"</span>,<br>        stream,<br>        <span class="hljs-keyword">lambda</span> cleaned_post: ChunkedPost.from_cleaned_post(<br>            cleaned_post, embedding_model=embedding_model<br>        ),<br>    )<br>    stream = op.<span class="hljs-built_in">map</span>(<br>        <span class="hljs-string">"embedded_chunked_post"</span>,<br>        stream,<br>        <span class="hljs-keyword">lambda</span> chunked_post: EmbeddedChunkedPost.from_chunked_post(<br>            chunked_post, embedding_model=embedding_model<br>        ),<br>    )<br>    op.inspect(<span class="hljs-string">"inspect"</span>, stream, <span class="hljs-built_in">print</span>)<br>    op.output(<br>        <span class="hljs-string">"output"</span>, stream, QdrantVectorOutput(vector_size=model.embedding_size)<br>    )<br>    <br>    <span class="hljs-keyword">return</span> flow</span></pre><h2 id="8e72" class="rr qk in bf ql gk rs dy gl gm rt ea gn go ru gp gq gr rv gs gt gu rw gv gw rx bk" data-selectable-paragraph="">3.2. The processing steps</h2><p id="bbe5" class="pw-post-body-paragraph pb pc in pd b jl rd pf pg jo re pi pj go rf pl pm gr rg po pp gu rh pr ps pt ho bk" data-selectable-paragraph="">Every processing step is incorporated into a <em class="si">pydantic model</em>. This way, we can easily validate the data at each step and reuse the code in the retrieval module.</p><p id="4bca" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">We isolate every step of an ingestion pipeline into its own class:</p><ul class=""><li id="d5b8" class="pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt pu pv pw bk" data-selectable-paragraph="">cleaning</li><li id="c5b9" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt pu pv pw bk" data-selectable-paragraph="">chunking</li><li id="d772" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt pu pv pw bk" data-selectable-paragraph="">embedding</li></ul><p id="1e09" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Doing so, we follow the separation of concerns good SWE practice. Thus, every class has its own responsibility.</p><p id="3979" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Now the code is easy to read and understand. Also, it’s future-proof, as it’s extremely easy to change or extend either of the 3 steps: cleaning, chunking and embedding.</p><p id="84b2" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Here is the interface of the <em class="si">pydantic models</em>:</p><pre class="om on oo op oq rz sa sb bp sc bb bk"><span id="6327" class="sd qk in sa b bg se sf m sg sh" data-selectable-paragraph=""><span class="hljs-keyword">class</span> <span class="hljs-title.class">RawPost</span>(<span class="hljs-title.class.inherited">BaseModel</span>):<br>    post_id: <span class="hljs-built_in">str</span><br>    text: <span class="hljs-built_in">str</span><br>    image: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>]<br><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title.function">from_source</span>(<span class="hljs-params">cls, k_v: <span class="hljs-type">Tuple</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">dict</span>]</span>) -&gt; <span class="hljs-string">"RawPost"</span>:<br>        ... <span class="hljs-comment"># Mapping a dictionary to a RawPost validated pydantic model.</span><br><br>        <span class="hljs-keyword">return</span> cls(...)<br><br><span class="hljs-keyword">class</span> <span class="hljs-title.class">CleanedPost</span>(<span class="hljs-title.class.inherited">BaseModel</span>):<br>    post_id: <span class="hljs-built_in">str</span><br>    raw_text: <span class="hljs-built_in">str</span><br>    text: <span class="hljs-built_in">str</span><br>    image: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>]<br><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title.function">from_raw_post</span>(<span class="hljs-params">cls, raw_post: RawPost</span>) -&gt; <span class="hljs-string">"CleanedPost"</span>:<br>        ... <span class="hljs-comment"># Cleaning the raw post</span><br><br>        <span class="hljs-keyword">return</span> cls(...)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title.class">ChunkedPost</span>(<span class="hljs-title.class.inherited">BaseModel</span>):<br>    post_id: <span class="hljs-built_in">str</span><br>    chunk_id: <span class="hljs-built_in">str</span><br>    full_raw_text: <span class="hljs-built_in">str</span><br>    text: <span class="hljs-built_in">str</span><br>    image: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>]<br><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title.function">from_cleaned_post</span>(<span class="hljs-params"><br>        cls, cleaned_post: CleanedPost, embedding_model: EmbeddingModelSingleton<br>    </span>) -&gt; <span class="hljs-built_in">list</span>[<span class="hljs-string">"ChunkedPost"</span>]:<br>        chunks = ... <span class="hljs-comment"># Compute chunks</span><br><br>        <span class="hljs-keyword">return</span> [cls(...) <span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> chunks]<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title.class">EmbeddedChunkedPost</span>(<span class="hljs-title.class.inherited">BaseModel</span>):<br>    post_id: <span class="hljs-built_in">str</span><br>    chunk_id: <span class="hljs-built_in">str</span><br>    full_raw_text: <span class="hljs-built_in">str</span><br>    text: <span class="hljs-built_in">str</span><br>    text_embedding: <span class="hljs-built_in">list</span><br>    image: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] = <span class="hljs-literal">None</span><br>    score: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">float</span>] = <span class="hljs-literal">None</span><br>    rerank_score: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">float</span>] = <span class="hljs-literal">None</span><br><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title.function">from_chunked_post</span>(<span class="hljs-params"><br>        cls, chunked_post: ChunkedPost, embedding_model: EmbeddingModelSingleton<br>    </span>) -&gt; <span class="hljs-string">"EmbeddedChunkedPost"</span>:<br>        ... <span class="hljs-comment"># Compute embedding.</span><br><br>        <span class="hljs-keyword">return</span> cls(...)</span></pre><p id="62e9" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Now, the data at each step is validated and has a clear structure.</p><p id="dba8" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph=""><strong class="pd io">Note:</strong> Providing different types when instantiating a <em class="si">pydantic</em> model will throw a validation error. For example, if the <em class="si">post_id</em> is defined as a <em class="si">string</em>, and we try to instantiate an <em class="si">EmbeddedChunkedPost</em> with a <em class="si">None</em> or <em class="si">int</em> <em class="si">post_id</em>, it will throw an error.</p><blockquote class="sj sk sl"><p id="807d" class="pb pc si pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Check out the full implementation on our 🔗 <a class="ag ry" href="https://github.com/decodingml/articles-code/tree/main/articles/large_language_models/real_time_retrieval_system_for_social_media_data" rel="noopener ugc nofollow" target="_blank">GitHub Articles Hub repository</a>.</p></blockquote><h2 id="1c6e" class="rr qk in bf ql gk rs dy gl gm rt ea gn go ru gp gq gr rv gs gt gu rw gv gw rx bk" data-selectable-paragraph="">3.3. Load to Qdrant</h2><p id="79bb" class="pw-post-body-paragraph pb pc in pd b jl rd pf pg jo re pi pj go rf pl pm gr rg po pp gu rh pr ps pt ho bk" data-selectable-paragraph="">To load the LinkedIn posts to Qdrant, you have to override Bytewax’s <em class="si">StatelessSinkPartition</em> class (which acts as an <strong class="pd io">output</strong> in a Bytewax flow):</p><pre class="om on oo op oq rz sa sb bp sc bb bk"><span id="f7a1" class="sd qk in sa b bg se sf m sg sh" data-selectable-paragraph=""><span class="hljs-keyword">class</span> <span class="hljs-title.class">QdrantVectorSink</span>(<span class="hljs-title.class.inherited">StatelessSinkPartition</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title.function">__init__</span>(<span class="hljs-params"><br>        self,<br>        client: QdrantClient,<br>        collection_name: <span class="hljs-built_in">str</span><br>    </span>):<br>        self._client = client<br>        self._collection_name = collection_name<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title.function">write_batch</span>(<span class="hljs-params">self, chunks: <span class="hljs-built_in">list</span>[EmbeddedChunkedPost]</span>):<br>        ... <span class="hljs-comment"># Map chunks to ids, embeddings, and metadata.</span><br><br>        self._client.upsert(<br>            collection_name=self._collection_name,<br>            points=Batch(<br>                ids=ids,<br>                vectors=embeddings,<br>                payloads=metadata,<br>            ),<br>        )</span></pre><p id="b7e5" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Within this class, you must overwrite the <em class="si">write_batch()</em> method, where we will serialize every <em class="si">EmbeddedChunkedPost</em> to a format expected by Qdrant and load it to the vector DB.</p></div></div></div><div class="ac cb qc qd qe qf" role="separator"><span class="qg bx bm gb qh qi"></span><span class="qg bx bm gb qh qi"></span><span class="qg bx bm gb qh"></span></div><div class="ho ih ii ij ik"><div class="ac cb"><div class="ci bh hu hv hw hx"><h1 id="f4fa" class="qj qk in bf ql qm qn jn gl qo qp jq gn qq qr qs qt qu qv qw qx qy qz ra rb rc bk" data-selectable-paragraph="">4. Retrieval client</h1><p id="d1b4" class="pw-post-body-paragraph pb pc in pd b jl rd pf pg jo re pi pj go rf pl pm gr rg po pp gu rh pr ps pt ho bk" data-selectable-paragraph="">Here, we focus on preprocessing a user’s query, searching the vector DB, and postprocessing the retrieved posts for maximum results.</p><p id="dcf8" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">To design the retrieval step, we implement a <em class="si">QdrantVectorDBRetriever</em> class to expose all the necessary features for our retrieval client.</p><pre class="om on oo op oq rz sa sb bp sc bb bk"><span id="2e80" class="sd qk in sa b bg se sf m sg sh" data-selectable-paragraph=""><span class="hljs-keyword">class</span> <span class="hljs-title.class">QdrantVectorDBRetriever</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title.function">__init__</span>(<span class="hljs-params"><br>        self,<br>        embedding_model: EmbeddingModelSingleton,<br>        vector_db_client: QdrantClient,<br>        cross_encoder_model: CrossEncoderModelSingleton<br>        vector_db_collection: <span class="hljs-built_in">str</span><br>    </span>):<br>        self._embedding_model = embedding_model<br>        self._vector_db_client = vector_db_client<br>        self._cross_encoder_model = cross_encoder_model<br>        self._vector_db_collection = vector_db_collection<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title.function">search</span>(<span class="hljs-params"><br>        self, query: <span class="hljs-built_in">str</span>, limit: <span class="hljs-built_in">int</span> = <span class="hljs-number">3</span>, return_all: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span><br>    </span>) -&gt; <span class="hljs-type">Union</span>[<span class="hljs-built_in">list</span>[EmbeddedChunkedPost], <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">list</span>]]:<br>        ... <span class="hljs-comment"># Search the Qdrant vector DB based on the given query.</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title.function">embed_query</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">list</span>[<span class="hljs-built_in">list</span>[<span class="hljs-built_in">float</span>]]:<br>        ... <span class="hljs-comment"># Embed the given query.</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title.function">rerank</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span>, posts: <span class="hljs-built_in">list</span>[EmbeddedChunkedPost]</span>) -&gt; <span class="hljs-built_in">list</span>[EmbeddedChunkedPost]:<br>        ... <span class="hljs-comment"># Rerank the posts relative to the given query.</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title.function">render_as_html</span>(<span class="hljs-params">self, post: EmbeddedChunkedPost</span>) -&gt; <span class="hljs-literal">None</span>:<br>        ... <span class="hljs-comment"># Map the embedded post to HTML to display it.</span></span></pre><h2 id="5184" class="rr qk in bf ql gk rs dy gl gm rt ea gn go ru gp gq gr rv gs gt gu rw gv gw rx bk" data-selectable-paragraph="">4.1. Embed query</h2><p id="cdb6" class="pw-post-body-paragraph pb pc in pd b jl rd pf pg jo re pi pj go rf pl pm gr rg po pp gu rh pr ps pt ho bk" data-selectable-paragraph="">We must embed the query in precisely the same way we ingested our posts into the vector DB. Because the streaming pipeline is written in Python (thanks to Bytewax), and every preprocessing operation is modular, we can quickly replicate all the steps necessary to embed the query.</p><pre class="om on oo op oq rz sa sb bp sc bb bk"><span id="9867" class="sd qk in sa b bg se sf m sg sh" data-selectable-paragraph=""><span class="hljs-keyword">class</span> <span class="hljs-title.class">QdrantVectorDBRetriever</span>:<br><br>    ...<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title.function">embed_query</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">list</span>[<span class="hljs-built_in">list</span>[<span class="hljs-built_in">float</span>]]:<br>        cleaned_query = CleanedPost.clean(query)<br>        chunks = ChunkedPost.chunk(cleaned_query, self._embedding_model)<br>        embdedded_queries = [<br>            self._embedding_model(chunk, to_list=<span class="hljs-literal">True</span>) <span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> chunks<br>        ]<br><br>        <span class="hljs-keyword">return</span> embdedded_queries</span></pre><blockquote class="sj sk sl"><p id="d060" class="pb pc si pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Check out the full implementation on our <em class="in">🔗</em> <a class="ag ry" href="https://github.com/decodingml/articles-code/tree/main/articles/large_language_models/real_time_retrieval_system_for_social_media_data" rel="noopener ugc nofollow" target="_blank">GitHub repository</a>.</p></blockquote><h2 id="72bb" class="rr qk in bf ql gk rs dy gl gm rt ea gn go ru gp gq gr rv gs gt gu rw gv gw rx bk" data-selectable-paragraph="">4.2. Plain retrieval</h2><p id="ddbb" class="pw-post-body-paragraph pb pc in pd b jl rd pf pg jo re pi pj go rf pl pm gr rg po pp gu rh pr ps pt ho bk" data-selectable-paragraph="">Let’s try to retrieve a set of posts without using the rerank algorithm.</p><pre class="om on oo op oq rz sa sb bp sc bb bk"><span id="8399" class="sd qk in sa b bg se sf m sg sh" data-selectable-paragraph="">vector_db_retriever = QdrantVectorDBRetriever(<br>    embedding_model=EmbeddingModelSingleton(),<br>    vector_db_client=build_qdrant_client()<br>)<br><br>query = <span class="hljs-string">"Posts about Qdrant"</span><br>retrieved_results = vector_db_retriever.search(query=query)<br><span class="hljs-keyword">for</span> post <span class="hljs-keyword">in</span> retrieved_results[<span class="hljs-string">"posts"</span>]:<br>    vector_db_retriever.render_as_html(post)</span></pre><p id="b0d3" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph=""><em class="si">Here are the </em><strong class="pd io"><em class="si">top 2 retrieved results</em></strong><em class="si"> sorted using the cosine similarity score ↓</em></p><p id="c1b9" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph=""><strong class="pd io">Result 1:</strong></p></div></div><div class="or"><div class="ac cb"><div class="nm rj nn rk no rl cf rm cg rn ci bh"><figure class="om on oo op oq or rp rq paragraph-image"><div role="button" tabindex="0" class="os ot fl ou bh ov"><div class="oj ok sm"><picture><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/0*R5L_euGz8OIjuYCU.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*R5L_euGz8OIjuYCU.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*R5L_euGz8OIjuYCU.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*R5L_euGz8OIjuYCU.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*R5L_euGz8OIjuYCU.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*R5L_euGz8OIjuYCU.png 1100w, https://miro.medium.com/v2/resize:fit:2000/format:webp/0*R5L_euGz8OIjuYCU.png 2000w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 1000px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/0*R5L_euGz8OIjuYCU.png 640w, https://miro.medium.com/v2/resize:fit:720/0*R5L_euGz8OIjuYCU.png 720w, https://miro.medium.com/v2/resize:fit:750/0*R5L_euGz8OIjuYCU.png 750w, https://miro.medium.com/v2/resize:fit:786/0*R5L_euGz8OIjuYCU.png 786w, https://miro.medium.com/v2/resize:fit:828/0*R5L_euGz8OIjuYCU.png 828w, https://miro.medium.com/v2/resize:fit:1100/0*R5L_euGz8OIjuYCU.png 1100w, https://miro.medium.com/v2/resize:fit:2000/0*R5L_euGz8OIjuYCU.png 2000w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 1000px"><img alt="" class="bh fw ow c" width="1000" height="615" loading="eager" role="presentation" src="https://miro.medium.com/v2/resize:fit:1000/0*R5L_euGz8OIjuYCU.png"></picture></div></div><figcaption class="ox ff oy oj ok oz pa bf b bg ab du" data-selectable-paragraph="">Result 1 for the “Posts about Qdrant” query (without using reranking) [Image by the Author — in collaboration with VectorHub]</figcaption></figure></div></div></div><div class="ac cb"><div class="ci bh hu hv hw hx"><p id="d446" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph=""><strong class="pd io">Result 2:</strong></p></div></div><div class="or"><div class="ac cb"><div class="nm rj nn rk no rl cf rm cg rn ci bh"><figure class="om on oo op oq or rp rq paragraph-image"><div role="button" tabindex="0" class="os ot fl ou bh ov"><div class="oj ok sn"><picture><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/0*xhXHUhfATKq8khO9.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*xhXHUhfATKq8khO9.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*xhXHUhfATKq8khO9.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*xhXHUhfATKq8khO9.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*xhXHUhfATKq8khO9.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*xhXHUhfATKq8khO9.png 1100w, https://miro.medium.com/v2/resize:fit:2000/format:webp/0*xhXHUhfATKq8khO9.png 2000w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 1000px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/0*xhXHUhfATKq8khO9.png 640w, https://miro.medium.com/v2/resize:fit:720/0*xhXHUhfATKq8khO9.png 720w, https://miro.medium.com/v2/resize:fit:750/0*xhXHUhfATKq8khO9.png 750w, https://miro.medium.com/v2/resize:fit:786/0*xhXHUhfATKq8khO9.png 786w, https://miro.medium.com/v2/resize:fit:828/0*xhXHUhfATKq8khO9.png 828w, https://miro.medium.com/v2/resize:fit:1100/0*xhXHUhfATKq8khO9.png 1100w, https://miro.medium.com/v2/resize:fit:2000/0*xhXHUhfATKq8khO9.png 2000w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 1000px"><img alt="" class="bh fw ow c" width="1000" height="619" loading="eager" role="presentation" src="https://miro.medium.com/v2/resize:fit:1000/0*xhXHUhfATKq8khO9.png"></picture></div></div><figcaption class="ox ff oy oj ok oz pa bf b bg ab du" data-selectable-paragraph="">Result 2 for the “Posts about Qdrant” query (without using reranking) [Image by the Author — in collaboration with VectorHub]</figcaption></figure></div></div></div><div class="ac cb"><div class="ci bh hu hv hw hx"><p id="77a8" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">You can see from the results above, that starting from the second post the results are irrelevant. Even though it has a cosine similarly score of ~0.69 the posts doesn’t contain any information about Qdrant or vector DBs.</p><p id="ce53" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph=""><strong class="pd io">Note:</strong> We looked over the top 5 retrieved results. Nothing after the first post was relevant. We haven’t added them here as the article is already too long.</p><h2 id="e6f9" class="rr qk in bf ql gk rs dy gl gm rt ea gn go ru gp gq gr rv gs gt gu rw gv gw rx bk" data-selectable-paragraph="">4.3. Visualize retrieval</h2><p id="4efb" class="pw-post-body-paragraph pb pc in pd b jl rd pf pg jo re pi pj go rf pl pm gr rg po pp gu rh pr ps pt ho bk" data-selectable-paragraph="">To visualize our retrieval, we implement a dedicated class that uses the UMAP dimensionality reduction algorithm. We have picked UMAP as it preserves the geometric properties between points (e.g., the distance) in higher dimensions when they are projected onto lower dimensions better than its peers (e.g., PCA, t-SNE).</p><p id="aef8" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">The <em class="si">RetrievalVisualizer</em> computes the projected embeddings for the entire vector space once. Afterwards, it uses the render() method to project only the given query and retrieved posts, and plot them to a 2D graph.</p><pre class="om on oo op oq rz sa sb bp sc bb bk"><span id="19bb" class="sd qk in sa b bg se sf m sg sh" data-selectable-paragraph=""><span class="hljs-keyword">class</span> <span class="hljs-title.class">RetrievalVisualizer</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title.function">__init__</span>(<span class="hljs-params">self, posts: <span class="hljs-built_in">list</span>[EmbeddedChunkedPost]</span>):<br>        self._posts = posts<br><br>        self._umap_transform = self._fit_model(self._posts)<br>        self._projected_post_embeddings = self.project_posts(self._posts)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title.function">_fit_model</span>(<span class="hljs-params">self, posts: <span class="hljs-built_in">list</span>[EmbeddedChunkedPost]</span>) -&gt; umap.UMAP:<br>        umap_transform = ... <span class="hljs-comment"># Fit a UMAP model on the given posts.</span><br><br>        <span class="hljs-keyword">return</span> umap_transform<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title.function">project_posts</span>(<span class="hljs-params">self, posts: <span class="hljs-built_in">list</span>[EmbeddedChunkedPost]</span>) -&gt; np.ndarray:<br>        embeddings = np.array([post.text_embedding <span class="hljs-keyword">for</span> post <span class="hljs-keyword">in</span> posts])<br><br>        <span class="hljs-keyword">return</span> self._project(embeddings=embeddings)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title.function">_project</span>(<span class="hljs-params">self, embeddings: np.ndarray</span>) -&gt; np.ndarray:<br>        ... <span class="hljs-comment"># Project the embeddings to 2D using UMAP.</span><br><br>        <span class="hljs-keyword">return</span> umap_embeddings<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title.function">render</span>(<span class="hljs-params"><br>        self,<br>        embedded_queries: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">list</span>[<span class="hljs-built_in">float</span>]],<br>        retrieved_posts: <span class="hljs-built_in">list</span>[EmbeddedChunkedPost],<br>    </span>) -&gt; <span class="hljs-literal">None</span>:<br>      ... <span class="hljs-comment"># Render the given queries &amp; retrieved posts using matplotlib.</span></span></pre><p id="4890" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph=""><em class="si">Let’s take a look at the result to see how the “Posts about Qdrant” query looks ↓</em></p><figure class="om on oo op oq or oj ok paragraph-image"><div role="button" tabindex="0" class="os ot fl ou bh ov"><div class="oj ok sn"><picture><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/0*nHkwv8htoaVo5EQf.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*nHkwv8htoaVo5EQf.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*nHkwv8htoaVo5EQf.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*nHkwv8htoaVo5EQf.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*nHkwv8htoaVo5EQf.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*nHkwv8htoaVo5EQf.png 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nHkwv8htoaVo5EQf.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/0*nHkwv8htoaVo5EQf.png 640w, https://miro.medium.com/v2/resize:fit:720/0*nHkwv8htoaVo5EQf.png 720w, https://miro.medium.com/v2/resize:fit:750/0*nHkwv8htoaVo5EQf.png 750w, https://miro.medium.com/v2/resize:fit:786/0*nHkwv8htoaVo5EQf.png 786w, https://miro.medium.com/v2/resize:fit:828/0*nHkwv8htoaVo5EQf.png 828w, https://miro.medium.com/v2/resize:fit:1100/0*nHkwv8htoaVo5EQf.png 1100w, https://miro.medium.com/v2/resize:fit:1400/0*nHkwv8htoaVo5EQf.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"><img alt="" class="bh fw ow c" width="700" height="445" loading="lazy" role="presentation" src="https://miro.medium.com/v2/resize:fit:700/0*nHkwv8htoaVo5EQf.png"></picture></div></div><figcaption class="ox ff oy oj ok oz pa bf b bg ab du" data-selectable-paragraph="">Visualization of the “Posts about Qdrant” query using UMAP (without reranking) [Image by the Author — in collaboration with VectorHub].</figcaption></figure><p id="1325" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Our results are not great. You can see how far the retrieved posts are from our query in the vector space.</p><p id="b434" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Can we improve the quality of our retrieval system using the <strong class="pd io">rerank</strong> algorithm?</p><h2 id="4906" class="rr qk in bf ql gk rs dy gl gm rt ea gn go ru gp gq gr rv gs gt gu rw gv gw rx bk" data-selectable-paragraph="">4.4. Rerank</h2><p id="b12f" class="pw-post-body-paragraph pb pc in pd b jl rd pf pg jo re pi pj go rf pl pm gr rg po pp gu rh pr ps pt ho bk" data-selectable-paragraph="">We use the <em class="si">reranking</em> algorithm to refine our retrieval for the initial query. Our initial retrieval step — because it used cosine similarity (or similar distance metrics) to compute the distance between a query and post embeddings — may have missed more complex (but essential) relationships between the query and the documents in the vector space. Reranking leverages the power of transformer models that are capable of understanding more nuanced semantic relationships.</p><p id="7e8d" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">We use a <strong class="pd io">cross-encoder</strong> model to implement the reranking step, so we can score the query relative to all retrieved posts individually. These scores take into consideration more complex relationships than cosine similarity can. Under the hood is a BERT classifier that outputs a number between 0 and 1 according to how similar the 2 given sentences are. The BERT classifier outputs 0 if they are entirely different and 1 if they are a perfect match.</p><figure class="om on oo op oq or oj ok paragraph-image"><div role="button" tabindex="0" class="os ot fl ou bh ov"><div class="oj ok so"><picture><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/0*86jt5YNILwTtyhZX.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*86jt5YNILwTtyhZX.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*86jt5YNILwTtyhZX.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*86jt5YNILwTtyhZX.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*86jt5YNILwTtyhZX.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*86jt5YNILwTtyhZX.png 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*86jt5YNILwTtyhZX.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/0*86jt5YNILwTtyhZX.png 640w, https://miro.medium.com/v2/resize:fit:720/0*86jt5YNILwTtyhZX.png 720w, https://miro.medium.com/v2/resize:fit:750/0*86jt5YNILwTtyhZX.png 750w, https://miro.medium.com/v2/resize:fit:786/0*86jt5YNILwTtyhZX.png 786w, https://miro.medium.com/v2/resize:fit:828/0*86jt5YNILwTtyhZX.png 828w, https://miro.medium.com/v2/resize:fit:1100/0*86jt5YNILwTtyhZX.png 1100w, https://miro.medium.com/v2/resize:fit:1400/0*86jt5YNILwTtyhZX.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"><img alt="" class="bh fw ow c" width="700" height="512" loading="lazy" role="presentation" src="https://miro.medium.com/v2/resize:fit:700/0*86jt5YNILwTtyhZX.png"></picture></div></div><figcaption class="ox ff oy oj ok oz pa bf b bg ab du" data-selectable-paragraph="">Bi-Encoder vs. Cross-Encoder [Image by the Author — in collaboration with VectorHub]</figcaption></figure><p id="2edd" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Bi-Encoder vs. Cross-Encoder [Image by the Author — in collaboration with VectorHub]</p><p id="b743" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">But, you might ask, “<em class="si">Why not use the </em><strong class="pd io"><em class="si">cross-encoder</em></strong><em class="si"> model from the start if it is that much better?”</em></p><p id="ad49" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">The answer, in a word, is speed. Using a cross-encoder model to search your whole collection is much slower than using cosine similarity. To optimize your retrieval, therefore, your reranking process should involve 2 steps:</p><ol class=""><li id="b772" class="pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ri pv pw bk" data-selectable-paragraph="">an initial rough retrieval step using cosine similarity, which retrieves the top N items as potential candidates</li><li id="568e" class="pb pc in pd b jl px pf pg jo py pi pj go pz pl pm gr qa po pp gu qb pr ps pt ri pv pw bk" data-selectable-paragraph="">filtering the rough search using the rerank strategy, which retrieves the top K items as your final results</li></ol><p id="63b5" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">The implementation is relatively straightforward. For each retrieved post, we create a pair consisting of the (cleaned) query and the text of the post. We do this for all retrieved posts, resulting in a list of pairs.</p><p id="01ae" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Next, we call a <em class="si">cross-encoder/ms-marco-MiniLM-L-6-v2</em> model (from sentence-transformers) to give the retrieved posts their rerank score. We then sort the posts in descending order based on their rerank score.</p><blockquote class="sj sk sl"><p id="8e36" class="pb pc si pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Check out the rerank algorithm implementation on our 🔗 <a class="ag ry" href="https://github.com/decodingml/articles-code/blob/main/articles/large_language_models/real_time_retrieval_system_for_social_media_data/src/retrievers.py#L89" rel="noopener ugc nofollow" target="_blank">GitHub repository</a>.</p></blockquote><h2 id="d10f" class="rr qk in bf ql gk rs dy gl gm rt ea gn go ru gp gq gr rv gs gt gu rw gv gw rx bk" data-selectable-paragraph="">4.5. Visualize retrieval with rerank</h2><p id="91da" class="pw-post-body-paragraph pb pc in pd b jl rd pf pg jo re pi pj go rf pl pm gr rg po pp gu rh pr ps pt ho bk" data-selectable-paragraph="">Now that we’ve added the rerank pattern to our retrieval system, let’s see if it improves the results of our <em class="si">“Posts about Qdrant”</em> query ↓</p><p id="0a83" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph=""><strong class="pd io">Result 1</strong></p></div></div><div class="or"><div class="ac cb"><div class="nm rj nn rk no rl cf rm cg rn ci bh"><figure class="om on oo op oq or rp rq paragraph-image"><div role="button" tabindex="0" class="os ot fl ou bh ov"><div class="oj ok sn"><picture><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/0*hKRNu3jQ2V2_JrrM.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*hKRNu3jQ2V2_JrrM.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*hKRNu3jQ2V2_JrrM.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*hKRNu3jQ2V2_JrrM.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*hKRNu3jQ2V2_JrrM.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*hKRNu3jQ2V2_JrrM.png 1100w, https://miro.medium.com/v2/resize:fit:2000/format:webp/0*hKRNu3jQ2V2_JrrM.png 2000w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 1000px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/0*hKRNu3jQ2V2_JrrM.png 640w, https://miro.medium.com/v2/resize:fit:720/0*hKRNu3jQ2V2_JrrM.png 720w, https://miro.medium.com/v2/resize:fit:750/0*hKRNu3jQ2V2_JrrM.png 750w, https://miro.medium.com/v2/resize:fit:786/0*hKRNu3jQ2V2_JrrM.png 786w, https://miro.medium.com/v2/resize:fit:828/0*hKRNu3jQ2V2_JrrM.png 828w, https://miro.medium.com/v2/resize:fit:1100/0*hKRNu3jQ2V2_JrrM.png 1100w, https://miro.medium.com/v2/resize:fit:2000/0*hKRNu3jQ2V2_JrrM.png 2000w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 1000px"><img alt="" class="bh fw ow c" width="1000" height="551" loading="eager" role="presentation" src="https://miro.medium.com/v2/resize:fit:1000/0*hKRNu3jQ2V2_JrrM.png"></picture></div></div><figcaption class="ox ff oy oj ok oz pa bf b bg ab du" data-selectable-paragraph="">Result 1 for the “Posts about Qdrant” query (using reranking) [Image by the Author — in collaboration with VectorHub]</figcaption></figure></div></div></div><div class="ac cb"><div class="ci bh hu hv hw hx"><p id="2a76" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph=""><strong class="pd io">Result 2:</strong></p></div></div><div class="or"><div class="ac cb"><div class="nm rj nn rk no rl cf rm cg rn ci bh"><figure class="om on oo op oq or rp rq paragraph-image"><div role="button" tabindex="0" class="os ot fl ou bh ov"><div class="oj ok sn"><picture><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/0*SvKByecO1s8UIZ65.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*SvKByecO1s8UIZ65.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*SvKByecO1s8UIZ65.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*SvKByecO1s8UIZ65.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*SvKByecO1s8UIZ65.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*SvKByecO1s8UIZ65.png 1100w, https://miro.medium.com/v2/resize:fit:2000/format:webp/0*SvKByecO1s8UIZ65.png 2000w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 1000px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/0*SvKByecO1s8UIZ65.png 640w, https://miro.medium.com/v2/resize:fit:720/0*SvKByecO1s8UIZ65.png 720w, https://miro.medium.com/v2/resize:fit:750/0*SvKByecO1s8UIZ65.png 750w, https://miro.medium.com/v2/resize:fit:786/0*SvKByecO1s8UIZ65.png 786w, https://miro.medium.com/v2/resize:fit:828/0*SvKByecO1s8UIZ65.png 828w, https://miro.medium.com/v2/resize:fit:1100/0*SvKByecO1s8UIZ65.png 1100w, https://miro.medium.com/v2/resize:fit:2000/0*SvKByecO1s8UIZ65.png 2000w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 1000px"><img alt="" class="bh fw ow c" width="1000" height="641" loading="eager" role="presentation" src="https://miro.medium.com/v2/resize:fit:1000/0*SvKByecO1s8UIZ65.png"></picture></div></div><figcaption class="ox ff oy oj ok oz pa bf b bg ab du" data-selectable-paragraph="">Result 2 for the “Posts about Qdrant” query (using reranking) [Image by the Author — in collaboration with VectorHub]</figcaption></figure></div></div></div><div class="ac cb"><div class="ci bh hu hv hw hx"><p id="ce8f" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">The improvement is remarkable! All our results are about Qdrant and vector DBs.</p><p id="e65a" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph=""><strong class="pd io">Note:</strong> We looked over the top 5 retrieved results. The top 4 out of 5 posts are relevant to our query, which is incredible.</p><p id="9475" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Now, let’s look at the UMAP visualization:</p><figure class="om on oo op oq or oj ok paragraph-image"><div role="button" tabindex="0" class="os ot fl ou bh ov"><div class="oj ok sn"><picture><source srcset="https://miro.medium.com/v2/resize:fit:640/format:webp/0*46m4qp3GlPAuC82g.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*46m4qp3GlPAuC82g.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*46m4qp3GlPAuC82g.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*46m4qp3GlPAuC82g.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*46m4qp3GlPAuC82g.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*46m4qp3GlPAuC82g.png 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*46m4qp3GlPAuC82g.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"><source data-testid="og" srcset="https://miro.medium.com/v2/resize:fit:640/0*46m4qp3GlPAuC82g.png 640w, https://miro.medium.com/v2/resize:fit:720/0*46m4qp3GlPAuC82g.png 720w, https://miro.medium.com/v2/resize:fit:750/0*46m4qp3GlPAuC82g.png 750w, https://miro.medium.com/v2/resize:fit:786/0*46m4qp3GlPAuC82g.png 786w, https://miro.medium.com/v2/resize:fit:828/0*46m4qp3GlPAuC82g.png 828w, https://miro.medium.com/v2/resize:fit:1100/0*46m4qp3GlPAuC82g.png 1100w, https://miro.medium.com/v2/resize:fit:1400/0*46m4qp3GlPAuC82g.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"><img alt="" class="bh fw ow c" width="700" height="442" loading="eager" role="presentation" src="https://miro.medium.com/v2/resize:fit:700/0*46m4qp3GlPAuC82g.png"></picture></div></div><figcaption class="ox ff oy oj ok oz pa bf b bg ab du" data-selectable-paragraph="">Visualization of the “Posts about Qdrant” query using UMAP (with reranking) [Image by the Author — in collaboration with VectorHub].</figcaption></figure><p id="eb95" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">While the returned posts aren’t very close to the query, they are <strong class="pd io">a lot closer to the query compared to when we weren’t reranking the retrieved posts</strong>.</p></div></div></div><div class="ac cb qc qd qe qf" role="separator"><span class="qg bx bm gb qh qi"></span><span class="qg bx bm gb qh qi"></span><span class="qg bx bm gb qh"></span></div><div class="ho ih ii ij ik"><div class="ac cb"><div class="ci bh hu hv hw hx"><h1 id="ec67" class="qj qk in bf ql qm qn jn gl qo qp jq gn qq qr qs qt qu qv qw qx qy qz ra rb rc bk" data-selectable-paragraph="">5. Conclusion</h1><p id="fde3" class="pw-post-body-paragraph pb pc in pd b jl rd pf pg jo re pi pj go rf pl pm gr rg po pp gu rh pr ps pt ho bk" data-selectable-paragraph="">In this article, we learned how to adapt a RAG retrieval pattern to improve LinkedIn post retrieval. To keep our database up to date with rapidly changing social media data, we implemented a real-time streaming pipeline that uses CDC to sync the raw LinkedIn posts data source with a vector DB. You also saw how to use Bytewax to write — using only Python — a streaming pipeline that cleans, chunks, and embeds LinkedIn posts.</p><p id="7eb9" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">Finally, you learned how to implement a standard retrieval client for RAG and saw how to improve it using the rerank pattern. As retrieval is complex to evaluate, you saw how to visualize the retrieval for a given query by rendering all the posts, the query, and the retrieved posts in a 2D space using UMAP.</p><blockquote class="sj sk sl"><p id="412d" class="pb pc si pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph=""><em class="in">This </em><strong class="pd io"><em class="in">article</em></strong><em class="in"> is a </em><strong class="pd io"><em class="in">summary</em></strong> <em class="in">of </em><strong class="pd io"><em class="in">my contribution</em></strong><em class="in"> from </em><strong class="pd io"><em class="in">VectorHub</em></strong><em class="in">. </em><a class="ag ry" href="https://superlinked.com/vectorhub/articles/real-time-retrieval-system-social-media-data" rel="noopener ugc nofollow" target="_blank"><em class="in">Check out the full article here</em></a><em class="in"> to </em><strong class="pd io"><em class="in">dig</em></strong><em class="in"> </em><strong class="pd io"><em class="in">into</em></strong><em class="in"> the </em><strong class="pd io"><em class="in">details, </em></strong><em class="in">the</em><strong class="pd io"><em class="in"> code</em></strong><em class="in"> and </em><strong class="pd io"><em class="in">more experiments</em></strong><em class="in">.</em></p></blockquote></div></div></div><div class="ac cb qc qd qe qf" role="separator"><span class="qg bx bm gb qh qi"></span><span class="qg bx bm gb qh qi"></span><span class="qg bx bm gb qh"></span></div><div class="ho ih ii ij ik"><div class="ac cb"><div class="ci bh hu hv hw hx"><p id="041e" class="pw-post-body-paragraph pb pc in pd b jl pe pf pg jo ph pi pj go pk pl pm gr pn po pp gu pq pr ps pt ho bk" data-selectable-paragraph="">→ Join 5k+ engineers in the 𝗗𝗲𝗰𝗼𝗱𝗶𝗻𝗴 𝗠𝗟 𝗡𝗲𝘄𝘀𝗹𝗲𝘁𝘁𝗲𝗿 for battle-tested content on production-grade ML. 𝗘𝘃𝗲𝗿𝘆 𝘄𝗲𝗲𝗸:</p><div class="sp sq sr ss st su"><a href="https://decodingml.substack.com/?source=post_page-----9cc01d50a2a0---------------------------------------" rel="noopener  ugc nofollow" target="_blank"><div class="sv ac sw"><div class="sx ac co cb ca sy"><h2 class="bf io gz ab fx sz fy ta tb tc td im bk">Decoding ML Newsletter | Paul Iusztin | Substack</h2><div class="te m"><h3 class="bf b gz ab fx sz fy ta tb tc td du">Join for battle-tested content on designing, coding, and deploying production-grade ML &amp; MLOps systems. Every week. For…</h3></div><div class="tf m"><p class="bf b dv ab fx sz fy ta tb tc td du">decodingml.substack.com</p></div></div><div class="tg m"><div class="wl m ti tj tk tg tl fw su"></div></div></div></a></div></div></div></div></div></section></div></div></article></div><div></div><div class="n wm wn wo"><div class="bw wp wq bh aca" style="bottom: 0px;"><div class="ws u wt w wu wv ww wx wy wz ac r co fl"><div class="xa xb xc rm rn m"><div class="an m fu xd xe"><div class="i l"><div class="m fl o xf"><button class="ag ah ai fh ak al am an ao ap aq ar as at au ac" data-testid="close-button" aria-label="close"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="fm du fo fn"><path stroke="currentColor" stroke-linecap="round" d="m5 5 7 7m7 7-7-7m0 0 7-7m-7 7-7 7"></path></svg></button></div></div><div class="k j e"><div class="m fl o xf"><button class="ag ah ai fh ak al am an ao ap aq ar as at au ac fl xg ij xh xi xj xk" data-testid="close-button" aria-label="close"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="fm du fo fn"><path stroke="currentColor" stroke-linecap="round" d="m5 5 7 7m7 7-7-7m0 0 7-7m-7 7-7 7"></path></svg></button></div></div></div><div class="ac r uk uj xl xm"><img class="fu wn id xn" src="https://miro.medium.com/v2/da:true/resize:fit:0/5c50caa54067fd622d2f0fac18392213bf92f6e2fae89b691e62bceb40885e74" loading="lazy" role="presentation"><div class="xo xp xq xr dm xs dn xt xu m"><div class="cl k j e"><svg xmlns="http://www.w3.org/2000/svg" width="719" height="160" fill="none" aria-labelledby="wordmark-medium-desc" viewBox="0 0 719 160" class="av aw xv"><desc id="wordmark-medium-desc">Medium Logo</desc><path fill="#242424" d="m174.104 9.734.215-.047V8.02H130.39L89.6 103.89 48.81 8.021H1.472v1.666l.212.047c8.018 1.81 12.09 4.509 12.09 14.242V137.93c0 9.734-4.087 12.433-12.106 14.243l-.212.047v1.671h32.118v-1.665l-.213-.048c-8.018-1.809-12.089-4.509-12.089-14.242V30.586l52.399 123.305h2.972l53.925-126.743V140.75c-.687 7.688-4.721 10.062-11.982 11.701l-.215.05v1.652h55.948v-1.652l-.215-.05c-7.269-1.639-11.4-4.013-12.087-11.701l-.037-116.774h.037c0-9.733 4.071-12.432 12.087-14.242m25.555 75.488c.915-20.474 8.268-35.252 20.606-35.507 3.806.063 6.998 1.312 9.479 3.714 5.272 5.118 7.751 15.812 7.368 31.793zm-.553 5.77h65.573v-.275c-.186-15.656-4.721-27.834-13.466-36.196-7.559-7.227-18.751-11.203-30.507-11.203h-.263c-6.101 0-13.584 1.48-18.909 4.16-6.061 2.807-11.407 7.003-15.855 12.511-7.161 8.874-11.499 20.866-12.554 34.343q-.05.606-.092 1.212a50 50 0 0 0-.065 1.151 85.807 85.807 0 0 0-.094 5.689c.71 30.524 17.198 54.917 46.483 54.917 25.705 0 40.675-18.791 44.407-44.013l-1.886-.664c-6.557 13.556-18.334 21.771-31.738 20.769-18.297-1.369-32.314-19.922-31.042-42.395m139.722 41.359c-2.151 5.101-6.639 7.908-12.653 7.908s-11.513-4.129-15.418-11.63c-4.197-8.053-6.405-19.436-6.405-32.92 0-28.067 8.729-46.22 22.24-46.22 5.657 0 10.111 2.807 12.236 7.704zm43.499 20.008c-8.019-1.897-12.089-4.722-12.089-14.951V1.309l-48.716 14.353v1.757l.299-.024c6.72-.543 11.278.386 13.925 2.83 2.072 1.915 3.082 4.853 3.082 8.987v18.66c-4.803-3.067-10.516-4.56-17.448-4.56-14.059 0-26.909 5.92-36.176 16.672-9.66 11.205-14.767 26.518-14.767 44.278-.003 31.72 15.612 53.039 38.851 53.039 13.595 0 24.533-7.449 29.54-20.013v16.865h43.711v-1.746zM424.1 19.819c0-9.904-7.468-17.374-17.375-17.374-9.859 0-17.573 7.632-17.573 17.374s7.721 17.374 17.573 17.374c9.907 0 17.375-7.47 17.375-17.374m11.499 132.546c-8.019-1.897-12.089-4.722-12.089-14.951h-.035V43.635l-43.714 12.551v1.705l.263.024c9.458.842 12.047 4.1 12.047 15.152v81.086h43.751v-1.746zm112.013 0c-8.018-1.897-12.089-4.722-12.089-14.951V43.635l-41.621 12.137v1.71l.246.026c7.733.813 9.967 4.257 9.967 15.36v59.279c-2.578 5.102-7.415 8.131-13.274 8.336-9.503 0-14.736-6.419-14.736-18.073V43.638l-43.714 12.55v1.703l.262.024c9.459.84 12.05 4.097 12.05 15.152v50.17a56.3 56.3 0 0 0 .91 10.444l.787 3.423c3.701 13.262 13.398 20.197 28.59 20.197 12.868 0 24.147-7.966 29.115-20.43v17.311h43.714v-1.747zm169.818 1.788v-1.749l-.213-.05c-8.7-2.006-12.089-5.789-12.089-13.49v-63.79c0-19.89-11.171-31.761-29.883-31.761-13.64 0-25.141 7.882-29.569 20.16-3.517-13.01-13.639-20.16-28.606-20.16-13.146 0-23.449 6.938-27.869 18.657V43.643L545.487 55.68v1.715l.263.024c9.345.829 12.047 4.181 12.047 14.95v81.784h40.787v-1.746l-.215-.053c-6.941-1.631-9.181-4.606-9.181-12.239V66.998c1.836-4.289 5.537-9.37 12.853-9.37 9.086 0 13.692 6.296 13.692 18.697v77.828h40.797v-1.746l-.215-.053c-6.94-1.631-9.18-4.606-9.18-12.239V75.066a42 42 0 0 0-.578-7.26c1.947-4.661 5.86-10.177 13.475-10.177 9.214 0 13.691 6.114 13.691 18.696v77.828z"></path></svg></div><div class="xw i l"><svg xmlns="http://www.w3.org/2000/svg" width="719" height="160" fill="none" aria-labelledby="wordmark-medium-desc" viewBox="0 0 719 160" class="av aw xx"><desc id="wordmark-medium-desc">Medium Logo</desc><path fill="#242424" d="m174.104 9.734.215-.047V8.02H130.39L89.6 103.89 48.81 8.021H1.472v1.666l.212.047c8.018 1.81 12.09 4.509 12.09 14.242V137.93c0 9.734-4.087 12.433-12.106 14.243l-.212.047v1.671h32.118v-1.665l-.213-.048c-8.018-1.809-12.089-4.509-12.089-14.242V30.586l52.399 123.305h2.972l53.925-126.743V140.75c-.687 7.688-4.721 10.062-11.982 11.701l-.215.05v1.652h55.948v-1.652l-.215-.05c-7.269-1.639-11.4-4.013-12.087-11.701l-.037-116.774h.037c0-9.733 4.071-12.432 12.087-14.242m25.555 75.488c.915-20.474 8.268-35.252 20.606-35.507 3.806.063 6.998 1.312 9.479 3.714 5.272 5.118 7.751 15.812 7.368 31.793zm-.553 5.77h65.573v-.275c-.186-15.656-4.721-27.834-13.466-36.196-7.559-7.227-18.751-11.203-30.507-11.203h-.263c-6.101 0-13.584 1.48-18.909 4.16-6.061 2.807-11.407 7.003-15.855 12.511-7.161 8.874-11.499 20.866-12.554 34.343q-.05.606-.092 1.212a50 50 0 0 0-.065 1.151 85.807 85.807 0 0 0-.094 5.689c.71 30.524 17.198 54.917 46.483 54.917 25.705 0 40.675-18.791 44.407-44.013l-1.886-.664c-6.557 13.556-18.334 21.771-31.738 20.769-18.297-1.369-32.314-19.922-31.042-42.395m139.722 41.359c-2.151 5.101-6.639 7.908-12.653 7.908s-11.513-4.129-15.418-11.63c-4.197-8.053-6.405-19.436-6.405-32.92 0-28.067 8.729-46.22 22.24-46.22 5.657 0 10.111 2.807 12.236 7.704zm43.499 20.008c-8.019-1.897-12.089-4.722-12.089-14.951V1.309l-48.716 14.353v1.757l.299-.024c6.72-.543 11.278.386 13.925 2.83 2.072 1.915 3.082 4.853 3.082 8.987v18.66c-4.803-3.067-10.516-4.56-17.448-4.56-14.059 0-26.909 5.92-36.176 16.672-9.66 11.205-14.767 26.518-14.767 44.278-.003 31.72 15.612 53.039 38.851 53.039 13.595 0 24.533-7.449 29.54-20.013v16.865h43.711v-1.746zM424.1 19.819c0-9.904-7.468-17.374-17.375-17.374-9.859 0-17.573 7.632-17.573 17.374s7.721 17.374 17.573 17.374c9.907 0 17.375-7.47 17.375-17.374m11.499 132.546c-8.019-1.897-12.089-4.722-12.089-14.951h-.035V43.635l-43.714 12.551v1.705l.263.024c9.458.842 12.047 4.1 12.047 15.152v81.086h43.751v-1.746zm112.013 0c-8.018-1.897-12.089-4.722-12.089-14.951V43.635l-41.621 12.137v1.71l.246.026c7.733.813 9.967 4.257 9.967 15.36v59.279c-2.578 5.102-7.415 8.131-13.274 8.336-9.503 0-14.736-6.419-14.736-18.073V43.638l-43.714 12.55v1.703l.262.024c9.459.84 12.05 4.097 12.05 15.152v50.17a56.3 56.3 0 0 0 .91 10.444l.787 3.423c3.701 13.262 13.398 20.197 28.59 20.197 12.868 0 24.147-7.966 29.115-20.43v17.311h43.714v-1.747zm169.818 1.788v-1.749l-.213-.05c-8.7-2.006-12.089-5.789-12.089-13.49v-63.79c0-19.89-11.171-31.761-29.883-31.761-13.64 0-25.141 7.882-29.569 20.16-3.517-13.01-13.639-20.16-28.606-20.16-13.146 0-23.449 6.938-27.869 18.657V43.643L545.487 55.68v1.715l.263.024c9.345.829 12.047 4.181 12.047 14.95v81.784h40.787v-1.746l-.215-.053c-6.941-1.631-9.181-4.606-9.181-12.239V66.998c1.836-4.289 5.537-9.37 12.853-9.37 9.086 0 13.692 6.296 13.692 18.697v77.828h40.797v-1.746l-.215-.053c-6.94-1.631-9.18-4.606-9.18-12.239V75.066a42 42 0 0 0-.578-7.26c1.947-4.661 5.86-10.177 13.475-10.177 9.214 0 13.691 6.114 13.691 18.696v77.828z"></path></svg></div><h2 class="xy b jl xz ya jo yb yc qq jt yd qu jw ye qy jz yf yg yh">Sign up to discover human stories that deepen your understanding of the world.</h2></div><div class="ac yi uk uj"><div class="yj hz bp xo yk xq yl ym yn yo yp yq yr ac co cp c"><div class="m"><div class="ac r cp"><div class="ac r"><h2 class="bf gj gz ab im bk">Free</h2></div></div><div class="hn ys m cx"></div><div class="hn ac"><div class="bo m"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" class="yt"><path stroke="#242424" stroke-linecap="round" stroke-linejoin="round" d="M3 8.79 7.103 13 13 3"></path></svg></div><p class="bf b bg ab bk">Distraction-free reading. No ads.</p></div><div class="hn ac"><div class="bo m"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" class="yt"><path stroke="#242424" stroke-linecap="round" stroke-linejoin="round" d="M3 8.79 7.103 13 13 3"></path></svg></div><p class="bf b bg ab bk">Organize your knowledge with lists and highlights.</p></div><div class="hn ac"><div class="bo m"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" class="yt"><path stroke="#242424" stroke-linecap="round" stroke-linejoin="round" d="M3 8.79 7.103 13 13 3"></path></svg></div><p class="bf b bg ab bk">Tell your story. Find your audience.</p></div></div><div class="m"><div class="cl yu ys m cx"></div><span><button class="bf b bg ab wh tp yv yw yx yy yz ev ew za zb zc fa bh fb fc fd bm fe ff">Sign up for free</button></span></div></div><div class="yj hz bp yk yl yn yp yr ac co cp c"><div class="m"><div class="ac r cp"><div class="ac r"><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="none" viewBox="0 0 64 64" class="to dh nj"><path fill="#FFC017" d="m39.637 40.831-5.771 15.871a1.99 1.99 0 0 1-3.732 0l-5.771-15.87a2.02 2.02 0 0 0-1.194-1.195L7.298 33.866a1.99 1.99 0 0 1 0-3.732l15.87-5.771a2.02 2.02 0 0 0 1.195-1.194l5.771-15.871a1.99 1.99 0 0 1 3.732 0l5.771 15.87a2.02 2.02 0 0 0 1.194 1.195l15.871 5.771a1.99 1.99 0 0 1 0 3.732l-15.87 5.771a2.02 2.02 0 0 0-1.195 1.194"></path></svg><h2 class="bf gj gz ab im bk">Membership</h2></div></div><div class="hn ys m cx"></div><div class="hn ac"><div class="bo m"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" class="yt"><path stroke="#242424" stroke-linecap="round" stroke-linejoin="round" d="M3 8.79 7.103 13 13 3"></path></svg></div><p class="bf b bg ab bk">Read member-only stories</p></div><div class="hn ac"><div class="bo m"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" class="yt"><path stroke="#242424" stroke-linecap="round" stroke-linejoin="round" d="M3 8.79 7.103 13 13 3"></path></svg></div><p class="bf b bg ab bk">Support writers you read most</p></div><div class="hn ac"><div class="bo m"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" class="yt"><path stroke="#242424" stroke-linecap="round" stroke-linejoin="round" d="M3 8.79 7.103 13 13 3"></path></svg></div><p class="bf b bg ab bk">Earn money for your writing</p></div><div class="hn ac"><div class="bo m"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" class="yt"><path stroke="#242424" stroke-linecap="round" stroke-linejoin="round" d="M3 8.79 7.103 13 13 3"></path></svg></div><p class="bf b bg ab bk">Listen to audio narrations</p></div><div class="hn ac"><div class="bo m"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" class="yt"><path stroke="#242424" stroke-linecap="round" stroke-linejoin="round" d="M3 8.79 7.103 13 13 3"></path></svg></div><p class="bf b bg ab bk">Read offline with the Medium app</p></div></div><div class="m"><div class="cl yu ys m cx"></div><span><button class="bf b bg ab wh tp yv yw yx yy yz ev ew za zb zc fa bh fb fc fd bm fe ff">Try for $5/month</button></span></div></div></div></div></div></div></div></div><div class="ac cb"><div class="ci bh hu hv hw hx"><div class="tm tn ac kz"><div class="te ac"><a class="to aj an ap" rel="noopener follow" href="/tag/ml-system-design?source=post_page-----9cc01d50a2a0---------------------------------------" data-discover="true"><div class="tp fl cx tq hz tr ts bf b bg ab bk fz">Ml System Design</div></a></div><div class="te ac"><a class="to aj an ap" rel="noopener follow" href="/tag/artificial-intelligence?source=post_page-----9cc01d50a2a0---------------------------------------" data-discover="true"><div class="tp fl cx tq hz tr ts bf b bg ab bk fz">Artificial Intelligence</div></a></div><div class="te ac"><a class="to aj an ap" rel="noopener follow" href="/tag/machine-learning?source=post_page-----9cc01d50a2a0---------------------------------------" data-discover="true"><div class="tp fl cx tq hz tr ts bf b bg ab bk fz">Machine Learning</div></a></div><div class="te ac"><a class="to aj an ap" rel="noopener follow" href="/tag/streaming-pipeline?source=post_page-----9cc01d50a2a0---------------------------------------" data-discover="true"><div class="tp fl cx tq hz tr ts bf b bg ab bk fz">Streaming Pipeline</div></a></div><div class="te ac"><a class="to aj an ap" rel="noopener follow" href="/tag/data-science?source=post_page-----9cc01d50a2a0---------------------------------------" data-discover="true"><div class="tp fl cx tq hz tr ts bf b bg ab bk fz">Data Science</div></a></div></div></div></div><div class="m"></div><footer class="tt tu tv tw tx ac r ty tz c"><div class="m af"><div class="ac cb"><div class="ci bh hu hv hw hx"><div class="ac cp ua"><div class="ac r mi"><div class="ub m"><span class="m uc ud ue f e"><div class="ac r mi mj"><div class="pw-multi-vote-icon fl mk ml mm mn"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" data-testid="footerClapButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fdecodingml%2F9cc01d50a2a0&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdecodingml%2Fa-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0&amp;user=Paul+Iusztin&amp;userId=8323de62a1a1&amp;source=---footer_actions--9cc01d50a2a0---------------------clap_footer------------------" data-discover="true"><div><div class="bm" aria-hidden="false" aria-describedby="8" aria-labelledby="8"><div tabindex="-1" class="be"><div class="mo ap mp mq mr ms an mt mu mv mn" role="presentation"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></div></div></div></div></a></span></div><div class="pw-multi-vote-count m mw mx my mz na nb nc"><div><div class="bm" aria-hidden="false" aria-describedby="92" aria-labelledby="92"><div tabindex="-1" class="be"><p class="bf b dv ab du"><button class="ag ah ai fh ak al am an ao ap aq ar as at au acf nk">323<span class="m i h g uf ug"></span></button></p></div></div></div></div></div></span><span class="m i h g uf ug"><div class="ac r mi mj"><div class="pw-multi-vote-icon fl mk ml mm mn"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" data-testid="footerClapButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fdecodingml%2F9cc01d50a2a0&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdecodingml%2Fa-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0&amp;user=Paul+Iusztin&amp;userId=8323de62a1a1&amp;source=---footer_actions--9cc01d50a2a0---------------------clap_footer------------------" data-discover="true"><div><div class="bm" aria-hidden="false" aria-describedby="9" aria-labelledby="9"><div tabindex="-1" class="be"><div class="mo ap mp mq mr ms an mt mu mv mn" role="presentation"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></div></div></div></div></a></span></div><div class="pw-multi-vote-count m mw mx my mz na nb nc"><div><div class="bm" aria-hidden="false" aria-describedby="94" aria-labelledby="94"><div tabindex="-1" class="be"><p class="bf b dv ab du"><button class="ag ah ai fh ak al am an ao ap aq ar as at au acf nk">323</button></p></div></div></div></div></div></span></div><div class="ay ac"><div><div class="bm" aria-hidden="false" aria-describedby="10" aria-labelledby="10"><div tabindex="-1" class="be"><button class="ap mo ne nf ac r fm ng nh" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="ni"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"></path></svg></button></div></div></div></div></div><div class="ac r"><div class="qi m sw"><div><div class="bm" aria-hidden="false" aria-describedby="11" aria-labelledby="11"><div tabindex="-1" class="be"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" data-testid="footerBookmarkButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9cc01d50a2a0&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdecodingml%2Fa-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0&amp;source=---footer_actions--9cc01d50a2a0---------------------bookmark_footer------------------" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du nk" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div></div><div class="qi m sw"><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false" aria-describedby="12" aria-labelledby="12"><div tabindex="-1" class="be"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="footerSocialShareButton" class="ag fm ai fh ak al am nr ao ap aq ex ns nt nh nu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></div></div></div></footer><div class="uh m"><div class="ac cb"><div class="ci bh hu hv hw hx"><div class="ui m"><div class="ac kj kh kf uj uk"><div class="ul um un uo up uq ur us ut uu ac cp"><div class="i l"><a href="https://medium.com/decodingml?source=post_page---post_publication_info--9cc01d50a2a0---------------------------------------" rel="noopener follow"><div class="fl"><img alt="Decoding ML" class="cx hj m uw uv" src="https://miro.medium.com/v2/resize:fill:48:48/1*26Oyys83TRIKEtdUM1uZRA.png" width="48" height="48" loading="lazy"><div class="hj m uv uw fu o ft hm"></div></div></a></div><div class="k j e"><a href="https://medium.com/decodingml?source=post_page---post_publication_info--9cc01d50a2a0---------------------------------------" rel="noopener follow"><div class="fl"><img alt="Decoding ML" class="cx hj m uy ux" src="https://miro.medium.com/v2/resize:fill:64:64/1*26Oyys83TRIKEtdUM1uZRA.png" width="64" height="64" loading="lazy"><div class="hj m ux uy fu o ft hm"></div></div></a></div><div class="k j e uz sw"><div class="ac"><button class="abv yt ap ac cb r acg mh ach" style="border: 1px solid rgb(36, 36, 36);"><span class="bf b bg ab bk bh"><span class="bm ace">Follow</span></span></button></div></div></div><div class="ac co ca"><div class="va vb vc rk rj m"><a class="ag ah ai ak al am an ao ap aq ar as at au ac r" href="https://medium.com/decodingml?source=post_page---post_publication_info--9cc01d50a2a0---------------------------------------" rel="noopener follow"><h2 class="pw-author-name bf gj ve vf vg vh vi vj go gp gq gr gs gt gu gv gw bk"><span class="ho vd">Published in Decoding ML</span></h2></a><div class="te ac kl"><div class="m sw"><span class="pw-follower-count bf b bg ab du"><a class="ag ah ai fh ak al am an ao ap aq ar as ku" rel="noopener follow" href="/decodingml/followers?source=post_page---post_publication_info--9cc01d50a2a0---------------------------------------" data-discover="true">1.5K followers</a></span></div><div class="bf b bg ab du ac vk"><span class="gx m" aria-hidden="true"><span class="bf b bg ab du">·</span></span><a class="ag ah ai fh ak al am an ao ap aq ar as ku" rel="noopener follow" href="/decodingml/a-quick-update-find-us-mostly-on-substack-now-4a74e506cc88?source=post_page---post_publication_info--9cc01d50a2a0---------------------------------------" data-discover="true">Last published&nbsp;<span>Apr 21, 2025</span></a></div></div><div class="hn m"><p class="bf b bg ab bk"><span class="ho">Battle-tested content on designing, coding, and deploying production-grade ML &amp; MLOps systems. The hub for continuous learning on ML system design, ML engineering, MLOps, large language models (LLMs), and computer vision (CV).</span></p></div></div></div><div class="i l"><div class="ac"><button class="abv yt ap ac cb r acg mh ach" style="border: 1px solid rgb(36, 36, 36);"><span class="bf b bg ab bk bh"><span class="bm ace">Follow</span></span></button></div></div></div></div><div class="ac kj kh kf uj uk"><div class="ul um un uo up uq ur us ut uu ac cp"><div class="i l"><a tabindex="0" rel="noopener follow" href="/@pauliusztin?source=post_page---post_author_info--9cc01d50a2a0---------------------------------------" data-discover="true"><div class="m fl"><img alt="Paul Iusztin" class="m fd bx uv uw cx" src="https://miro.medium.com/v2/resize:fill:48:48/1*r3Geug_sW6weKSvaqBJtAA.jpeg" width="48" height="48" loading="lazy"><div class="ft bx m uv uw fu o aj hm"></div></div></a></div><div class="k j e"><a tabindex="0" rel="noopener follow" href="/@pauliusztin?source=post_page---post_author_info--9cc01d50a2a0---------------------------------------" data-discover="true"><div class="m fl"><img alt="Paul Iusztin" class="m fd bx ux uy cx" src="https://miro.medium.com/v2/resize:fill:64:64/1*r3Geug_sW6weKSvaqBJtAA.jpeg" width="64" height="64" loading="lazy"><div class="ft bx m ux uy fu o aj hm"></div></div></a></div><div class="k j e uz sw"><div class="ac"><div class="bm" aria-hidden="false"><button class="abv yt ap ac cb r acg mh ach" style="border: 1px solid rgb(36, 36, 36);"><span class="bf b bg ab bk bh"><span class="bm ace">Follow</span></span></button></div><div class="dt m"><div><div class="bm" aria-hidden="false" aria-describedby="213" aria-labelledby="213"><div tabindex="-1" class="be"><button class="bf b bg ab bk abp abu abv abw nk ng yz ev ew ex abx aby abz fa fb fc fd bm fe ff"><svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="none" viewBox="0 0 24 24"><path fill="#242424" fill-rule="evenodd" d="M12.286 3A2.33 2.33 0 0 1 14 3.748 2.325 2.325 0 0 1 15.714 3C16.977 3 18 3.99 18 5.21c0 .567-.22 1.083-.582 1.474l-.18.184-2.543 2.46a1 1 0 0 1-1.39 0l-2.543-2.46-.18-.184A2.16 2.16 0 0 1 10 5.211C10 3.99 11.023 3 12.286 3M17 5.21c0 .297-.113.571-.308.787l-.16.163L14 8.609l-2.533-2.45-.159-.162A1.16 1.16 0 0 1 11 5.21C11 4.573 11.544 4 12.286 4c.396 0 .742.167.975.422l.739.81.739-.81c.233-.255.58-.422.975-.422C16.456 4 17 4.573 17 5.21m3.542 5.293a.62.62 0 0 1 .513.185.6.6 0 0 1 .188.42c.005.119-.07.275-.298.52l-3.33 3.587c-.285.306-.682.48-1.1.48h-3.329c-.663 0-1.298.263-1.766.732l-.849.849-.033.032-3.588-3.116 1.87-1.705a2.5 2.5 0 0 1 1.685-.652h.27q.037.006.077.006h5.279a.757.757 0 1 1 0 1.514h-3.267a.5.5 0 1 0 0 1h3.267a1.757 1.757 0 0 0 1.749-1.928l2.288-1.73c.182-.137.29-.187.374-.194M6.19 13.53l1.957-1.783a3.5 3.5 0 0 1 2.358-.913h1.103v.006h4.523c.543 0 1.028.246 1.35.633L19.566 9.9c.198-.15.503-.36.893-.394.352-.03.865.035 1.305.476.352.352.466.755.48 1.086.022.561-.33.987-.565 1.24l-3.331 3.587a2.5 2.5 0 0 1-1.831.8h-3.33c-.397 0-.777.157-1.06.439l-.831.832.252.219a1 1 0 0 1 .1 1.41L9.99 21.503a1 1 0 0 1-1.411.099l-5.825-5.06a1 1 0 0 1-.1-1.41l1.656-1.907a1 1 0 0 1 1.411-.1zm-2.78 2.255 1.656-1.906 5.826 5.06-1.656 1.906z" clip-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div><div class="ac co ca"><div class="va vb vc rk rj m"><a class="ag ah ai ak al am an ao ap aq ar as at au ac r" rel="noopener follow" href="/@pauliusztin?source=post_page---post_author_info--9cc01d50a2a0---------------------------------------" data-discover="true"><h2 class="pw-author-name bf gj ve vf vg vh vi vj go gp gq gr gs gt gu gv gw bk"><span class="ho vd">Written by Paul Iusztin</span></h2><div class="vl ac"><div><div class="ac" aria-hidden="false" aria-describedby="13" aria-labelledby="13"><div tabindex="-1" class="be"><div class="ac kx"><div class="ac"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 16 16"><path fill="#437AFF" d="M15.163 8c0 .65-.459 1.144-.863 1.575-.232.244-.471.5-.563.719s-.086.543-.092.875c-.006.606-.018 1.3-.49 1.781-.47.481-1.15.494-1.744.5-.324.006-.655.013-.857.094s-.465.337-.704.575c-.422.412-.906.881-1.542.881-.637 0-1.12-.469-1.543-.881-.239-.238-.49-.482-.704-.575-.214-.094-.532-.088-.857-.094-.593-.006-1.273-.019-1.744-.5s-.484-1.175-.49-1.781c-.006-.332-.012-.669-.092-.875-.08-.207-.33-.475-.563-.719-.404-.431-.863-.925-.863-1.575s.46-1.144.863-1.575c.233-.244.472-.5.563-.719.092-.219.086-.544.092-.875.006-.606.019-1.3.49-1.781s1.15-.494 1.744-.5c.325-.006.655-.012.857-.094.202-.081.465-.337.704-.575C7.188 1.47 7.671 1 8.308 1s1.12.469 1.542.881c.239.238.49.481.704.575s.533.088.857.094c.594.006 1.273.019 1.745.5.47.481.483 1.175.49 1.781.005.331.011.669.091.875s.33.475.563.719c.404.431.863.925.863 1.575"></path><path fill="#fff" d="M7.328 10.5c.195 0 .381.08.519.22.137.141.215.331.216.53 0 .066.026.13.072.177a.24.24 0 0 0 .346 0 .25.25 0 0 0 .071-.177c.001-.199.079-.389.216-.53a.73.73 0 0 1 .519-.22h1.959c.13 0 .254-.053.346-.146a.5.5 0 0 0 .143-.354V6a.5.5 0 0 0-.143-.354.49.49 0 0 0-.346-.146h-1.47c-.324 0-.635.132-.865.366-.23.235-.359.552-.359.884v2.5c0 .066-.025.13-.071.177a.24.24 0 0 1-.346 0 .25.25 0 0 1-.072-.177v-2.5c0-.332-.13-.65-.359-.884A1.21 1.21 0 0 0 6.84 5.5h-1.47a.49.49 0 0 0-.346.146A.5.5 0 0 0 4.88 6v4c0 .133.051.26.143.354a.49.49 0 0 0 .347.146z"></path></svg></div></div></div></div></div></div></a><div class="te ac kl"><div class="m sw"><span class="pw-follower-count bf b bg ab du"><a class="ag ah ai fh ak al am an ao ap aq ar as ku" rel="noopener follow" href="/@pauliusztin/followers?source=post_page---post_author_info--9cc01d50a2a0---------------------------------------" data-discover="true">5.7K followers</a></span></div><div class="bf b bg ab du ac vk"><span class="gx m" aria-hidden="true"><span class="bf b bg ab du">·</span></span><a class="ag ah ai fh ak al am an ao ap aq ar as ku" rel="noopener follow" href="/@pauliusztin/following?source=post_page---post_author_info--9cc01d50a2a0---------------------------------------" data-discover="true">242 following</a></div></div><div class="hn m"><p class="bf b bg ab bk"><span class="ho">Senior AI/ML Engineer • Founder @ Decoding ML ~ Articles, code, and courses about building production-grade AI systems.</span></p></div></div></div><div class="i l"><div class="ac"><div class="bm" aria-hidden="false"><button class="abv yt ap ac cb r acg mh ach" style="border: 1px solid rgb(36, 36, 36);"><span class="bf b bg ab bk bh"><span class="bm ace">Follow</span></span></button></div><div class="dt m"><div><div class="bm" aria-hidden="false" aria-describedby="214" aria-labelledby="214"><div tabindex="-1" class="be"><button class="bf b bg ab bk abp abu abv abw nk ng yz ev ew ex abx aby abz fa fb fc fd bm fe ff"><svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="none" viewBox="0 0 24 24"><path fill="#242424" fill-rule="evenodd" d="M12.286 3A2.33 2.33 0 0 1 14 3.748 2.325 2.325 0 0 1 15.714 3C16.977 3 18 3.99 18 5.21c0 .567-.22 1.083-.582 1.474l-.18.184-2.543 2.46a1 1 0 0 1-1.39 0l-2.543-2.46-.18-.184A2.16 2.16 0 0 1 10 5.211C10 3.99 11.023 3 12.286 3M17 5.21c0 .297-.113.571-.308.787l-.16.163L14 8.609l-2.533-2.45-.159-.162A1.16 1.16 0 0 1 11 5.21C11 4.573 11.544 4 12.286 4c.396 0 .742.167.975.422l.739.81.739-.81c.233-.255.58-.422.975-.422C16.456 4 17 4.573 17 5.21m3.542 5.293a.62.62 0 0 1 .513.185.6.6 0 0 1 .188.42c.005.119-.07.275-.298.52l-3.33 3.587c-.285.306-.682.48-1.1.48h-3.329c-.663 0-1.298.263-1.766.732l-.849.849-.033.032-3.588-3.116 1.87-1.705a2.5 2.5 0 0 1 1.685-.652h.27q.037.006.077.006h5.279a.757.757 0 1 1 0 1.514h-3.267a.5.5 0 1 0 0 1h3.267a1.757 1.757 0 0 0 1.749-1.928l2.288-1.73c.182-.137.29-.187.374-.194M6.19 13.53l1.957-1.783a3.5 3.5 0 0 1 2.358-.913h1.103v.006h4.523c.543 0 1.028.246 1.35.633L19.566 9.9c.198-.15.503-.36.893-.394.352-.03.865.035 1.305.476.352.352.466.755.48 1.086.022.561-.33.987-.565 1.24l-3.331 3.587a2.5 2.5 0 0 1-1.831.8h-3.33c-.397 0-.777.157-1.06.439l-.831.832.252.219a1 1 0 0 1 .1 1.41L9.99 21.503a1 1 0 0 1-1.411.099l-5.825-5.06a1 1 0 0 1-.1-1.41l1.656-1.907a1 1 0 0 1 1.411-.1zm-2.78 2.255 1.656-1.906 5.826 5.06-1.656 1.906z" clip-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></div></div></div><div class="vm m"><div class="vn bh s uh"></div><div class="ac cb"><div class="ci bh hu hv hw hx"><div class="ac r cp"><h2 class="bf gj qm jn gl qo jq gn qq qs qt qu qw qx qy ra rb bk">No responses yet</h2><div class="ac vo"><div><div class="bm" aria-hidden="false" aria-describedby="14" aria-labelledby="14"><div tabindex="-1" class="be"><a class="vp vq" href="https://policy.medium.com/medium-rules-30e5502c4eb4?source=post_page---post_responses--9cc01d50a2a0---------------------------------------" rel="noopener follow" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25"><path fill-rule="evenodd" d="M11.987 5.036a.754.754 0 0 1 .914-.01c.972.721 1.767 1.218 2.6 1.543.828.322 1.719.485 2.887.505a.755.755 0 0 1 .741.757c-.018 3.623-.43 6.256-1.449 8.21-1.034 1.984-2.662 3.209-4.966 4.083a.75.75 0 0 1-.537-.003c-2.243-.874-3.858-2.095-4.897-4.074-1.024-1.951-1.457-4.583-1.476-8.216a.755.755 0 0 1 .741-.757c1.195-.02 2.1-.182 2.923-.503.827-.322 1.6-.815 2.519-1.535m.468.903c-.897.69-1.717 1.21-2.623 1.564-.898.35-1.856.527-3.026.565.037 3.45.469 5.817 1.36 7.515.884 1.684 2.25 2.762 4.284 3.571 2.092-.81 3.465-1.89 4.344-3.575.886-1.698 1.299-4.065 1.334-7.512-1.149-.039-2.091-.217-2.99-.567-.906-.353-1.745-.873-2.683-1.561m-.009 9.155a2.672 2.672 0 1 0 0-5.344 2.672 2.672 0 0 0 0 5.344m0 1a3.672 3.672 0 1 0 0-7.344 3.672 3.672 0 0 0 0 7.344m-1.813-3.777.525-.526.916.917 1.623-1.625.526.526-2.149 2.152z" clip-rule="evenodd"></path></svg></a></div></div></div></div></div><div class="vr vs vt vu vv m"><div><div class="bf b bg ab bk"><div class="ha"><div class="abj m"><div class="abk ac r"><div class="m fl"><img alt="" class="m fd bx by bz cx" src="https://miro.medium.com/v2/resize:fill:32:32/1*dmbNkD5D-u45r44go_cf0g.png" width="32" height="32" loading="lazy" role="presentation"><div class="ft bx m by bz fu o aj hm"></div></div><div class="bn ac cn co cb"><p class="bf b bg ab du">Write a response</p></div></div><div class="cx bp ac co abc abd"><div class="ac co fl"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdecodingml%2Fa-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0&amp;source=---post_responses--9cc01d50a2a0---------------------respond_sidebar------------------" data-discover="true"><div class="abl m"><p class="bf b bg ab du">What are your thoughts?</p></div></a></span><div class="cp abe du ac abf hg abg"><span class="bf b bg ab du"><div class="ac"><div><div class="bm" aria-hidden="false" aria-describedby="43" aria-labelledby="43"><div tabindex="-1" class="be"><span class="abm abn abo abp bp nl cb abq abr abs"><svg width="21" height="21"><path fill-rule="evenodd" d="M10.308 17.993h-5.92l.11-.894.783-.12c.56-.11.79-.224.79-.448V5.37c0-.225-.113-.336-.902-.448H4.5l-.114-.894h6.255c4.02 0 5.58 1.23 5.58 3.13 0 1.896-1.78 3.125-3.79 3.463v.11c2.69.34 4.25 1.56 4.25 3.57 0 2.35-2.01 3.69-6.37 3.69l.02.01h-.02zm-.335-12.96H8.967V10.5h1.23c1.788 0 2.79-1.23 2.79-2.683 0-1.685-1.004-2.803-3.006-2.803v.02zm-.223 6.36h-.783v5.588l1.225.23h.22c1.67 0 3.01-1.004 3.01-2.792 0-2.122-1.566-3.016-3.69-3.016h.018z"></path></svg></span></div></div></div><div><div class="bm" aria-hidden="false" aria-describedby="44" aria-labelledby="44"><div tabindex="-1" class="be"><span class="abm abn abo abp bp nl cb abq abr abs"><svg width="21" height="21"><path fill-rule="evenodd" d="M9.847 18.04c-.533 0-2.027-.64-1.92-.853l2.027-7.68-.64-.214-1.387 1.494-.427-.427c.534-1.173 1.707-2.667 2.774-2.667.533 0 2.24.534 2.133.854l-2.133 7.786.533.214 1.6-1.067.427.427c-.64 1.066-1.92 2.133-2.987 2.133m2.347-11.733c-.96 0-1.387-.64-1.387-1.387 0-1.067.747-1.92 1.493-1.92.854 0 1.387.64 1.387 1.493-.107 1.067-.747 1.814-1.493 1.814"></path></svg></span></div></div></div></div></span><div class="abh uz ac abf hg abg"><div class="abi"><button class="bf b dv ab bk abt abu abv abw nk ng yz ev ew ex abx aby abz fa fb fc fd bm fe ff" data-testid="CancelResponseButton">Cancel</button></div><button class="bf b dv ab wh abt yv yw yx yy yz ev ew za zb zc fa fb fc fd bm fe ff" disabled="" data-testid="ResponseRespondButton">Respond</button></div></div></div></div></div></div></div></div></div></div></div></div><div class="vw vx vy vz wa m bw"><div class="ac cb"><div class="ci bh hu hv hw hx"><div class="aci acj dm dn do hn m"><h2 class="bf gj qm jn gl qo jq gn qq qs qt qu qw qx qy ra rb bk">More from Paul Iusztin and Decoding ML</h2></div><div class="yi ac mi kz ack acl acm acn aco acp acq acr acs act acu acv acw acx acy"><div class="acz ada adb rj adc add ade rk adf adg adh adi adj adk adl adm adn ado adp adq adr"><div class="ads adt adu adv adw dw m"><article class="dw" data-testid="post-preview"><div class="dw tx m"><div class="bh dw"><div class="dw m"><div class="fl dw adx ady adz aea aeb aec aed aee aef aeg aeh aei aej" role="link" data-href="https://medium.com/decodingml/an-end-to-end-framework-for-production-ready-llm-systems-by-building-your-llm-twin-2cc6bb01141f" tabindex="0"><div class="aek"><div aria-label="An End-to-End Framework for Production-Ready LLM Systems by Building Your LLM Twin"><div class="aem aen aeo aep aeq"><img alt="An End-to-End Framework for Production-Ready LLM Systems by Building Your LLM Twin" class="bh aer aes aet bw" src="https://miro.medium.com/v2/resize:fit:679/1*3HhjepgNW8LXIszD7OBSXw.png" loading="lazy"></div></div></div><div class="ael ac cb co"><div class="ac co zy bh aeu aev aew aex"><div class="aey aez afa afb afc ac r"><div class="to m"><div><div class="m" aria-hidden="false" aria-describedby="140" aria-labelledby="140"><div tabindex="-1" class="be"><a href="https://medium.com/decodingml?source=post_page---author_recirc--9cc01d50a2a0----0---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" rel="noopener follow"><div class="fl"><img alt="Decoding ML" class="cx hj m afe afd" src="https://miro.medium.com/v2/resize:fill:20:20/1*26Oyys83TRIKEtdUM1uZRA.png" width="20" height="20" loading="lazy"><div class="hj m afd afe fu o ft fv"></div></div></a></div></div></div></div><div class="vd m"><p class="bf b dv ab du">In</p></div><div class="m"><div><div class="m" aria-hidden="false" aria-describedby="141" aria-labelledby="141"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" href="https://medium.com/decodingml?source=post_page---author_recirc--9cc01d50a2a0----0---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" rel="noopener follow"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">Decoding ML</p></a></div></div></div></div><div class="afi m"><p class="bf b dv ab du">by</p></div><div><div class="m" aria-hidden="false" aria-describedby="142" aria-labelledby="142"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" rel="noopener follow" href="/@pauliusztin?source=post_page---author_recirc--9cc01d50a2a0----0---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" data-discover="true"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">Paul Iusztin</p><div class="kv vl m"><div class="ac kx"><div class="ac"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#437AFF" d="M15.163 8c0 .65-.459 1.144-.863 1.575-.232.244-.471.5-.563.719s-.086.543-.092.875c-.006.606-.018 1.3-.49 1.781-.47.481-1.15.494-1.744.5-.324.006-.655.013-.857.094s-.465.337-.704.575c-.422.412-.906.881-1.542.881-.637 0-1.12-.469-1.543-.881-.239-.238-.49-.482-.704-.575-.214-.094-.532-.088-.857-.094-.593-.006-1.273-.019-1.744-.5s-.484-1.175-.49-1.781c-.006-.332-.012-.669-.092-.875-.08-.207-.33-.475-.563-.719-.404-.431-.863-.925-.863-1.575s.46-1.144.863-1.575c.233-.244.472-.5.563-.719.092-.219.086-.544.092-.875.006-.606.019-1.3.49-1.781s1.15-.494 1.744-.5c.325-.006.655-.012.857-.094.202-.081.465-.337.704-.575C7.188 1.47 7.671 1 8.308 1s1.12.469 1.542.881c.239.238.49.481.704.575s.533.088.857.094c.594.006 1.273.019 1.745.5.47.481.483 1.175.49 1.781.005.331.011.669.091.875s.33.475.563.719c.404.431.863.925.863 1.575"></path><path fill="#fff" d="M7.328 10.5c.195 0 .381.08.519.22.137.141.215.331.216.53 0 .066.026.13.072.177a.24.24 0 0 0 .346 0 .25.25 0 0 0 .071-.177c.001-.199.079-.389.216-.53a.73.73 0 0 1 .519-.22h1.959c.13 0 .254-.053.346-.146a.5.5 0 0 0 .143-.354V6a.5.5 0 0 0-.143-.354.49.49 0 0 0-.346-.146h-1.47c-.324 0-.635.132-.865.366-.23.235-.359.552-.359.884v2.5c0 .066-.025.13-.071.177a.24.24 0 0 1-.346 0 .25.25 0 0 1-.072-.177v-2.5c0-.332-.13-.65-.359-.884A1.21 1.21 0 0 0 6.84 5.5h-1.47a.49.49 0 0 0-.346.146A.5.5 0 0 0 4.88 6v4c0 .133.051.26.143.354a.49.49 0 0 0 .347.146z"></path></svg></div></div></div></a></div></div></div></div><div class="afj m afk afl afm afn afo ho"><div class="afp afq afr afs aft afu afv afw"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/decodingml/an-end-to-end-framework-for-production-ready-llm-systems-by-building-your-llm-twin-2cc6bb01141f?source=post_page---author_recirc--9cc01d50a2a0----0---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" data-discover="true"><div title="An End-to-End Framework for Production-Ready LLM Systems by Building Your LLM Twin"><h2 class="bf io qm jn afx afy gl qo jq afz aga gn go gp agb agc gq gr gs agd age gt gu gv agf agg gw fx fy ta tc td bk">An End-to-End Framework for Production-Ready LLM Systems by Building Your LLM Twin</h2></div><div class="agh m"><h3 class="bf b gz ab fx sz fy ta tb tc td du">From data gathering to productionizing LLMs using LLMOps good practices.</h3></div></a></div></div><span class="bf b dv ab du"><div class="uv ac cp af"><div class="ac r agk"><span>Mar 16, 2024</span><div class=""><div class="fl agi dh ac r"><div class="fu hg agj ac r agk"><div class="fg dh dj m cx"></div></div><a class="fu ne agj ac r agk" tabindex="-1" rel="noopener follow" href="/decodingml/an-end-to-end-framework-for-production-ready-llm-systems-by-building-your-llm-twin-2cc6bb01141f?source=post_page---author_recirc--9cc01d50a2a0----0---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" data-discover="true"><div><div class="ac" aria-hidden="false" aria-describedby="215" aria-labelledby="215"><div tabindex="-1" class="be"><div class="ac r agl"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" aria-labelledby="clap-filled-static-desc" viewBox="0 0 16 16"><desc id="clap-filled-static-desc">A clap icon</desc><path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path></svg><span>2.2K</span></div></div></div></div><div><div class="ac" aria-hidden="false" aria-describedby="143" aria-labelledby="143"><div tabindex="-1" class="be"><div class="ac r agl"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#6B6B6B" aria-labelledby="response-filled-16px-desc" viewBox="0 0 16 16"><desc id="response-filled-16px-desc">A response icon</desc><path fill="#6B6B6B" d="M12.344 11.458A5.28 5.28 0 0 0 14 7.526C14 4.483 11.391 2 8.051 2S2 4.483 2 7.527c0 3.051 2.712 5.526 6.059 5.526a6.6 6.6 0 0 0 1.758-.236q.255.223.554.414c.784.51 1.626.768 2.512.768a.37.37 0 0 0 .355-.214.37.37 0 0 0-.03-.384 4.7 4.7 0 0 1-.857-1.958v.014z"></path></svg><span>14</span></div></div></div></div></a></div></div></div><div class="ac r agm agn"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="144" aria-labelledby="144"><div tabindex="-1" class="be"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2cc6bb01141f&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdecodingml%2Fan-end-to-end-framework-for-production-ready-llm-systems-by-building-your-llm-twin-2cc6bb01141f&amp;source=---author_recirc--9cc01d50a2a0----0-----------------bookmark_preview----1640223a_6ca0_482e_b528_a5607c7794ea--------------" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du nk ago" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div></div></div></div></span><div class="k j e"><div class="vn bh wb ni"></div></div></div></div></div></div></div></div></article></div></div><div class="acz ada adb rj adc add ade rk adf adg adh adi adj adk adl adm adn ado adp adq adr"><div class="ads adt adu adv adw dw m"><article class="dw" data-testid="post-preview"><div class="dw tx m"><div class="bh dw"><div class="dw m"><div class="fl dw adx ady adz aea aeb aec aed aee aef aeg aeh aei aej" role="link" data-href="https://medium.com/decodingml/your-content-is-gold-i-turned-3-years-of-blog-posts-into-an-llm-training-d19c265bdd6e" tabindex="0"><div class="aek"><div aria-label="Your Content is Gold: I Turned 3 Years of Blog Posts into an LLM Training"><div class="aem aen aeo aep aeq"><img alt="Your Content is Gold: I Turned 3 Years of Blog Posts into an LLM Training" class="bh aer aes aet bw" src="https://miro.medium.com/v2/resize:fit:679/0*N6e1oZxeU9MGCc8q.png" loading="lazy"></div></div></div><div class="ael ac cb co"><div class="ac co zy bh aeu aev aew aex"><div class="aey aez afa afb afc ac r"><div class="to m"><div><div class="m" aria-hidden="false" aria-describedby="145" aria-labelledby="145"><div tabindex="-1" class="be"><a href="https://medium.com/decodingml?source=post_page---author_recirc--9cc01d50a2a0----1---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" rel="noopener follow"><div class="fl"><img alt="Decoding ML" class="cx hj m afe afd" src="https://miro.medium.com/v2/resize:fill:20:20/1*26Oyys83TRIKEtdUM1uZRA.png" width="20" height="20" loading="lazy"><div class="hj m afd afe fu o ft fv"></div></div></a></div></div></div></div><div class="vd m"><p class="bf b dv ab du">In</p></div><div class="m"><div><div class="m" aria-hidden="false" aria-describedby="146" aria-labelledby="146"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" href="https://medium.com/decodingml?source=post_page---author_recirc--9cc01d50a2a0----1---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" rel="noopener follow"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">Decoding ML</p></a></div></div></div></div><div class="afi m"><p class="bf b dv ab du">by</p></div><div><div class="m" aria-hidden="false" aria-describedby="147" aria-labelledby="147"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" rel="noopener follow" href="/@pauliusztin?source=post_page---author_recirc--9cc01d50a2a0----1---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" data-discover="true"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">Paul Iusztin</p><div class="kv vl m"><div class="ac kx"><div class="ac"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#437AFF" d="M15.163 8c0 .65-.459 1.144-.863 1.575-.232.244-.471.5-.563.719s-.086.543-.092.875c-.006.606-.018 1.3-.49 1.781-.47.481-1.15.494-1.744.5-.324.006-.655.013-.857.094s-.465.337-.704.575c-.422.412-.906.881-1.542.881-.637 0-1.12-.469-1.543-.881-.239-.238-.49-.482-.704-.575-.214-.094-.532-.088-.857-.094-.593-.006-1.273-.019-1.744-.5s-.484-1.175-.49-1.781c-.006-.332-.012-.669-.092-.875-.08-.207-.33-.475-.563-.719-.404-.431-.863-.925-.863-1.575s.46-1.144.863-1.575c.233-.244.472-.5.563-.719.092-.219.086-.544.092-.875.006-.606.019-1.3.49-1.781s1.15-.494 1.744-.5c.325-.006.655-.012.857-.094.202-.081.465-.337.704-.575C7.188 1.47 7.671 1 8.308 1s1.12.469 1.542.881c.239.238.49.481.704.575s.533.088.857.094c.594.006 1.273.019 1.745.5.47.481.483 1.175.49 1.781.005.331.011.669.091.875s.33.475.563.719c.404.431.863.925.863 1.575"></path><path fill="#fff" d="M7.328 10.5c.195 0 .381.08.519.22.137.141.215.331.216.53 0 .066.026.13.072.177a.24.24 0 0 0 .346 0 .25.25 0 0 0 .071-.177c.001-.199.079-.389.216-.53a.73.73 0 0 1 .519-.22h1.959c.13 0 .254-.053.346-.146a.5.5 0 0 0 .143-.354V6a.5.5 0 0 0-.143-.354.49.49 0 0 0-.346-.146h-1.47c-.324 0-.635.132-.865.366-.23.235-.359.552-.359.884v2.5c0 .066-.025.13-.071.177a.24.24 0 0 1-.346 0 .25.25 0 0 1-.072-.177v-2.5c0-.332-.13-.65-.359-.884A1.21 1.21 0 0 0 6.84 5.5h-1.47a.49.49 0 0 0-.346.146A.5.5 0 0 0 4.88 6v4c0 .133.051.26.143.354a.49.49 0 0 0 .347.146z"></path></svg></div></div></div></a></div></div></div></div><div class="afj m afk afl afm afn afo ho"><div class="afp afq afr afs aft afu afv afw"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/decodingml/your-content-is-gold-i-turned-3-years-of-blog-posts-into-an-llm-training-d19c265bdd6e?source=post_page---author_recirc--9cc01d50a2a0----1---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" data-discover="true"><div title="Your Content is Gold: I Turned 3 Years of Blog Posts into an LLM Training"><h2 class="bf io qm jn afx afy gl qo jq afz aga gn go gp agb agc gq gr gs agd age gt gu gv agf agg gw fx fy ta tc td bk">Your Content is Gold: I Turned 3 Years of Blog Posts into an LLM Training</h2></div><div class="agh m"><h3 class="bf b gz ab fx sz fy ta tb tc td du">A practical guide to building custom instruction datasets for fine-tuning LLMs</h3></div></a></div></div><span class="bf b dv ab du"><div class="uv ac cp af"><div class="ac r agk"><span>Nov 18, 2024</span><div class=""><div class="fl agi dh ac r"><div class="fu hg agj ac r agk"><div class="fg dh dj m cx"></div></div><a class="fu ne agj ac r agk" tabindex="-1" rel="noopener follow" href="/decodingml/your-content-is-gold-i-turned-3-years-of-blog-posts-into-an-llm-training-d19c265bdd6e?source=post_page---author_recirc--9cc01d50a2a0----1---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" data-discover="true"><div><div class="ac" aria-hidden="false" aria-describedby="217" aria-labelledby="217"><div tabindex="-1" class="be"><div class="ac r agl"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" aria-labelledby="clap-filled-static-desc" viewBox="0 0 16 16"><desc id="clap-filled-static-desc">A clap icon</desc><path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path></svg><span>128</span></div></div></div></div></a></div></div></div><div class="ac r agm agn"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="148" aria-labelledby="148"><div tabindex="-1" class="be"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fd19c265bdd6e&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdecodingml%2Fyour-content-is-gold-i-turned-3-years-of-blog-posts-into-an-llm-training-d19c265bdd6e&amp;source=---author_recirc--9cc01d50a2a0----1-----------------bookmark_preview----1640223a_6ca0_482e_b528_a5607c7794ea--------------" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du nk ago" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div></div></div></div></span><div class="k j e"><div class="vn bh wb ni"></div></div></div></div></div></div></div></div></article></div></div><div class="acz ada adb rj adc add ade rk adf adg adh adi adj adk adl adm adn ado adp adq adr"><div class="ads adt adu adv adw dw m"><article class="dw" data-testid="post-preview"><div class="dw tx m"><div class="bh dw"><div class="dw m"><div class="fl dw adx ady adz aea aeb aec aed aee aef aeg aeh aei aej" role="link" data-href="https://medium.com/decodingml/the-4-advanced-rag-algorithms-you-must-know-to-implement-5d0c7f1199d2" tabindex="0"><div class="aek"><div aria-label="The 4 Advanced RAG Algorithms You Must Know to Implement"><div class="aem aen aeo aep aeq"><img alt="The 4 Advanced RAG Algorithms You Must Know to Implement" class="bh aer aes aet bw" src="https://miro.medium.com/v2/resize:fit:679/0*N6e1oZxeU9MGCc8q.png" loading="lazy"></div></div></div><div class="ael ac cb co"><div class="ac co zy bh aeu aev aew aex"><div class="aey aez afa afb afc ac r"><div class="to m"><div><div class="m" aria-hidden="false" aria-describedby="149" aria-labelledby="149"><div tabindex="-1" class="be"><a href="https://medium.com/decodingml?source=post_page---author_recirc--9cc01d50a2a0----2---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" rel="noopener follow"><div class="fl"><img alt="Decoding ML" class="cx hj m afe afd" src="https://miro.medium.com/v2/resize:fill:20:20/1*26Oyys83TRIKEtdUM1uZRA.png" width="20" height="20" loading="lazy"><div class="hj m afd afe fu o ft fv"></div></div></a></div></div></div></div><div class="vd m"><p class="bf b dv ab du">In</p></div><div class="m"><div><div class="m" aria-hidden="false" aria-describedby="150" aria-labelledby="150"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" href="https://medium.com/decodingml?source=post_page---author_recirc--9cc01d50a2a0----2---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" rel="noopener follow"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">Decoding ML</p></a></div></div></div></div><div class="afi m"><p class="bf b dv ab du">by</p></div><div><div class="m" aria-hidden="false" aria-describedby="151" aria-labelledby="151"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" rel="noopener follow" href="/@pauliusztin?source=post_page---author_recirc--9cc01d50a2a0----2---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" data-discover="true"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">Paul Iusztin</p><div class="kv vl m"><div class="ac kx"><div class="ac"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#437AFF" d="M15.163 8c0 .65-.459 1.144-.863 1.575-.232.244-.471.5-.563.719s-.086.543-.092.875c-.006.606-.018 1.3-.49 1.781-.47.481-1.15.494-1.744.5-.324.006-.655.013-.857.094s-.465.337-.704.575c-.422.412-.906.881-1.542.881-.637 0-1.12-.469-1.543-.881-.239-.238-.49-.482-.704-.575-.214-.094-.532-.088-.857-.094-.593-.006-1.273-.019-1.744-.5s-.484-1.175-.49-1.781c-.006-.332-.012-.669-.092-.875-.08-.207-.33-.475-.563-.719-.404-.431-.863-.925-.863-1.575s.46-1.144.863-1.575c.233-.244.472-.5.563-.719.092-.219.086-.544.092-.875.006-.606.019-1.3.49-1.781s1.15-.494 1.744-.5c.325-.006.655-.012.857-.094.202-.081.465-.337.704-.575C7.188 1.47 7.671 1 8.308 1s1.12.469 1.542.881c.239.238.49.481.704.575s.533.088.857.094c.594.006 1.273.019 1.745.5.47.481.483 1.175.49 1.781.005.331.011.669.091.875s.33.475.563.719c.404.431.863.925.863 1.575"></path><path fill="#fff" d="M7.328 10.5c.195 0 .381.08.519.22.137.141.215.331.216.53 0 .066.026.13.072.177a.24.24 0 0 0 .346 0 .25.25 0 0 0 .071-.177c.001-.199.079-.389.216-.53a.73.73 0 0 1 .519-.22h1.959c.13 0 .254-.053.346-.146a.5.5 0 0 0 .143-.354V6a.5.5 0 0 0-.143-.354.49.49 0 0 0-.346-.146h-1.47c-.324 0-.635.132-.865.366-.23.235-.359.552-.359.884v2.5c0 .066-.025.13-.071.177a.24.24 0 0 1-.346 0 .25.25 0 0 1-.072-.177v-2.5c0-.332-.13-.65-.359-.884A1.21 1.21 0 0 0 6.84 5.5h-1.47a.49.49 0 0 0-.346.146A.5.5 0 0 0 4.88 6v4c0 .133.051.26.143.354a.49.49 0 0 0 .347.146z"></path></svg></div></div></div></a></div></div></div></div><div class="afj m afk afl afm afn afo ho"><div class="afp afq afr afs aft afu afv afw"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/decodingml/the-4-advanced-rag-algorithms-you-must-know-to-implement-5d0c7f1199d2?source=post_page---author_recirc--9cc01d50a2a0----2---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" data-discover="true"><div title=""><h2 class="bf io qm jn afx afy gl qo jq afz aga gn go gp agb agc gq gr gs agd age gt gu gv agf agg gw fx fy ta tc td bk">The 4 Advanced RAG Algorithms You Must Know to Implement</h2></div><div class="agh m"><h3 class="bf b gz ab fx sz fy ta tb tc td du">Implement from scratch 4 advanced RAG methods to optimize your retrieval and post-retrieval algorithm</h3></div></a></div></div><span class="bf b dv ab du"><div class="uv ac cp af"><div class="ac r agk"><span>May 4, 2024</span><div class=""><div class="fl agi dh ac r"><div class="fu hg agj ac r agk"><div class="fg dh dj m cx"></div></div><a class="fu ne agj ac r agk" tabindex="-1" rel="noopener follow" href="/decodingml/the-4-advanced-rag-algorithms-you-must-know-to-implement-5d0c7f1199d2?source=post_page---author_recirc--9cc01d50a2a0----2---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" data-discover="true"><div><div class="ac" aria-hidden="false" aria-describedby="218" aria-labelledby="218"><div tabindex="-1" class="be"><div class="ac r agl"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" aria-labelledby="clap-filled-static-desc" viewBox="0 0 16 16"><desc id="clap-filled-static-desc">A clap icon</desc><path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path></svg><span>1.8K</span></div></div></div></div><div><div class="ac" aria-hidden="false" aria-describedby="152" aria-labelledby="152"><div tabindex="-1" class="be"><div class="ac r agl"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#6B6B6B" aria-labelledby="response-filled-16px-desc" viewBox="0 0 16 16"><desc id="response-filled-16px-desc">A response icon</desc><path fill="#6B6B6B" d="M12.344 11.458A5.28 5.28 0 0 0 14 7.526C14 4.483 11.391 2 8.051 2S2 4.483 2 7.527c0 3.051 2.712 5.526 6.059 5.526a6.6 6.6 0 0 0 1.758-.236q.255.223.554.414c.784.51 1.626.768 2.512.768a.37.37 0 0 0 .355-.214.37.37 0 0 0-.03-.384 4.7 4.7 0 0 1-.857-1.958v.014z"></path></svg><span>15</span></div></div></div></div></a></div></div></div><div class="ac r agm agn"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="153" aria-labelledby="153"><div tabindex="-1" class="be"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5d0c7f1199d2&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdecodingml%2Fthe-4-advanced-rag-algorithms-you-must-know-to-implement-5d0c7f1199d2&amp;source=---author_recirc--9cc01d50a2a0----2-----------------bookmark_preview----1640223a_6ca0_482e_b528_a5607c7794ea--------------" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du nk ago" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div></div></div></div></span><div class="k j e"><div class="vn bh wb ni"></div></div></div></div></div></div></div></div></article></div></div><div class="acz ada adb rj adc add ade rk adf adg adh adi adj adk adl adm adn ado adp adq adr"><div class="ads adt adu adv adw dw m"><article class="dw" data-testid="post-preview"><div class="dw tx m"><div class="bh dw"><div class="dw m"><div class="fl dw adx ady adz aea aeb aec aed aee aef aeg aeh aei aej" role="link" data-href="https://medium.com/data-science-collective/1-building-a-tiktok-like-recommender-a64563262c1a" tabindex="0"><div class="aek"><div aria-label="Building a TikTok-like recommender"><div class="aem aen aeo aep aeq"><img alt="Building a TikTok-like recommender" class="bh aer aes aet bw" src="https://miro.medium.com/v2/resize:fit:679/0*4GdmHgtbvEeN-6-k.png" loading="lazy"></div></div></div><div class="ael ac cb co"><div class="ac co zy bh aeu aev aew aex"><div class="aey aez afa afb afc ac r"><div class="to m"><div><div class="m" aria-hidden="false" aria-describedby="154" aria-labelledby="154"><div tabindex="-1" class="be"><a href="https://medium.com/data-science-collective?source=post_page---author_recirc--9cc01d50a2a0----3---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" rel="noopener follow"><div class="fl"><img alt="Data Science Collective" class="cx hj m afe afd" src="https://miro.medium.com/v2/resize:fill:20:20/1*0nV0Q-FBHj94Kggq00pG2Q.jpeg" width="20" height="20" loading="lazy"><div class="hj m afd afe fu o ft fv"></div></div></a></div></div></div></div><div class="vd m"><p class="bf b dv ab du">In</p></div><div class="m"><div><div class="m" aria-hidden="false" aria-describedby="155" aria-labelledby="155"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" href="https://medium.com/data-science-collective?source=post_page---author_recirc--9cc01d50a2a0----3---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" rel="noopener follow"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">Data Science Collective</p></a></div></div></div></div><div class="afi m"><p class="bf b dv ab du">by</p></div><div><div class="m" aria-hidden="false" aria-describedby="156" aria-labelledby="156"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" rel="noopener follow" href="/@pauliusztin?source=post_page---author_recirc--9cc01d50a2a0----3---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" data-discover="true"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">Paul Iusztin</p><div class="kv vl m"><div class="ac kx"><div class="ac"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#437AFF" d="M15.163 8c0 .65-.459 1.144-.863 1.575-.232.244-.471.5-.563.719s-.086.543-.092.875c-.006.606-.018 1.3-.49 1.781-.47.481-1.15.494-1.744.5-.324.006-.655.013-.857.094s-.465.337-.704.575c-.422.412-.906.881-1.542.881-.637 0-1.12-.469-1.543-.881-.239-.238-.49-.482-.704-.575-.214-.094-.532-.088-.857-.094-.593-.006-1.273-.019-1.744-.5s-.484-1.175-.49-1.781c-.006-.332-.012-.669-.092-.875-.08-.207-.33-.475-.563-.719-.404-.431-.863-.925-.863-1.575s.46-1.144.863-1.575c.233-.244.472-.5.563-.719.092-.219.086-.544.092-.875.006-.606.019-1.3.49-1.781s1.15-.494 1.744-.5c.325-.006.655-.012.857-.094.202-.081.465-.337.704-.575C7.188 1.47 7.671 1 8.308 1s1.12.469 1.542.881c.239.238.49.481.704.575s.533.088.857.094c.594.006 1.273.019 1.745.5.47.481.483 1.175.49 1.781.005.331.011.669.091.875s.33.475.563.719c.404.431.863.925.863 1.575"></path><path fill="#fff" d="M7.328 10.5c.195 0 .381.08.519.22.137.141.215.331.216.53 0 .066.026.13.072.177a.24.24 0 0 0 .346 0 .25.25 0 0 0 .071-.177c.001-.199.079-.389.216-.53a.73.73 0 0 1 .519-.22h1.959c.13 0 .254-.053.346-.146a.5.5 0 0 0 .143-.354V6a.5.5 0 0 0-.143-.354.49.49 0 0 0-.346-.146h-1.47c-.324 0-.635.132-.865.366-.23.235-.359.552-.359.884v2.5c0 .066-.025.13-.071.177a.24.24 0 0 1-.346 0 .25.25 0 0 1-.072-.177v-2.5c0-.332-.13-.65-.359-.884A1.21 1.21 0 0 0 6.84 5.5h-1.47a.49.49 0 0 0-.346.146A.5.5 0 0 0 4.88 6v4c0 .133.051.26.143.354a.49.49 0 0 0 .347.146z"></path></svg></div></div></div></a></div></div></div></div><div class="afj m afk afl afm afn afo ho"><div class="afp afq afr afs aft afu afv afw"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/data-science-collective/1-building-a-tiktok-like-recommender-a64563262c1a?source=post_page---author_recirc--9cc01d50a2a0----3---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" data-discover="true"><div title=""><h2 class="bf io qm jn afx afy gl qo jq afz aga gn go gp agb agc gq gr gs agd age gt gu gv agf agg gw fx fy ta tc td bk">Building a TikTok-like recommender</h2></div><div class="agh m"><h3 class="bf b gz ab fx sz fy ta tb tc td du">Scaling a personalized recommender to millions of items in real-time</h3></div></a></div></div><span class="bf b dv ab du"><div class="uv ac cp af"><div class="ac r agk"><span>Mar 9</span><div class=""><div class="fl agi dh ac r"><div class="fu hg agj ac r agk"><div class="fg dh dj m cx"></div></div><a class="fu ne agj ac r agk" tabindex="-1" rel="noopener follow" href="/data-science-collective/1-building-a-tiktok-like-recommender-a64563262c1a?source=post_page---author_recirc--9cc01d50a2a0----3---------------------1640223a_6ca0_482e_b528_a5607c7794ea--------------" data-discover="true"><div><div class="ac" aria-hidden="false" aria-describedby="220" aria-labelledby="220"><div tabindex="-1" class="be"><div class="ac r agl"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" aria-labelledby="clap-filled-static-desc" viewBox="0 0 16 16"><desc id="clap-filled-static-desc">A clap icon</desc><path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path></svg><span>301</span></div></div></div></div><div><div class="ac" aria-hidden="false" aria-describedby="157" aria-labelledby="157"><div tabindex="-1" class="be"><div class="ac r agl"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#6B6B6B" aria-labelledby="response-filled-16px-desc" viewBox="0 0 16 16"><desc id="response-filled-16px-desc">A response icon</desc><path fill="#6B6B6B" d="M12.344 11.458A5.28 5.28 0 0 0 14 7.526C14 4.483 11.391 2 8.051 2S2 4.483 2 7.527c0 3.051 2.712 5.526 6.059 5.526a6.6 6.6 0 0 0 1.758-.236q.255.223.554.414c.784.51 1.626.768 2.512.768a.37.37 0 0 0 .355-.214.37.37 0 0 0-.03-.384 4.7 4.7 0 0 1-.857-1.958v.014z"></path></svg><span>3</span></div></div></div></div></a></div></div></div><div class="ac r agm agn"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="158" aria-labelledby="158"><div tabindex="-1" class="be"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa64563262c1a&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdata-science-collective%2F1-building-a-tiktok-like-recommender-a64563262c1a&amp;source=---author_recirc--9cc01d50a2a0----3-----------------bookmark_preview----1640223a_6ca0_482e_b528_a5607c7794ea--------------" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du nk ago" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div></div></div></div></span></div></div></div></div></div></div></article></div></div></div><div class="vn bh wb dk dl agp agq agr"></div><div class="ac uk uj kf kh kj"><a class="bf b bg ab bk tp abu abv abw nk ng yz ev ew ex abx aby abz fa yk yl ags agt agu fb fc fd bm fe ff" rel="noopener follow" href="/@pauliusztin?source=post_page---author_recirc--9cc01d50a2a0---------------------------------------" data-discover="true"><div class="m ff">See all from Paul Iusztin</div></a><div class="agv agw agx agy agz aha ahb ahc ahd nc m"><a class="bf b bg ab bk tp abu abv abw nk ng yz ev ew ex abx aby abz fa yk yl ags agt agu fb fc fd bm fe ff" href="https://medium.com/decodingml?source=post_page---author_recirc--9cc01d50a2a0---------------------------------------" rel="noopener follow"><div class="m ff">See all from Decoding ML</div></a></div></div></div></div><div class="vn bh wb ahe ahf ahg ahh ahi"></div><div class="ac cb"><div class="ci bh hu hv hw hx"><div class="ahj ahk m"><h2 class="bf gj qm jn gl qo jq gn qq qs qt qu qw qx qy ra rb bk">Recommended from Medium</h2><div class="om on oo op oq m"><div class="yi ac mi kz ack acl acm acn aco acp acq acr acs act acu acv acw acx acy"><div class="acz ada adb rj adc add ade rk adf adg adh adi adj adk adl adm adn ado adp adq adr"><div class="ads adt adu adv adw dw m"><article class="dw" data-testid="post-preview"><div class="dw tx m"><div class="bh dw"><div class="dw m"><div class="fl dw adx ady adz aea aeb aec aed aee aef aeg aeh aei aej" role="link" data-href="https://medium.com/@simranjeetsingh1497/agentic-ai-projects-build-14-hands-on-ai-agents-key-design-patterns-free-b2ae0729e035" tabindex="0"><div class="aek"><div aria-label="Agentic AI Course with 14 AI Agent Projects"><div class="aem aen aeo aep aeq"><img alt="Agentic AI Course with 14 AI Agent Projects" class="bh aer aes aet bw" src="https://miro.medium.com/v2/resize:fit:679/1*Yk5FWh9Y81CX9nGU_yTieg.png" loading="lazy"></div></div></div><div class="ael ac cb co"><div class="ac co zy bh aeu aev aew aex"><div class="aey aez afa afb afc ac r"><div class="to m"><div class="m"><div><div class="m" aria-hidden="false" aria-describedby="159" aria-labelledby="159"><div tabindex="-1" class="be"><a tabindex="-1" rel="noopener follow" href="/@simranjeetsingh1497?source=post_page---read_next_recirc--9cc01d50a2a0----0---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><div class="m fl"><img alt="Simranjeet Singh" class="m fd bx afd afe cx" src="https://miro.medium.com/v2/resize:fill:20:20/1*UEfr3ehRbACbOK7f-lqruQ.jpeg" width="20" height="20" loading="lazy"><div class="ft bx m afd afe fu o aj fv"></div></div></a></div></div></div></div></div><div><div class="m" aria-hidden="false" aria-describedby="160" aria-labelledby="160"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" rel="noopener follow" href="/@simranjeetsingh1497?source=post_page---read_next_recirc--9cc01d50a2a0----0---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">Simranjeet Singh</p></a></div></div></div></div><div class="afj m afk afl afm afn afo ho"><div class="afp afq afr afs aft afu afv afw"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/@simranjeetsingh1497/agentic-ai-projects-build-14-hands-on-ai-agents-key-design-patterns-free-b2ae0729e035?source=post_page---read_next_recirc--9cc01d50a2a0----0---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><div title="Agentic AI Projects: Build 14 Hands‑On AI Agents + Key Design Patterns [FREE]"><h2 class="bf io qm jn afx afy gl qo jq afz aga gn go gp agb agc gq gr gs agd age gt gu gv agf agg gw fx fy ta tc td bk">Agentic AI Projects: Build 14 Hands‑On AI Agents + Key Design Patterns [FREE]</h2></div><div class="agh m"><h3 class="bf b gz ab fx sz fy ta tb tc td du">Explore 14 real-world Agentic AI projects and 2 key tutorials. Learn to build autonomous agents using OpenAI, Gemini, Ollama, and more.</h3></div></a></div></div><span class="bf b dv ab du"><div class="uv ac cp af"><div class="ac r agk"><div class="tx ac"><div class="bm" aria-hidden="false" aria-describedby="161" aria-labelledby="161"><button class="m aj ap an" aria-label="Member-only story"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="162" aria-labelledby="162"><div tabindex="-1" class="be"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 64 64"><path fill="#FFC017" d="m39.637 40.831-5.771 15.871a1.99 1.99 0 0 1-3.732 0l-5.771-15.87a2.02 2.02 0 0 0-1.194-1.195L7.298 33.866a1.99 1.99 0 0 1 0-3.732l15.87-5.771a2.02 2.02 0 0 0 1.195-1.194l5.771-15.871a1.99 1.99 0 0 1 3.732 0l5.771 15.87a2.02 2.02 0 0 0 1.194 1.195l15.871 5.771a1.99 1.99 0 0 1 0 3.732l-15.87 5.771a2.02 2.02 0 0 0-1.195 1.194"></path></svg></div></div></div></div></button></div></div>4d ago<div class=""><div class="fl agi dh ac r"><div class="fu hg agj ac r agk"><div class="fg dh dj m cx"></div></div><a class="fu ne agj ac r agk" tabindex="-1" rel="noopener follow" href="/@simranjeetsingh1497/agentic-ai-projects-build-14-hands-on-ai-agents-key-design-patterns-free-b2ae0729e035?source=post_page---read_next_recirc--9cc01d50a2a0----0---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><div><div class="ac" aria-hidden="false" aria-describedby="222" aria-labelledby="222"><div tabindex="-1" class="be"><div class="ac r agl"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" aria-labelledby="clap-filled-static-desc" viewBox="0 0 16 16"><desc id="clap-filled-static-desc">A clap icon</desc><path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path></svg><span>210</span></div></div></div></div><div><div class="ac" aria-hidden="false" aria-describedby="163" aria-labelledby="163"><div tabindex="-1" class="be"><div class="ac r agl"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#6B6B6B" aria-labelledby="response-filled-16px-desc" viewBox="0 0 16 16"><desc id="response-filled-16px-desc">A response icon</desc><path fill="#6B6B6B" d="M12.344 11.458A5.28 5.28 0 0 0 14 7.526C14 4.483 11.391 2 8.051 2S2 4.483 2 7.527c0 3.051 2.712 5.526 6.059 5.526a6.6 6.6 0 0 0 1.758-.236q.255.223.554.414c.784.51 1.626.768 2.512.768a.37.37 0 0 0 .355-.214.37.37 0 0 0-.03-.384 4.7 4.7 0 0 1-.857-1.958v.014z"></path></svg><span>4</span></div></div></div></div></a></div></div></div><div class="ac r agm agn"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="164" aria-labelledby="164"><div tabindex="-1" class="be"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb2ae0729e035&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40simranjeetsingh1497%2Fagentic-ai-projects-build-14-hands-on-ai-agents-key-design-patterns-free-b2ae0729e035&amp;source=---read_next_recirc--9cc01d50a2a0----0-----------------bookmark_preview----a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du nk ago" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div></div></div></div></span><div class="k j e"><div class="vn bh wb ni"></div></div></div></div></div></div></div></div></article></div></div><div class="acz ada adb rj adc add ade rk adf adg adh adi adj adk adl adm adn ado adp adq adr"><div class="ads adt adu adv adw dw m"><article class="dw" data-testid="post-preview"><div class="dw tx m"><div class="bh dw"><div class="dw m"><div class="fl dw adx ady adz aea aeb aec aed aee aef aeg aeh aei aej" role="link" data-href="https://medium.com/the-algorithmic-minds/tech-professionals-in-the-uk-what-you-need-to-learn-about-personal-finance-for-your-fire-planning-bc1eac59a9c9" tabindex="0"><div class="aek"><div aria-label="Tech Professionals in the UK — What You Need to Learn About Personal Finance for your FIRE planning?"><div class="aem aen aeo aep aeq"><img alt="Tech Professionals in the UK — What You Need to Learn About Personal Finance for your FIRE planning?" class="bh aer aes aet bw" src="https://miro.medium.com/v2/resize:fit:679/0*PzUdJ91-bP9zD_uk.gif" loading="lazy"></div></div></div><div class="ael ac cb co"><div class="ac co zy bh aeu aev aew aex"><div class="aey aez afa afb afc ac r"><div class="to m"><div><div class="m" aria-hidden="false" aria-describedby="165" aria-labelledby="165"><div tabindex="-1" class="be"><a href="https://medium.com/the-algorithmic-minds?source=post_page---read_next_recirc--9cc01d50a2a0----1---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" rel="noopener follow"><div class="fl"><img alt="The Algorithmic Minds" class="cx hj m afe afd" src="https://miro.medium.com/v2/resize:fill:20:20/1*UE5GuhTAna40YZEOTagZSw.png" width="20" height="20" loading="lazy"><div class="hj m afd afe fu o ft fv"></div></div></a></div></div></div></div><div class="vd m"><p class="bf b dv ab du">In</p></div><div class="m"><div><div class="m" aria-hidden="false" aria-describedby="166" aria-labelledby="166"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" href="https://medium.com/the-algorithmic-minds?source=post_page---read_next_recirc--9cc01d50a2a0----1---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" rel="noopener follow"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">The Algorithmic Minds</p></a></div></div></div></div><div class="afi m"><p class="bf b dv ab du">by</p></div><div><div class="m" aria-hidden="false" aria-describedby="167" aria-labelledby="167"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" rel="noopener follow" href="/@mlwhiz?source=post_page---read_next_recirc--9cc01d50a2a0----1---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">Rahul Agarwal</p><div class="kv vl m"><div class="ac kx"><div class="ac"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#437AFF" d="M15.163 8c0 .65-.459 1.144-.863 1.575-.232.244-.471.5-.563.719s-.086.543-.092.875c-.006.606-.018 1.3-.49 1.781-.47.481-1.15.494-1.744.5-.324.006-.655.013-.857.094s-.465.337-.704.575c-.422.412-.906.881-1.542.881-.637 0-1.12-.469-1.543-.881-.239-.238-.49-.482-.704-.575-.214-.094-.532-.088-.857-.094-.593-.006-1.273-.019-1.744-.5s-.484-1.175-.49-1.781c-.006-.332-.012-.669-.092-.875-.08-.207-.33-.475-.563-.719-.404-.431-.863-.925-.863-1.575s.46-1.144.863-1.575c.233-.244.472-.5.563-.719.092-.219.086-.544.092-.875.006-.606.019-1.3.49-1.781s1.15-.494 1.744-.5c.325-.006.655-.012.857-.094.202-.081.465-.337.704-.575C7.188 1.47 7.671 1 8.308 1s1.12.469 1.542.881c.239.238.49.481.704.575s.533.088.857.094c.594.006 1.273.019 1.745.5.47.481.483 1.175.49 1.781.005.331.011.669.091.875s.33.475.563.719c.404.431.863.925.863 1.575"></path><path fill="#fff" d="M7.328 10.5c.195 0 .381.08.519.22.137.141.215.331.216.53 0 .066.026.13.072.177a.24.24 0 0 0 .346 0 .25.25 0 0 0 .071-.177c.001-.199.079-.389.216-.53a.73.73 0 0 1 .519-.22h1.959c.13 0 .254-.053.346-.146a.5.5 0 0 0 .143-.354V6a.5.5 0 0 0-.143-.354.49.49 0 0 0-.346-.146h-1.47c-.324 0-.635.132-.865.366-.23.235-.359.552-.359.884v2.5c0 .066-.025.13-.071.177a.24.24 0 0 1-.346 0 .25.25 0 0 1-.072-.177v-2.5c0-.332-.13-.65-.359-.884A1.21 1.21 0 0 0 6.84 5.5h-1.47a.49.49 0 0 0-.346.146A.5.5 0 0 0 4.88 6v4c0 .133.051.26.143.354a.49.49 0 0 0 .347.146z"></path></svg></div></div></div></a></div></div></div></div><div class="afj m afk afl afm afn afo ho"><div class="afp afq afr afs aft afu afv afw"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/the-algorithmic-minds/tech-professionals-in-the-uk-what-you-need-to-learn-about-personal-finance-for-your-fire-planning-bc1eac59a9c9?source=post_page---read_next_recirc--9cc01d50a2a0----1---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><div title="Tech Professionals in the UK — What You Need to Learn About Personal Finance for your FIRE planning?"><h2 class="bf io qm jn afx afy gl qo jq afz aga gn go gp agb agc gq gr gs agd age gt gu gv agf agg gw fx fy ta tc td bk">Tech Professionals in the UK — What You Need to Learn About Personal Finance for your FIRE planning?</h2></div><div class="agh m"><h3 class="bf b gz ab fx sz fy ta tb tc td du">A Journey Through the Trenches for Fellow Tech Brothers and Sisters</h3></div></a></div></div><span class="bf b dv ab du"><div class="uv ac cp af"><div class="ac r agk"><div class="tx ac"><div class="bm" aria-hidden="false" aria-describedby="168" aria-labelledby="168"><button class="m aj ap an" aria-label="Member-only story"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="169" aria-labelledby="169"><div tabindex="-1" class="be"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 64 64"><path fill="#FFC017" d="m39.637 40.831-5.771 15.871a1.99 1.99 0 0 1-3.732 0l-5.771-15.87a2.02 2.02 0 0 0-1.194-1.195L7.298 33.866a1.99 1.99 0 0 1 0-3.732l15.87-5.771a2.02 2.02 0 0 0 1.195-1.194l5.771-15.871a1.99 1.99 0 0 1 3.732 0l5.771 15.87a2.02 2.02 0 0 0 1.194 1.195l15.871 5.771a1.99 1.99 0 0 1 0 3.732l-15.87 5.771a2.02 2.02 0 0 0-1.195 1.194"></path></svg></div></div></div></div></button></div></div><span>Feb 22</span><div class=""><div class="fl agi dh ac r"><div class="fu hg agj ac r agk"><div class="fg dh dj m cx"></div></div><a class="fu ne agj ac r agk" tabindex="-1" rel="noopener follow" href="/the-algorithmic-minds/tech-professionals-in-the-uk-what-you-need-to-learn-about-personal-finance-for-your-fire-planning-bc1eac59a9c9?source=post_page---read_next_recirc--9cc01d50a2a0----1---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><div><div class="ac" aria-hidden="false" aria-describedby="224" aria-labelledby="224"><div tabindex="-1" class="be"><div class="ac r agl"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" aria-labelledby="clap-filled-static-desc" viewBox="0 0 16 16"><desc id="clap-filled-static-desc">A clap icon</desc><path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path></svg><span>17</span></div></div></div></div></a></div></div></div><div class="ac r agm agn"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="170" aria-labelledby="170"><div tabindex="-1" class="be"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbc1eac59a9c9&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fthe-algorithmic-minds%2Ftech-professionals-in-the-uk-what-you-need-to-learn-about-personal-finance-for-your-fire-planning-bc1eac59a9c9&amp;source=---read_next_recirc--9cc01d50a2a0----1-----------------bookmark_preview----a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du nk ago" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div></div></div></div></span></div></div></div></div></div></div></article></div></div></div></div><div class="yi ac mi kz ack acl acm acn aco acp acq acr acs act acu acv acw acx acy"><div class="acz ada adb rj adc add ade rk adf adg adh adi adj adk adl adm adn ado adp adq adr"><div class="ads adt adu adv adw dw m"><article class="dw" data-testid="post-preview"><div class="dw tx m"><div class="bh dw"><div class="dw m"><div class="fl dw adx ady adz aea aeb aec aed aee aef aeg aeh aei aej" role="link" data-href="https://medium.com/towards-finance/build-an-ai-finance-agent-team-with-phidata-fd6d2d984dc5" tabindex="0"><div class="aek"><div aria-label="Build an AI Finance Agent Team with phidata"><div class="aem aen aeo aep aeq"><img alt="Build an AI Finance Agent Team with phidata" class="bh aer aes aet bw" src="https://miro.medium.com/v2/resize:fit:679/1*4aXb1I6vrfe9McQ9XjzWAA.jpeg" loading="lazy"></div></div></div><div class="ael ac cb co"><div class="ac co zy bh aeu aev aew aex"><div class="aey aez afa afb afc ac r"><div class="to m"><div><div class="m" aria-hidden="false" aria-describedby="171" aria-labelledby="171"><div tabindex="-1" class="be"><a href="https://medium.com/towards-finance?source=post_page---read_next_recirc--9cc01d50a2a0----0---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" rel="noopener follow"><div class="fl"><img alt="Towards Finance" class="cx hj m afe afd" src="https://miro.medium.com/v2/resize:fill:20:20/1*c_euhvHDcrNzBybdNNKaNQ.png" width="20" height="20" loading="lazy"><div class="hj m afd afe fu o ft fv"></div></div></a></div></div></div></div><div class="vd m"><p class="bf b dv ab du">In</p></div><div class="m"><div><div class="m" aria-hidden="false" aria-describedby="172" aria-labelledby="172"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" href="https://medium.com/towards-finance?source=post_page---read_next_recirc--9cc01d50a2a0----0---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" rel="noopener follow"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">Towards Finance</p></a></div></div></div></div><div class="afi m"><p class="bf b dv ab du">by</p></div><div><div class="m" aria-hidden="false" aria-describedby="173" aria-labelledby="173"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" rel="noopener follow" href="/@tinztwins?source=post_page---read_next_recirc--9cc01d50a2a0----0---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">Tinz Twins</p></a></div></div></div></div><div class="afj m afk afl afm afn afo ho"><div class="afp afq afr afs aft afu afv afw"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/towards-finance/build-an-ai-finance-agent-team-with-phidata-fd6d2d984dc5?source=post_page---read_next_recirc--9cc01d50a2a0----0---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><div title=""><h2 class="bf io qm jn afx afy gl qo jq afz aga gn go gp agb agc gq gr gs agd age gt gu gv agf agg gw fx fy ta tc td bk">Build an AI Finance Agent Team with phidata</h2></div><div class="agh m"><h3 class="bf b gz ab fx sz fy ta tb tc td du">Local Multi-Agent System with Web Access Using Llama 3.1 (Step-by-Step Guide)</h3></div></a></div></div><span class="bf b dv ab du"><div class="uv ac cp af"><div class="ac r agk"><div class="tx ac"><div class="bm" aria-hidden="false" aria-describedby="174" aria-labelledby="174"><button class="m aj ap an" aria-label="Member-only story"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="175" aria-labelledby="175"><div tabindex="-1" class="be"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 64 64"><path fill="#FFC017" d="m39.637 40.831-5.771 15.871a1.99 1.99 0 0 1-3.732 0l-5.771-15.87a2.02 2.02 0 0 0-1.194-1.195L7.298 33.866a1.99 1.99 0 0 1 0-3.732l15.87-5.771a2.02 2.02 0 0 0 1.195-1.194l5.771-15.871a1.99 1.99 0 0 1 3.732 0l5.771 15.87a2.02 2.02 0 0 0 1.194 1.195l15.871 5.771a1.99 1.99 0 0 1 0 3.732l-15.87 5.771a2.02 2.02 0 0 0-1.195 1.194"></path></svg></div></div></div></div></button></div></div><span>Jan 11</span><div class=""><div class="fl agi dh ac r"><div class="fu hg agj ac r agk"><div class="fg dh dj m cx"></div></div><a class="fu ne agj ac r agk" tabindex="-1" rel="noopener follow" href="/towards-finance/build-an-ai-finance-agent-team-with-phidata-fd6d2d984dc5?source=post_page---read_next_recirc--9cc01d50a2a0----0---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><div><div class="ac" aria-hidden="false" aria-describedby="225" aria-labelledby="225"><div tabindex="-1" class="be"><div class="ac r agl"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" aria-labelledby="clap-filled-static-desc" viewBox="0 0 16 16"><desc id="clap-filled-static-desc">A clap icon</desc><path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path></svg><span>99</span></div></div></div></div></a></div></div></div><div class="ac r agm agn"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="176" aria-labelledby="176"><div tabindex="-1" class="be"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffd6d2d984dc5&amp;operation=register&amp;redirect=https%3A%2F%2Fblog.towardsfinance.com%2Fbuild-an-ai-finance-agent-team-with-phidata-fd6d2d984dc5&amp;source=---read_next_recirc--9cc01d50a2a0----0-----------------bookmark_preview----a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du nk ago" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div></div></div></div></span><div class="k j e"><div class="vn bh wb ni"></div></div></div></div></div></div></div></div></article></div></div><div class="acz ada adb rj adc add ade rk adf adg adh adi adj adk adl adm adn ado adp adq adr"><div class="ads adt adu adv adw dw m"><article class="dw" data-testid="post-preview"><div class="dw tx m"><div class="bh dw"><div class="dw m"><div class="fl dw adx ady adz aea aeb aec aed aee aef aeg aeh aei aej" role="link" data-href="https://medium.com/stackademic/how-i-built-a-custom-ai-document-assistant-that-understands-1000s-of-pdfs-and-talks-like-a-human-ec3aa57f370f" tabindex="0"><div class="aek"><div aria-label="How I Built a Custom AI Document Assistant That Understands 1000s of PDFs and Talks Like a Human"><div class="aem aen aeo aep aeq"><img alt="How I Built a Custom AI Document Assistant That Understands 1000s of PDFs and Talks Like a Human" class="bh aer aes aet bw" src="https://miro.medium.com/v2/resize:fit:679/0*u1dCRt0cYIeU9vCh" loading="lazy"></div></div></div><div class="ael ac cb co"><div class="ac co zy bh aeu aev aew aex"><div class="aey aez afa afb afc ac r"><div class="to m"><div><div class="m" aria-hidden="false" aria-describedby="177" aria-labelledby="177"><div tabindex="-1" class="be"><a href="https://medium.com/stackademic?source=post_page---read_next_recirc--9cc01d50a2a0----1---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" rel="noopener follow"><div class="fl"><img alt="Stackademic" class="cx hj m afe afd" src="https://miro.medium.com/v2/resize:fill:20:20/1*U-kjsW7IZUobnoy1gAp1UQ.png" width="20" height="20" loading="lazy"><div class="hj m afd afe fu o ft fv"></div></div></a></div></div></div></div><div class="vd m"><p class="bf b dv ab du">In</p></div><div class="m"><div><div class="m" aria-hidden="false" aria-describedby="178" aria-labelledby="178"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" href="https://medium.com/stackademic?source=post_page---read_next_recirc--9cc01d50a2a0----1---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" rel="noopener follow"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">Stackademic</p></a></div></div></div></div><div class="afi m"><p class="bf b dv ab du">by</p></div><div><div class="m" aria-hidden="false" aria-describedby="179" aria-labelledby="179"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" rel="noopener follow" href="/@abdul.ahadmahmood555?source=post_page---read_next_recirc--9cc01d50a2a0----1---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">Abdul Ahad</p></a></div></div></div></div><div class="afj m afk afl afm afn afo ho"><div class="afp afq afr afs aft afu afv afw"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/stackademic/how-i-built-a-custom-ai-document-assistant-that-understands-1000s-of-pdfs-and-talks-like-a-human-ec3aa57f370f?source=post_page---read_next_recirc--9cc01d50a2a0----1---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><div title="How I Built a Custom AI Document Assistant That Understands 1000s of PDFs and Talks Like a Human"><h2 class="bf io qm jn afx afy gl qo jq afz aga gn go gp agb agc gq gr gs agd age gt gu gv agf agg gw fx fy ta tc td bk">How I Built a Custom AI Document Assistant That Understands 1000s of PDFs and Talks Like a Human</h2></div><div class="agh m"><h3 class="bf b gz ab fx sz fy ta tb tc td du">Forget basic search. I designed a Retrieval-Augmented Generation (RAG) system that reads technical documents, extracts diagrams, interprets…</h3></div></a></div></div><span class="bf b dv ab du"><div class="uv ac cp af"><div class="ac r agk"><div class="tx ac"><div class="bm" aria-hidden="false" aria-describedby="180" aria-labelledby="180"><button class="m aj ap an" aria-label="Member-only story"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="181" aria-labelledby="181"><div tabindex="-1" class="be"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 64 64"><path fill="#FFC017" d="m39.637 40.831-5.771 15.871a1.99 1.99 0 0 1-3.732 0l-5.771-15.87a2.02 2.02 0 0 0-1.194-1.195L7.298 33.866a1.99 1.99 0 0 1 0-3.732l15.87-5.771a2.02 2.02 0 0 0 1.195-1.194l5.771-15.871a1.99 1.99 0 0 1 3.732 0l5.771 15.87a2.02 2.02 0 0 0 1.194 1.195l15.871 5.771a1.99 1.99 0 0 1 0 3.732l-15.87 5.771a2.02 2.02 0 0 0-1.195 1.194"></path></svg></div></div></div></div></button></div></div><span>Jul 3</span><div class=""><div class="fl agi dh ac r"><div class="fu hg agj ac r agk"><div class="fg dh dj m cx"></div></div><a class="fu ne agj ac r agk" tabindex="-1" rel="noopener follow" href="/stackademic/how-i-built-a-custom-ai-document-assistant-that-understands-1000s-of-pdfs-and-talks-like-a-human-ec3aa57f370f?source=post_page---read_next_recirc--9cc01d50a2a0----1---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><div><div class="ac" aria-hidden="false" aria-describedby="226" aria-labelledby="226"><div tabindex="-1" class="be"><div class="ac r agl"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" aria-labelledby="clap-filled-static-desc" viewBox="0 0 16 16"><desc id="clap-filled-static-desc">A clap icon</desc><path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path></svg><span>126</span></div></div></div></div><div><div class="ac" aria-hidden="false" aria-describedby="182" aria-labelledby="182"><div tabindex="-1" class="be"><div class="ac r agl"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#6B6B6B" aria-labelledby="response-filled-16px-desc" viewBox="0 0 16 16"><desc id="response-filled-16px-desc">A response icon</desc><path fill="#6B6B6B" d="M12.344 11.458A5.28 5.28 0 0 0 14 7.526C14 4.483 11.391 2 8.051 2S2 4.483 2 7.527c0 3.051 2.712 5.526 6.059 5.526a6.6 6.6 0 0 0 1.758-.236q.255.223.554.414c.784.51 1.626.768 2.512.768a.37.37 0 0 0 .355-.214.37.37 0 0 0-.03-.384 4.7 4.7 0 0 1-.857-1.958v.014z"></path></svg><span>7</span></div></div></div></div></a></div></div></div><div class="ac r agm agn"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="183" aria-labelledby="183"><div tabindex="-1" class="be"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fec3aa57f370f&amp;operation=register&amp;redirect=https%3A%2F%2Fblog.stackademic.com%2Fhow-i-built-a-custom-ai-document-assistant-that-understands-1000s-of-pdfs-and-talks-like-a-human-ec3aa57f370f&amp;source=---read_next_recirc--9cc01d50a2a0----1-----------------bookmark_preview----a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du nk ago" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div></div></div></div></span><div class="k j e"><div class="vn bh wb ni"></div></div></div></div></div></div></div></div></article></div></div><div class="acz ada adb rj adc add ade rk adf adg adh adi adj adk adl adm adn ado adp adq adr"><div class="ads adt adu adv adw dw m"><article class="dw" data-testid="post-preview"><div class="dw tx m"><div class="bh dw"><div class="dw m"><div class="fl dw adx ady adz aea aeb aec aed aee aef aeg aeh aei aej" role="link" data-href="https://medium.com/ai-advances/building-agentic-rag-pipelines-for-medical-data-with-crewai-and-qdrant-3a00a48fb0d1" tabindex="0"><div class="aek"><div aria-label="Building Agentic RAG Pipelines for Medical Data with CrewAI and Qdrant"><div class="aem aen aeo aep aeq"><img alt="Building Agentic RAG Pipelines for Medical Data with CrewAI and Qdrant" class="bh aer aes aet bw" src="https://miro.medium.com/v2/resize:fit:679/1*Nr8wzNBPmhp-uCBne9_MzQ.png" loading="lazy"></div></div></div><div class="ael ac cb co"><div class="ac co zy bh aeu aev aew aex"><div class="aey aez afa afb afc ac r"><div class="to m"><div><div class="m" aria-hidden="false" aria-describedby="184" aria-labelledby="184"><div tabindex="-1" class="be"><a href="https://medium.com/ai-advances?source=post_page---read_next_recirc--9cc01d50a2a0----2---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" rel="noopener follow"><div class="fl"><img alt="AI Advances" class="cx hj m afe afd" src="https://miro.medium.com/v2/resize:fill:20:20/1*R8zEd59FDf0l8Re94ImV0Q.png" width="20" height="20" loading="lazy"><div class="hj m afd afe fu o ft fv"></div></div></a></div></div></div></div><div class="vd m"><p class="bf b dv ab du">In</p></div><div class="m"><div><div class="m" aria-hidden="false" aria-describedby="185" aria-labelledby="185"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" href="https://medium.com/ai-advances?source=post_page---read_next_recirc--9cc01d50a2a0----2---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" rel="noopener follow"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">AI Advances</p></a></div></div></div></div><div class="afi m"><p class="bf b dv ab du">by</p></div><div><div class="m" aria-hidden="false" aria-describedby="186" aria-labelledby="186"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" rel="noopener follow" href="/@manthapavankumar11?source=post_page---read_next_recirc--9cc01d50a2a0----2---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">M K Pavan Kumar</p></a></div></div></div></div><div class="afj m afk afl afm afn afo ho"><div class="afp afq afr afs aft afu afv afw"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/ai-advances/building-agentic-rag-pipelines-for-medical-data-with-crewai-and-qdrant-3a00a48fb0d1?source=post_page---read_next_recirc--9cc01d50a2a0----2---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><div title=""><h2 class="bf io qm jn afx afy gl qo jq afz aga gn go gp agb agc gq gr gs agd age gt gu gv agf agg gw fx fy ta tc td bk">Building Agentic RAG Pipelines for Medical Data with CrewAI and Qdrant</h2></div><div class="agh m"><h3 class="bf b gz ab fx sz fy ta tb tc td du">This post will demonstrate the construction of a data intake pipeline and RAG agents utilizing Qdrant and Crewai. We consider an existing…</h3></div></a></div></div><span class="bf b dv ab du"><div class="uv ac cp af"><div class="ac r agk"><span>Jan 12</span><div class=""><div class="fl agi dh ac r"><div class="fu hg agj ac r agk"><div class="fg dh dj m cx"></div></div><a class="fu ne agj ac r agk" tabindex="-1" rel="noopener follow" href="/ai-advances/building-agentic-rag-pipelines-for-medical-data-with-crewai-and-qdrant-3a00a48fb0d1?source=post_page---read_next_recirc--9cc01d50a2a0----2---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><div><div class="ac" aria-hidden="false" aria-describedby="228" aria-labelledby="228"><div tabindex="-1" class="be"><div class="ac r agl"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" aria-labelledby="clap-filled-static-desc" viewBox="0 0 16 16"><desc id="clap-filled-static-desc">A clap icon</desc><path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path></svg><span>287</span></div></div></div></div><div><div class="ac" aria-hidden="false" aria-describedby="187" aria-labelledby="187"><div tabindex="-1" class="be"><div class="ac r agl"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#6B6B6B" aria-labelledby="response-filled-16px-desc" viewBox="0 0 16 16"><desc id="response-filled-16px-desc">A response icon</desc><path fill="#6B6B6B" d="M12.344 11.458A5.28 5.28 0 0 0 14 7.526C14 4.483 11.391 2 8.051 2S2 4.483 2 7.527c0 3.051 2.712 5.526 6.059 5.526a6.6 6.6 0 0 0 1.758-.236q.255.223.554.414c.784.51 1.626.768 2.512.768a.37.37 0 0 0 .355-.214.37.37 0 0 0-.03-.384 4.7 4.7 0 0 1-.857-1.958v.014z"></path></svg><span>1</span></div></div></div></div></a></div></div></div><div class="ac r agm agn"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="188" aria-labelledby="188"><div tabindex="-1" class="be"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3a00a48fb0d1&amp;operation=register&amp;redirect=https%3A%2F%2Fai.gopubby.com%2Fbuilding-agentic-rag-pipelines-for-medical-data-with-crewai-and-qdrant-3a00a48fb0d1&amp;source=---read_next_recirc--9cc01d50a2a0----2-----------------bookmark_preview----a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du nk ago" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div></div></div></div></span><div class="k j e"><div class="vn bh wb ni"></div></div></div></div></div></div></div></div></article></div></div><div class="acz ada adb rj adc add ade rk adf adg adh adi adj adk adl adm adn ado adp adq adr"><div class="ads adt adu adv adw dw m"><article class="dw" data-testid="post-preview"><div class="dw tx m"><div class="bh dw"><div class="dw m"><div class="fl dw adx ady adz aea aeb aec aed aee aef aeg aeh aei aej" role="link" data-href="https://medium.com/towards-artificial-intelligence/langgraph-deepseek-r1-function-call-agentic-rag-insane-results-b3f878e23a86" tabindex="0"><div class="aek"><div aria-label="LangGraph + DeepSeek-R1 + Function Call + Agentic RAG (Insane Results)"><div class="aem aen aeo aep aeq"><img alt="LangGraph + DeepSeek-R1 + Function Call + Agentic RAG (Insane Results)" class="bh aer aes aet bw" src="https://miro.medium.com/v2/resize:fit:679/1*BKXwuROR5irypuU3XIG4uw.png" loading="lazy"></div></div></div><div class="ael ac cb co"><div class="ac co zy bh aeu aev aew aex"><div class="aey aez afa afb afc ac r"><div class="to m"><div><div class="m" aria-hidden="false" aria-describedby="189" aria-labelledby="189"><div tabindex="-1" class="be"><a href="https://medium.com/towards-artificial-intelligence?source=post_page---read_next_recirc--9cc01d50a2a0----3---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" rel="noopener follow"><div class="fl"><img alt="Towards AI" class="cx hj m afe afd" src="https://miro.medium.com/v2/resize:fill:20:20/1*JyIThO-cLjlChQLb6kSlVQ.png" width="20" height="20" loading="lazy"><div class="hj m afd afe fu o ft fv"></div></div></a></div></div></div></div><div class="vd m"><p class="bf b dv ab du">In</p></div><div class="m"><div><div class="m" aria-hidden="false" aria-describedby="190" aria-labelledby="190"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" href="https://medium.com/towards-artificial-intelligence?source=post_page---read_next_recirc--9cc01d50a2a0----3---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" rel="noopener follow"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">Towards AI</p></a></div></div></div></div><div class="afi m"><p class="bf b dv ab du">by</p></div><div><div class="m" aria-hidden="false" aria-describedby="191" aria-labelledby="191"><div tabindex="-1" class="be"><a class="ag ah ai fh ak al am an ao ap aq ar as ku ac r" rel="noopener follow" href="/@GaoDalie_AI?source=post_page---read_next_recirc--9cc01d50a2a0----3---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><p class="bf b dv ab fx aff fy ta afg tc afh td bk">Gao Dalie (Ilyass)</p></a></div></div></div></div><div class="afj m afk afl afm afn afo ho"><div class="afp afq afr afs aft afu afv afw"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/towards-artificial-intelligence/langgraph-deepseek-r1-function-call-agentic-rag-insane-results-b3f878e23a86?source=post_page---read_next_recirc--9cc01d50a2a0----3---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><div title=""><h2 class="bf io qm jn afx afy gl qo jq afz aga gn go gp agb agc gq gr gs agd age gt gu gv agf agg gw fx fy ta tc td bk">LangGraph + DeepSeek-R1 + Function Call + Agentic RAG (Insane Results)</h2></div><div class="agh m"><h3 class="bf b gz ab fx sz fy ta tb tc td du">In this video, I have a super quick tutorial showing you how to create a multi-agent chatbot using LangGraph, Deepseek-R1, function calling,</h3></div></a></div></div><span class="bf b dv ab du"><div class="uv ac cp af"><div class="ac r agk"><div class="tx ac"><div class="bm" aria-hidden="false" aria-describedby="192" aria-labelledby="192"><button class="m aj ap an" aria-label="Member-only story"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="193" aria-labelledby="193"><div tabindex="-1" class="be"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 64 64"><path fill="#FFC017" d="m39.637 40.831-5.771 15.871a1.99 1.99 0 0 1-3.732 0l-5.771-15.87a2.02 2.02 0 0 0-1.194-1.195L7.298 33.866a1.99 1.99 0 0 1 0-3.732l15.87-5.771a2.02 2.02 0 0 0 1.195-1.194l5.771-15.871a1.99 1.99 0 0 1 3.732 0l5.771 15.87a2.02 2.02 0 0 0 1.194 1.195l15.871 5.771a1.99 1.99 0 0 1 0 3.732l-15.87 5.771a2.02 2.02 0 0 0-1.195 1.194"></path></svg></div></div></div></div></button></div></div><span>Feb 23</span><div class=""><div class="fl agi dh ac r"><div class="fu hg agj ac r agk"><div class="fg dh dj m cx"></div></div><a class="fu ne agj ac r agk" tabindex="-1" rel="noopener follow" href="/towards-artificial-intelligence/langgraph-deepseek-r1-function-call-agentic-rag-insane-results-b3f878e23a86?source=post_page---read_next_recirc--9cc01d50a2a0----3---------------------a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><div><div class="ac" aria-hidden="false" aria-describedby="230" aria-labelledby="230"><div tabindex="-1" class="be"><div class="ac r agl"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" aria-labelledby="clap-filled-static-desc" viewBox="0 0 16 16"><desc id="clap-filled-static-desc">A clap icon</desc><path fill="#6B6B6B" fill-rule="evenodd" d="m3.672 10.167 2.138 2.14h-.002c1.726 1.722 4.337 2.436 5.96.81 1.472-1.45 1.806-3.68.76-5.388l-1.815-3.484c-.353-.524-.849-1.22-1.337-.958-.49.261 0 1.56 0 1.56l.78 1.932L6.43 2.866c-.837-.958-1.467-1.108-1.928-.647-.33.33-.266.856.477 1.598.501.503 1.888 1.957 1.888 1.957.17.174.083.485-.093.655a.56.56 0 0 1-.34.163.43.43 0 0 1-.317-.135s-2.4-2.469-2.803-2.87c-.344-.346-.803-.54-1.194-.15-.408.406-.273 1.065.11 1.447.345.346 2.31 2.297 2.685 2.67l.062.06c.17.175.269.628.093.8-.193.188-.453.33-.678.273a.9.9 0 0 1-.446-.273S2.501 6.84 1.892 6.23c-.407-.406-.899-.333-1.229 0-.525.524.263 1.28 1.73 2.691.384.368.814.781 1.279 1.246m8.472-7.219c.372-.29.95-.28 1.303.244V3.19l1.563 3.006.036.074c.885 1.87.346 4.093-.512 5.159l-.035.044c-.211.264-.344.43-.74.61 1.382-1.855.963-3.478-.248-5.456L11.943 3.88l-.002-.037c-.017-.3-.039-.71.203-.895" clip-rule="evenodd"></path></svg><span>1.1K</span></div></div></div></div><div><div class="ac" aria-hidden="false" aria-describedby="194" aria-labelledby="194"><div tabindex="-1" class="be"><div class="ac r agl"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#6B6B6B" aria-labelledby="response-filled-16px-desc" viewBox="0 0 16 16"><desc id="response-filled-16px-desc">A response icon</desc><path fill="#6B6B6B" d="M12.344 11.458A5.28 5.28 0 0 0 14 7.526C14 4.483 11.391 2 8.051 2S2 4.483 2 7.527c0 3.051 2.712 5.526 6.059 5.526a6.6 6.6 0 0 0 1.758-.236q.255.223.554.414c.784.51 1.626.768 2.512.768a.37.37 0 0 0 .355-.214.37.37 0 0 0-.03-.384 4.7 4.7 0 0 1-.857-1.958v.014z"></path></svg><span>9</span></div></div></div></div></a></div></div></div><div class="ac r agm agn"><div class=""><div><div class="bm" aria-hidden="false" aria-describedby="195" aria-labelledby="195"><div tabindex="-1" class="be"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fb3f878e23a86&amp;operation=register&amp;redirect=https%3A%2F%2Fpub.towardsai.net%2Flanggraph-deepseek-r1-function-call-agentic-rag-insane-results-b3f878e23a86&amp;source=---read_next_recirc--9cc01d50a2a0----3-----------------bookmark_preview----a7defac2_abfd_40a8_8222_2699c04919ae--------------" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du nk ago" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div></div></div></div></span></div></div></div></div></div></div></article></div></div></div><div class="vn bh wb dk dl agp agq agr"></div><a class="bf b bg ab bk tp abu abv abw nk ng yz ev ew ex abx aby abz fa yk yl ags agt agu fb fc fd bm fe ff" rel="noopener follow" href="/?source=post_page---read_next_recirc--9cc01d50a2a0---------------------------------------" data-discover="true"><div class="m ff">See more recommendations</div></a></div></div></div><div class="i l k"><div class="vn bh wb wc"></div><div class="ac cb"><div class="ci bh hu hv hw hx"><div class="wd ac mi kz"><div class="we wf m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" href="https://help.medium.com/hc/en-us?source=post_page-----9cc01d50a2a0---------------------------------------" rel="noopener follow"><p class="bf b dv ab du">Help</p></a></div><div class="we wf m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" href="https://medium.statuspage.io/?source=post_page-----9cc01d50a2a0---------------------------------------" rel="noopener follow"><p class="bf b dv ab du">Status</p></a></div><div class="we wf m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/about?autoplay=1&amp;source=post_page-----9cc01d50a2a0---------------------------------------" data-discover="true"><p class="bf b dv ab du">About</p></a></div><div class="we wf m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/jobs-at-medium/work-at-medium-959d1a85284e?source=post_page-----9cc01d50a2a0---------------------------------------" data-discover="true"><p class="bf b dv ab du">Careers</p></a></div><div class="we wf m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" href="mailto:pressinquiries@medium.com" rel="noopener follow"><p class="bf b dv ab du">Press</p></a></div><div class="we wf m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" href="https://blog.medium.com/?source=post_page-----9cc01d50a2a0---------------------------------------" rel="noopener follow"><p class="bf b dv ab du">Blog</p></a></div><div class="we wf m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" href="https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----9cc01d50a2a0---------------------------------------" rel="noopener follow"><p class="bf b dv ab du">Privacy</p></a></div><div class="we wf m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" href="https://policy.medium.com/medium-rules-30e5502c4eb4?source=post_page-----9cc01d50a2a0---------------------------------------" rel="noopener follow"><p class="bf b dv ab du">Rules</p></a></div><div class="we wf m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----9cc01d50a2a0---------------------------------------" rel="noopener follow"><p class="bf b dv ab du">Terms</p></a></div><div class="we m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" href="https://speechify.com/medium?source=post_page-----9cc01d50a2a0---------------------------------------" rel="noopener follow"><p class="bf b dv ab du">Text to speech</p></a></div></div></div></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__="main-20250711-093125-af72ea78b4"</script><script>window.__GRAPHQL_URI__ = "https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"algolia":{"queries":{}},"cache":{"experimentGroupSet":true,"reason":"","group":"enabled","tags":["group-edgeCachePosts","post-9cc01d50a2a0","user-8323de62a1a1","collection-57b7a1f365ee"],"serverVariantState":"44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a","middlewareEnabled":true,"cacheStatus":"DYNAMIC","shouldUseCache":true,"vary":[],"pubFeaturingPostPageLabelEnabled":false,"shouldFollowPostQueryEnabled":false,"sunsetLoNonMocUpsellExperimentGroup":"control"},"client":{"hydrated":false,"isUs":false,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"isFirefox":false,"routingEntity":{"type":"DEFAULT","explicit":false},"viewerIsBot":false},"debug":{"requestId":"6114032a-9ab0-44c7-9d4c-0ee197ad1ade","requestTag":"","hybridDevServices":[],"originalSpanCarrier":{"traceparent":"00-94fa53d614281ad07121e3c0b050dff4-027550c1f4a33d2a-01"}},"multiVote":{"clapsPerPost":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Fmedium.com\u002Fdecodingml\u002Fa-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0","host":"medium.com","hostname":"medium.com","referrer":"","hasSetReferrer":false,"susiModal":{"step":null,"operation":"register"},"postRead":false,"partnerProgram":{"selectedCountryCode":null},"staticRouterContext":{"route":{"name":"ShowPostUnderCollection"},"statusCode":200},"toastQueue":[],"currentToast":null,"queryString":"","currentHash":""},"config":{"nodeEnv":"production","version":"main-20250711-093125-af72ea78b4","target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","iosAppId":"828256236","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","recaptchaEnterpriseKeyId":"6Le-uGgpAAAAAPprRaokM8AKthQ9KNGdoxaGUvVp","datadog":{"applicationId":"6702d87d-a7e0-42fe-bbcb-95b469547ea0","clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","rumToken":"pubf9cc52896502b9413b68ba36fc0c7162","context":{"deployment":{"target":"production","tag":"main-20250711-093125-af72ea78b4","commit":"af72ea78b4d44548095412ae3c96fb79c3b77be3"}},"datacenter":"us"},"googleAdsCode":"AW-17106321204","googleAnalyticsCode":"G-7JY7T788PK","googlePay":{"apiVersion":"2","apiVersionMinor":"0","merchantId":"BCR2DN6TV7EMTGBM","merchantName":"Medium","instanceMerchantId":"13685562959212738550"},"applePay":{"version":3},"signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumMastodonDomainName":"me.dm","mediumOwnedAndOperatedCollectionIds":["8a9336e5bb4","b7e45b22fec3","193b68bd4fba","8d6b8a439e32","54c98c43354d","3f6ecf56618","d944778ce714","92d2092dc598","ae2a65f35510","1285ba81cada","544c7006046e","fc8964313712","40187e704f1c","88d9857e584e","7b6769f2748b","bcc38c8f6edf","cef6983b292","cb8577c9149e","444d13b52878","713d7dbc99b0","ef8e90590e66","191186aaafa0","55760f21cdc5","9dc80918cc93","bdc4052bbdba","8ccfed20cbb2"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"topicToTagMappings":{"accessibility":"accessibility","addiction":"addiction","android-development":"android-development","art":"art","artificial-intelligence":"artificial-intelligence","astrology":"astrology","basic-income":"basic-income","beauty":"beauty","biotech":"biotech","blockchain":"blockchain","books":"books","business":"business","cannabis":"cannabis","cities":"cities","climate-change":"climate-change","comics":"comics","coronavirus":"coronavirus","creativity":"creativity","cryptocurrency":"cryptocurrency","culture":"culture","cybersecurity":"cybersecurity","data-science":"data-science","design":"design","digital-life":"digital-life","disability":"disability","economy":"economy","education":"education","equality":"equality","family":"family","feminism":"feminism","fiction":"fiction","film":"film","fitness":"fitness","food":"food","freelancing":"freelancing","future":"future","gadgets":"gadgets","gaming":"gaming","gun-control":"gun-control","health":"health","history":"history","humor":"humor","immigration":"immigration","ios-development":"ios-development","javascript":"javascript","justice":"justice","language":"language","leadership":"leadership","lgbtqia":"lgbtqia","lifestyle":"lifestyle","machine-learning":"machine-learning","makers":"makers","marketing":"marketing","math":"math","media":"media","mental-health":"mental-health","mindfulness":"mindfulness","money":"money","music":"music","neuroscience":"neuroscience","nonfiction":"nonfiction","outdoors":"outdoors","parenting":"parenting","pets":"pets","philosophy":"philosophy","photography":"photography","podcasts":"podcast","poetry":"poetry","politics":"politics","privacy":"privacy","product-management":"product-management","productivity":"productivity","programming":"programming","psychedelics":"psychedelics","psychology":"psychology","race":"race","relationships":"relationships","religion":"religion","remote-work":"remote-work","san-francisco":"san-francisco","science":"science","self":"self","self-driving-cars":"self-driving-cars","sexuality":"sexuality","social-media":"social-media","society":"society","software-engineering":"software-engineering","space":"space","spirituality":"spirituality","sports":"sports","startups":"startup","style":"style","technology":"technology","transportation":"transportation","travel":"travel","true-crime":"true-crime","tv":"tv","ux":"ux","venture-capital":"venture-capital","visual-design":"visual-design","work":"work","world":"world","writing":"writing"},"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"7*V1_7XP4snlmqrc_0Njontw.png","height":110,"width":500},"postLogo":{"imageId":"bd978bb536350a710e8efb012513429cabdc4c28700604261aeda246d0f980b7","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","braintree":{"enabled":true,"merchantId":"m56f8fqpf7ngnrd4","merchantAccountId":{"usd":"AMediumCorporation_instant","eur":"amediumcorporation_EUR","cad":"amediumcorporation_CAD"},"publicKey":"ds2nn34bg2z7j5gd","braintreeEnvironment":"production","dashboardUrl":"https:\u002F\u002Fwww.braintreegateway.com\u002Fmerchants","gracePeriodDurationInDays":14,"mediumMembershipPlanId":{"monthly":"ce105f8c57a3","monthlyV2":"e8a5e126-792b-4ee6-8fba-d574c1b02fc5","monthlyWithTrial":"d5ee3dbe3db8","monthlyPremium":"fa741a9b47a2","yearly":"a40ad4a43185","yearlyV2":"3815d7d6-b8ca-4224-9b8c-182f9047866e","yearlyStaff":"d74fb811198a","yearlyWithTrial":"b3bc7350e5c7","yearlyPremium":"e21bd2c12166","monthlyOneYearFree":"e6c0637a-2bad-4171-ab4f-3c268633d83c","monthly25PercentOffFirstYear":"235ecc62-0cdb-49ae-9378-726cd21c504b","monthly20PercentOffFirstYear":"ba518864-9c13-4a99-91ca-411bf0cac756","monthly15PercentOffFirstYear":"594c029b-9f89-43d5-88f8-8173af4e070e","monthly10PercentOffFirstYear":"c6c7bc9a-40f2-4b51-8126-e28511d5bdb0","monthlyForStudents":"629ebe51-da7d-41fd-8293-34cd2f2030a8","yearlyOneYearFree":"78ba7be9-0d9f-4ece-aa3e-b54b826f2bf1","yearly25PercentOffFirstYear":"2dbb010d-bb8f-4eeb-ad5c-a08509f42d34","yearly20PercentOffFirstYear":"47565488-435b-47f8-bf93-40d5fbe0ebc8","yearly15PercentOffFirstYear":"8259809b-0881-47d9-acf7-6c001c7f720f","yearly10PercentOffFirstYear":"9dd694fb-96e1-472c-8d9e-3c868d5c1506","yearlyForStudents":"e29345ef-ab1c-4234-95c5-70e50fe6bc23","monthlyCad":"p52orjkaceei","yearlyCad":"h4q9g2up9ktt"},"braintreeDiscountId":{"oneMonthFree":"MONTHS_FREE_01","threeMonthsFree":"MONTHS_FREE_03","sixMonthsFree":"MONTHS_FREE_06","fiftyPercentOffOneYear":"FIFTY_PERCENT_OFF_ONE_YEAR"},"3DSecureVersion":"2","defaultCurrency":"usd","providerPlanIdCurrency":{"4ycw":"usd","rz3b":"usd","3kqm":"usd","jzw6":"usd","c2q2":"usd","nnsw":"usd","q8qw":"usd","d9y6":"usd","fx7w":"cad","nwf2":"cad"}},"paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","paypal":{"host":"https:\u002F\u002Fapi.paypal.com:443","clientMode":"production","serverMode":"live","webhookId":"4G466076A0294510S","monthlyPlan":{"planId":"P-9WR0658853113943TMU5FDQA","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlan":{"planId":"P-7N8963881P8875835MU5JOPQ","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oneYearGift":{"name":"Medium Membership (1 Year, Digital Gift Code)","description":"Unlimited access to the best and brightest stories on Medium. Gift codes can be redeemed at medium.com\u002Fredeem.","price":"50.00","currency":"USD","sku":"membership-gift-1-yr"},"oldMonthlyPlan":{"planId":"P-96U02458LM656772MJZUVH2Y","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlan":{"planId":"P-59P80963JF186412JJZU3SMI","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"monthlyPlanWithTrial":{"planId":"P-66C21969LR178604GJPVKUKY","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlanWithTrial":{"planId":"P-6XW32684EX226940VKCT2MFA","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oldMonthlyPlanNoSetupFee":{"planId":"P-4N046520HR188054PCJC7LJI","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlanNoSetupFee":{"planId":"P-7A4913502Y5181304CJEJMXQ","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"sdkUrl":"https:\u002F\u002Fwww.paypal.com\u002Fsdk\u002Fjs"},"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","log":{"json":true,"level":"info"},"imageUploadMaxSizeMb":25,"staffPicks":{"title":"Staff Picks","catalogId":"c7bc6e1ee00f"}},"session":{"xsrf":""}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","viewer":null,"collectionByDomainOrSlug({\"domainOrSlug\":\"decodingml\"})":{"__ref":"Collection:57b7a1f365ee"},"postResult({\"id\":\"9cc01d50a2a0\"})":{"__ref":"Post:9cc01d50a2a0"},"variantFlagWithCustomIDs({\"input\":{\"flagName\":\"enable_lite_publications\",\"publicationId\":\"57b7a1f365ee\"}})":{"__typename":"VariantFlag","name":"enable_lite_publications","valueType":{"__typename":"VariantFlagBoolean","value":false}}},"ImageMetadata:":{"__typename":"ImageMetadata","id":""},"Collection:57b7a1f365ee":{"__typename":"Collection","id":"57b7a1f365ee","favicon":{"__ref":"ImageMetadata:"},"customStyleSheet":null,"colorPalette":{"__typename":"ColorPalette","highlightSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FFEBF4FF","point":0},{"__typename":"ColorPoint","color":"#FFE7F2FF","point":0.1},{"__typename":"ColorPoint","color":"#FFE4F1FF","point":0.2},{"__typename":"ColorPoint","color":"#FFE0F0FF","point":0.3},{"__typename":"ColorPoint","color":"#FFDCEEFF","point":0.4},{"__typename":"ColorPoint","color":"#FFD8EDFF","point":0.5},{"__typename":"ColorPoint","color":"#FFD4EBFF","point":0.6},{"__typename":"ColorPoint","color":"#FFD0EAFF","point":0.7},{"__typename":"ColorPoint","color":"#FFCCE8FF","point":0.8},{"__typename":"ColorPoint","color":"#FFC8E6FF","point":0.9},{"__typename":"ColorPoint","color":"#FFC3E5FF","point":1}]},"defaultBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FF5F8AB5","point":0},{"__typename":"ColorPoint","color":"#FF5A81A7","point":0.1},{"__typename":"ColorPoint","color":"#FF557798","point":0.2},{"__typename":"ColorPoint","color":"#FF4F6C8A","point":0.3},{"__typename":"ColorPoint","color":"#FF48627C","point":0.4},{"__typename":"ColorPoint","color":"#FF42576D","point":0.5},{"__typename":"ColorPoint","color":"#FF3A4C5F","point":0.6},{"__typename":"ColorPoint","color":"#FF324150","point":0.7},{"__typename":"ColorPoint","color":"#FF293541","point":0.8},{"__typename":"ColorPoint","color":"#FF202831","point":0.9},{"__typename":"ColorPoint","color":"#FF151B21","point":1}]},"tintBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FF82AEDA","colorPoints":[{"__typename":"ColorPoint","color":"#FF82AEDA","point":0},{"__typename":"ColorPoint","color":"#FF8FB7DF","point":0.1},{"__typename":"ColorPoint","color":"#FF9CBFE4","point":0.2},{"__typename":"ColorPoint","color":"#FFA8C8E9","point":0.3},{"__typename":"ColorPoint","color":"#FFB4D0EE","point":0.4},{"__typename":"ColorPoint","color":"#FFC0D8F3","point":0.5},{"__typename":"ColorPoint","color":"#FFCCE1F7","point":0.6},{"__typename":"ColorPoint","color":"#FFD8E9FC","point":0.7},{"__typename":"ColorPoint","color":"#FFE3F0FF","point":0.8},{"__typename":"ColorPoint","color":"#FFEEF8FF","point":0.9},{"__typename":"ColorPoint","color":"#FFFAFFFF","point":1}]}},"domain":null,"slug":"decodingml","googleAnalyticsId":null,"name":"Decoding ML","avatar":{"__ref":"ImageMetadata:1*26Oyys83TRIKEtdUM1uZRA.png"},"description":"Battle-tested content on designing, coding, and deploying production-grade ML & MLOps systems. The hub for continuous learning on ML system design, ML engineering, MLOps, large language models (LLMs), and computer vision (CV).","subscriberCount":1582,"latestPostsConnection({\"paging\":{\"limit\":1}})":{"__typename":"PostConnection","posts":[{"__ref":"Post:4a74e506cc88"}]},"isAuroraVisible":false,"tintColor":"#FF82AEDA","compatV3":{"__ref":"Publication:57b7a1f365ee"},"viewerEdge":{"__ref":"CollectionViewerEdge:collectionId:57b7a1f365ee-viewerId:lo_fa54ab178e35"},"twitterUsername":"decodingml","facebookPageId":null,"logo":{"__ref":"ImageMetadata:1*26Oyys83TRIKEtdUM1uZRA.png"}},"ImageMetadata:1*26Oyys83TRIKEtdUM1uZRA.png":{"__typename":"ImageMetadata","id":"1*26Oyys83TRIKEtdUM1uZRA.png","originalWidth":1439,"originalHeight":1439},"User:8323de62a1a1":{"__typename":"User","id":"8323de62a1a1","customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"pauliusztin.medium.com"}},"hasSubdomain":true,"username":"pauliusztin","name":"Paul Iusztin","newsletterV3":{"__ref":"NewsletterV3:ea939a1096e5"},"linkedAccounts":{"__ref":"LinkedAccounts:8323de62a1a1"},"isSuspended":false,"imageId":"1*r3Geug_sW6weKSvaqBJtAA.jpeg","verifications":{"__typename":"VerifiedInfo","isBookAuthor":true},"socialStats":{"__typename":"SocialStats","followerCount":5729,"followingCount":208,"collectionFollowingCount":34},"bio":"Senior AI\u002FML Engineer • Founder @ Decoding ML ~ Articles, code, and courses about building production-grade AI systems.","membership":{"__ref":"Membership:72edee67-4483-4991-90fd-7ec4d0b640be"},"allowNotes":true,"viewerEdge":{"__ref":"UserViewerEdge:userId:8323de62a1a1-viewerId:lo_fa54ab178e35"},"twitterScreenName":"iusztinpaul"},"Post:4a74e506cc88":{"__typename":"Post","id":"4a74e506cc88","firstPublishedAt":1745231156254,"creator":{"__ref":"User:8323de62a1a1"},"collection":{"__ref":"Collection:57b7a1f365ee"},"isSeries":false,"mediumUrl":"https:\u002F\u002Fmedium.com\u002Fdecodingml\u002Fa-quick-update-find-us-mostly-on-substack-now-4a74e506cc88","sequence":null,"uniqueSlug":"a-quick-update-find-us-mostly-on-substack-now-4a74e506cc88"},"Publication:57b7a1f365ee":{"__typename":"Publication","id":"57b7a1f365ee","theme":{"__typename":"PublicationTheme","accentColor":{"__typename":"ColorValue","rgb":"#82AEDA"}}},"LinkedAccounts:8323de62a1a1":{"__typename":"LinkedAccounts","mastodon":null,"id":"8323de62a1a1"},"NewsletterV3:ea939a1096e5":{"__typename":"NewsletterV3","id":"ea939a1096e5","type":"NEWSLETTER_TYPE_AUTHOR","slug":"8323de62a1a1","name":"8323de62a1a1","collection":null,"user":{"__ref":"User:8323de62a1a1"}},"Membership:72edee67-4483-4991-90fd-7ec4d0b640be":{"__typename":"Membership","tier":"MEMBER","id":"72edee67-4483-4991-90fd-7ec4d0b640be"},"Paragraph:6ce43d23693c_0":{"__typename":"Paragraph","id":"6ce43d23693c_0","name":"6f6d","type":"H3","href":null,"layout":null,"metadata":null,"text":"A Real-time Retrieval System for RAG on Social Media Data","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_1":{"__typename":"Paragraph","id":"6ce43d23693c_1","name":"37c8","type":"H4","href":null,"layout":null,"metadata":null,"text":"Use a streaming engine to populate a vector DB in real-time. Improve RAG accuracy using rerank & UMAP.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*mm9nB9FZq-u5alVd_chwyg.png":{"__typename":"ImageMetadata","id":"1*mm9nB9FZq-u5alVd_chwyg.png","originalHeight":1024,"originalWidth":1024,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:6ce43d23693c_2":{"__typename":"Paragraph","id":"6ce43d23693c_2","name":"77e2","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*mm9nB9FZq-u5alVd_chwyg.png"},"text":"Image by DALL-E","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_3":{"__typename":"Paragraph","id":"6ce43d23693c_3","name":"193c","type":"P","href":null,"layout":null,"metadata":null,"text":"In this article, you will learn how to build a real-time retrieval system for social media data. In our example, we will use only my LinkedIn posts, but our implementation can easily be extended to other platforms supporting written content, such as X, Instagram, or Medium.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_4":{"__typename":"Paragraph","id":"6ce43d23693c_4","name":"715e","type":"P","href":null,"layout":null,"metadata":null,"text":"In this article, you will learn how to:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":39,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_5":{"__typename":"Paragraph","id":"6ce43d23693c_5","name":"0157","type":"ULI","href":null,"layout":null,"metadata":null,"text":"build a streaming pipeline that ingests LinkedIn posts into a vector DB in real-time","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_6":{"__typename":"Paragraph","id":"6ce43d23693c_6","name":"cc5f","type":"ULI","href":null,"layout":null,"metadata":null,"text":"clean, chunk, and embed LinkedIn posts","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_7":{"__typename":"Paragraph","id":"6ce43d23693c_7","name":"3bae","type":"ULI","href":null,"layout":null,"metadata":null,"text":"build a retrieval client to query LinkedIn posts","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_8":{"__typename":"Paragraph","id":"6ce43d23693c_8","name":"b5b5","type":"ULI","href":null,"layout":null,"metadata":null,"text":"use a rerank pattern to improve retrieval accuracy","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_9":{"__typename":"Paragraph","id":"6ce43d23693c_9","name":"c8bd","type":"ULI","href":null,"layout":null,"metadata":null,"text":"visualize content retrieved for a given query in a 2D plot using UMAP","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_10":{"__typename":"Paragraph","id":"6ce43d23693c_10","name":"66bc","type":"P","href":null,"layout":null,"metadata":null,"text":"Our implementation focuses on just the retrieval part of an RAG system. But you can quickly hook the retrieved LinkedIn posts to an LLM for post analysis or personalized content generation.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_11":{"__typename":"Paragraph","id":"6ce43d23693c_11","name":"7d75","type":"H3","href":null,"layout":null,"metadata":null,"text":"Table of Contents:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_12":{"__typename":"Paragraph","id":"6ce43d23693c_12","name":"1032","type":"OLI","href":null,"layout":null,"metadata":null,"text":"System Design","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_13":{"__typename":"Paragraph","id":"6ce43d23693c_13","name":"1ca0","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Data","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_14":{"__typename":"Paragraph","id":"6ce43d23693c_14","name":"4f4e","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Streaming ingestion pipeline","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_15":{"__typename":"Paragraph","id":"6ce43d23693c_15","name":"4574","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Retrieval client","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_16":{"__typename":"Paragraph","id":"6ce43d23693c_16","name":"feec","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Conclusion","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_17":{"__typename":"Paragraph","id":"6ce43d23693c_17","name":"96fc","type":"H3","href":null,"layout":null,"metadata":null,"text":"1. System Design","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_18":{"__typename":"Paragraph","id":"6ce43d23693c_18","name":"ec15","type":"P","href":null,"layout":null,"metadata":null,"text":"The retrieval system is based on 2 detached components:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_19":{"__typename":"Paragraph","id":"6ce43d23693c_19","name":"7a5a","type":"OLI","href":null,"layout":null,"metadata":null,"text":"the streaming ingestion pipeline","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_20":{"__typename":"Paragraph","id":"6ce43d23693c_20","name":"abd3","type":"OLI","href":null,"layout":null,"metadata":null,"text":"the retrieval client","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*SfXvnsaSFcBZUMmi.png":{"__typename":"ImageMetadata","id":"0*SfXvnsaSFcBZUMmi.png","originalHeight":1080,"originalWidth":1920,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:6ce43d23693c_21":{"__typename":"Paragraph","id":"6ce43d23693c_21","name":"f3a8","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"__ref":"ImageMetadata:0*SfXvnsaSFcBZUMmi.png"},"text":"The architecture of the retrieval system [Image by the Author — in collaboration with VectorHub].","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_22":{"__typename":"Paragraph","id":"6ce43d23693c_22","name":"e14b","type":"P","href":null,"layout":null,"metadata":null,"text":"The streaming ingestion pipeline runs 24\u002F7 to keep the vector DB synced up with current raw LinkedIn posts data source, while the retrieval client is used in RAG applications to query the vector DB. These 2 components communicate with each other only through the vector DB.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":4,"end":32,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":130,"end":146,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":218,"end":272,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_23":{"__typename":"Paragraph","id":"6ce43d23693c_23","name":"7047","type":"H4","href":null,"layout":null,"metadata":null,"text":"1.1. The streaming ingestion pipeline","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_24":{"__typename":"Paragraph","id":"6ce43d23693c_24","name":"a733","type":"P","href":null,"layout":null,"metadata":null,"text":"The streaming ingestion pipeline implements the Change Data Capture (CDC) pattern between a data source containing the raw LinkedIn posts and the vector DB used for retrieval.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":48,"end":81,"href":"https:\u002F\u002Fhub.superlinked.com\u002F12-data-modality#fpwX4","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_25":{"__typename":"Paragraph","id":"6ce43d23693c_25","name":"0525","type":"P","href":null,"layout":null,"metadata":null,"text":"In a real-world scenario, the streaming pipeline listens to a queue populated by all the changes made to the source database. But because we are focusing primarily on the retrieval system, we simulate the data within the queue with a couple of JSON files.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_26":{"__typename":"Paragraph","id":"6ce43d23693c_26","name":"fb04","type":"P","href":null,"layout":null,"metadata":null,"text":"The streaming pipeline is built in Python using Bytewax, and cleans, chunks, and embeds the LinkedIn posts before loading them into a Qdrant vector DB.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":134,"end":140,"href":"https:\u002F\u002Fqdrant.tech\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_27":{"__typename":"Paragraph","id":"6ce43d23693c_27","name":"b30b","type":"P","href":null,"layout":null,"metadata":null,"text":"Why do we need a stream engine?","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":31,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_28":{"__typename":"Paragraph","id":"6ce43d23693c_28","name":"5911","type":"P","href":null,"layout":null,"metadata":null,"text":"Because LinkedIn posts (or any other social media data) evolve frequently, your vector DB can quickly get out of sync. To handle this, you can build a batch pipeline that runs every minute. But to really minimize data lag, to make sure your vector DB stays current with new social media posts, you need to use a streaming pipeline that immediately takes every new item the moment it’s posted, preprocesses it, and loads it into the vector DB.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":226,"end":292,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":336,"end":347,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_29":{"__typename":"Paragraph","id":"6ce43d23693c_29","name":"acfa","type":"P","href":null,"layout":null,"metadata":null,"text":"Why Bytewax?","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":12,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_30":{"__typename":"Paragraph","id":"6ce43d23693c_30","name":"5ad5","type":"P","href":null,"layout":null,"metadata":null,"text":"Bytewax is a streaming engine built in Rust that exposes a Python interface. We use Bytewax because it combines the impressive speed and reliability of Rust with the ease of use and ecosystem of Python.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":7,"href":"https:\u002F\u002Fgithub.com\u002Fbytewax\u002Fbytewax","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_31":{"__typename":"Paragraph","id":"6ce43d23693c_31","name":"06c9","type":"H4","href":null,"layout":null,"metadata":null,"text":"1.2. The retrieval client","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_32":{"__typename":"Paragraph","id":"6ce43d23693c_32","name":"94c2","type":"P","href":null,"layout":null,"metadata":null,"text":"Our retrieval client is a standard Python module that preprocesses user queries and searches the vector DB for most similar results. Qdrant vector DB lets us decouple the retrieval client from the streaming ingestion pipeline.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_33":{"__typename":"Paragraph","id":"6ce43d23693c_33","name":"6224","type":"P","href":null,"layout":null,"metadata":null,"text":"Using a semantic-based retrieval system lets us query our LinkedIn post collection very flexibly. For example, we can retrieve similar posts using a variety of query types — e.g., posts, questions, sentences.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_34":{"__typename":"Paragraph","id":"6ce43d23693c_34","name":"c6a6","type":"P","href":null,"layout":null,"metadata":null,"text":"Also, to improve the retrieval system’s accuracy, we use a rerank pattern.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_35":{"__typename":"Paragraph","id":"6ce43d23693c_35","name":"3acf","type":"P","href":null,"layout":null,"metadata":null,"text":"Lastly, to better understand and explain the retrieval process for particular queries, we visualize our results on a 2D plot using UMAP.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_36":{"__typename":"Paragraph","id":"6ce43d23693c_36","name":"024b","type":"H3","href":null,"layout":null,"metadata":null,"text":"2. Data","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_37":{"__typename":"Paragraph","id":"6ce43d23693c_37","name":"e491","type":"P","href":null,"layout":null,"metadata":null,"text":"We will ingest 215 LinkedIn posts from my Linked profile — Paul Iusztin. Though we simulate the post ingestion step using JSON files, the posts themselves are authentic.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":39,"end":71,"href":"https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Fpauliusztin\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_38":{"__typename":"Paragraph","id":"6ce43d23693c_38","name":"5657","type":"P","href":null,"layout":null,"metadata":null,"text":"Before diving into the code, let’s take a look at an example LinkedIn post to familiarize ourselves with the challenges it will introduce ↓","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_39":{"__typename":"Paragraph","id":"6ce43d23693c_39","name":"b654","type":"PRE","href":null,"layout":null,"metadata":null,"text":"[\n    {\n        \"text\": \"𝗪𝗵𝗮𝘁 do you need to 𝗳𝗶𝗻𝗲-𝘁𝘂𝗻𝗲 an open-source 𝗟𝗟𝗠 to create your \nown 𝗳𝗶𝗻𝗮𝗻𝗰𝗶𝗮𝗹 𝗮𝗱𝘃𝗶𝘀𝗼𝗿?\\nThis is the 𝗟𝗟𝗠 𝗳𝗶𝗻𝗲-𝘁𝘂𝗻𝗶𝗻𝗴 𝗸𝗶𝘁 you must know ↓\\n𝗗𝗮𝘁𝗮𝘀𝗲𝘁\\n\nThe key component of any successful ML project is the data.\\n\nYou need a 100 - 1000 sample Q&A (questions & answers) dataset with \nfinancial scenarios.\\nThe best approach is to hire a bunch of experts to \ncreate it manually.\\nBut, for a PoC, that might get expensive & slow.\\n\nThe good news is that a method called \\\"𝘍𝘪𝘯𝘦𝘵𝘶𝘯𝘪𝘯𝘨 𝘸𝘪𝘵𝘩 𝘥𝘪𝘴𝘵𝘪𝘭𝘭𝘢𝘵𝘪𝘰𝘯\\\" exists.\\n \n...\nAlong with ease of deployment, you can easily add your training code to \nyour CI\u002FCD to add the final piece of the MLOps puzzle, called \nCT (continuous training).\\n↳ Beam: 🔗\\nhttps:\u002F\u002Flnkd.in\u002FdedCaMDh\\n.\\n\n↳ To see all these components in action, check out \nmy FREE 𝗛𝗮𝗻𝗱𝘀-𝗼𝗻 𝗟𝗟𝗠𝘀 𝗰𝗼𝘂𝗿𝘀𝗲 & give it a ⭐:  \n🔗\\nhttps:\u002F\u002Flnkd.in\u002FdZgqtf8f\\n\nhashtag\\n#\\nmachinelearning\\nhashtag\\n#\\nmlops\\nhashtag\\n#\\ndatascience\",\n        \"image\": \"https:\u002F\u002Fmedia.licdn.com\u002Fdms\u002Fimage\u002FD4D10AQHWQzZcToQQ1Q\u002Fimage-shrink_800\u002F0\u002F1698388219549?e=1705082400&v=beta&t=9mrDC_NooJgD7u7Qk0PmrTGGaZtuwDIFKh3bEqeBsm0\"\n    }\n]","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"json"},"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_40":{"__typename":"Paragraph","id":"6ce43d23693c_40","name":"beb9","type":"P","href":null,"layout":null,"metadata":null,"text":"The following features of the above post are not compatible with embedding models. We’ll need to find some way of handling them in our preprocessing step:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_41":{"__typename":"Paragraph","id":"6ce43d23693c_41","name":"6149","type":"ULI","href":null,"layout":null,"metadata":null,"text":"emojis","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_42":{"__typename":"Paragraph","id":"6ce43d23693c_42","name":"9cdc","type":"ULI","href":null,"layout":null,"metadata":null,"text":"bold, italic text","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_43":{"__typename":"Paragraph","id":"6ce43d23693c_43","name":"c81f","type":"ULI","href":null,"layout":null,"metadata":null,"text":"other non-ASCII characters","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_44":{"__typename":"Paragraph","id":"6ce43d23693c_44","name":"8cf0","type":"ULI","href":null,"layout":null,"metadata":null,"text":"URLs","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_45":{"__typename":"Paragraph","id":"6ce43d23693c_45","name":"10ca","type":"ULI","href":null,"layout":null,"metadata":null,"text":"content that exceeds the context window limit of the embedding model","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_46":{"__typename":"Paragraph","id":"6ce43d23693c_46","name":"1e9f","type":"P","href":null,"layout":null,"metadata":null,"text":"Emojis and bolded and italic text are represented by Unicode characters that are not available in the vocabulary of the embedding model. Thus, these items cannot be tokenized and passed to the model; we have to remove them or normalize them to something that can be parsed by the tokenizer. The same holds true for all other non-ASCII characters.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_47":{"__typename":"Paragraph","id":"6ce43d23693c_47","name":"ad76","type":"P","href":null,"layout":null,"metadata":null,"text":"URLs take up space in the context window without providing much semantic value. Still, knowing that there’s a URL in the sentence may add context. For this reason, we replace all URLs with a [URL] token. This lets us ingest whatever value the URL’s presence conveys without it taking up valuable space.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_48":{"__typename":"Paragraph","id":"6ce43d23693c_48","name":"c87f","type":"H3","href":null,"layout":null,"metadata":null,"text":"3. Streaming ingestion pipeline","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_49":{"__typename":"Paragraph","id":"6ce43d23693c_49","name":"76fc","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s dive into the streaming pipeline, starting from the top and working our way to the bottom ↓","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_50":{"__typename":"Paragraph","id":"6ce43d23693c_50","name":"65a4","type":"H4","href":null,"layout":null,"metadata":null,"text":"3.1. The Bytewax flow","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_51":{"__typename":"Paragraph","id":"6ce43d23693c_51","name":"9727","type":"P","href":null,"layout":null,"metadata":null,"text":"The Bytewax flow transparently conveys all the steps of the streaming pipeline.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":16,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_52":{"__typename":"Paragraph","id":"6ce43d23693c_52","name":"4042","type":"P","href":null,"layout":null,"metadata":null,"text":"The first step is ingesting every LinkedIn post from our JSON files. In the next steps, every map operation has a single responsibility:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_53":{"__typename":"Paragraph","id":"6ce43d23693c_53","name":"267c","type":"ULI","href":null,"layout":null,"metadata":null,"text":"validate the ingested data using a RawPost pydantic model","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":35,"end":57,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_54":{"__typename":"Paragraph","id":"6ce43d23693c_54","name":"eaaa","type":"ULI","href":null,"layout":null,"metadata":null,"text":"clean the posts","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_55":{"__typename":"Paragraph","id":"6ce43d23693c_55","name":"cf74","type":"ULI","href":null,"layout":null,"metadata":null,"text":"chunk the posts; because chunking will output a list of ChunkedPost objects, we use a flat_map operation to flatten them out","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_56":{"__typename":"Paragraph","id":"6ce43d23693c_56","name":"a59c","type":"ULI","href":null,"layout":null,"metadata":null,"text":"embed the posts","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_57":{"__typename":"Paragraph","id":"6ce43d23693c_57","name":"c196","type":"ULI","href":null,"layout":null,"metadata":null,"text":"load the posts to a Qdrant vector DB","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_58":{"__typename":"Paragraph","id":"6ce43d23693c_58","name":"6fcd","type":"PRE","href":null,"layout":null,"metadata":null,"text":"def build_flow():\n    embedding_model = EmbeddingModelSingleton()\n\n    flow = Dataflow(\"flow\")\n\n    stream = op.input(\"input\", flow, JSONSource([\"data\u002Fpaul.json\"]))\n    stream = op.map(\"raw_post\", stream, RawPost.from_source)\n    stream = op.map(\"cleaned_post\", stream, CleanedPost.from_raw_post)\n    stream = op.flat_map(\n        \"chunked_post\",\n        stream,\n        lambda cleaned_post: ChunkedPost.from_cleaned_post(\n            cleaned_post, embedding_model=embedding_model\n        ),\n    )\n    stream = op.map(\n        \"embedded_chunked_post\",\n        stream,\n        lambda chunked_post: EmbeddedChunkedPost.from_chunked_post(\n            chunked_post, embedding_model=embedding_model\n        ),\n    )\n    op.inspect(\"inspect\", stream, print)\n    op.output(\n        \"output\", stream, QdrantVectorOutput(vector_size=model.embedding_size)\n    )\n    \n    return flow","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_59":{"__typename":"Paragraph","id":"6ce43d23693c_59","name":"8e72","type":"H4","href":null,"layout":null,"metadata":null,"text":"3.2. The processing steps","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_60":{"__typename":"Paragraph","id":"6ce43d23693c_60","name":"bbe5","type":"P","href":null,"layout":null,"metadata":null,"text":"Every processing step is incorporated into a pydantic model. This way, we can easily validate the data at each step and reuse the code in the retrieval module.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":45,"end":59,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_61":{"__typename":"Paragraph","id":"6ce43d23693c_61","name":"4bca","type":"P","href":null,"layout":null,"metadata":null,"text":"We isolate every step of an ingestion pipeline into its own class:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_62":{"__typename":"Paragraph","id":"6ce43d23693c_62","name":"d5b8","type":"ULI","href":null,"layout":null,"metadata":null,"text":"cleaning","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_63":{"__typename":"Paragraph","id":"6ce43d23693c_63","name":"c5b9","type":"ULI","href":null,"layout":null,"metadata":null,"text":"chunking","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_64":{"__typename":"Paragraph","id":"6ce43d23693c_64","name":"d772","type":"ULI","href":null,"layout":null,"metadata":null,"text":"embedding","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_65":{"__typename":"Paragraph","id":"6ce43d23693c_65","name":"1e09","type":"P","href":null,"layout":null,"metadata":null,"text":"Doing so, we follow the separation of concerns good SWE practice. Thus, every class has its own responsibility.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_66":{"__typename":"Paragraph","id":"6ce43d23693c_66","name":"3979","type":"P","href":null,"layout":null,"metadata":null,"text":"Now the code is easy to read and understand. Also, it’s future-proof, as it’s extremely easy to change or extend either of the 3 steps: cleaning, chunking and embedding.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_67":{"__typename":"Paragraph","id":"6ce43d23693c_67","name":"84b2","type":"P","href":null,"layout":null,"metadata":null,"text":"Here is the interface of the pydantic models:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":29,"end":44,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_68":{"__typename":"Paragraph","id":"6ce43d23693c_68","name":"6327","type":"PRE","href":null,"layout":null,"metadata":null,"text":"class RawPost(BaseModel):\n    post_id: str\n    text: str\n    image: Optional[str]\n\n    @classmethod\n    def from_source(cls, k_v: Tuple[str, dict]) -\u003E \"RawPost\":\n        ... # Mapping a dictionary to a RawPost validated pydantic model.\n\n        return cls(...)\n\nclass CleanedPost(BaseModel):\n    post_id: str\n    raw_text: str\n    text: str\n    image: Optional[str]\n\n    @classmethod\n    def from_raw_post(cls, raw_post: RawPost) -\u003E \"CleanedPost\":\n        ... # Cleaning the raw post\n\n        return cls(...)\n\n\nclass ChunkedPost(BaseModel):\n    post_id: str\n    chunk_id: str\n    full_raw_text: str\n    text: str\n    image: Optional[str]\n\n    @classmethod\n    def from_cleaned_post(\n        cls, cleaned_post: CleanedPost, embedding_model: EmbeddingModelSingleton\n    ) -\u003E list[\"ChunkedPost\"]:\n        chunks = ... # Compute chunks\n\n        return [cls(...) for chunk in chunks]\n\n\nclass EmbeddedChunkedPost(BaseModel):\n    post_id: str\n    chunk_id: str\n    full_raw_text: str\n    text: str\n    text_embedding: list\n    image: Optional[str] = None\n    score: Optional[float] = None\n    rerank_score: Optional[float] = None\n\n    @classmethod\n    def from_chunked_post(\n        cls, chunked_post: ChunkedPost, embedding_model: EmbeddingModelSingleton\n    ) -\u003E \"EmbeddedChunkedPost\":\n        ... # Compute embedding.\n\n        return cls(...)","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_69":{"__typename":"Paragraph","id":"6ce43d23693c_69","name":"62e9","type":"P","href":null,"layout":null,"metadata":null,"text":"Now, the data at each step is validated and has a clear structure.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_70":{"__typename":"Paragraph","id":"6ce43d23693c_70","name":"dba8","type":"P","href":null,"layout":null,"metadata":null,"text":"Note: Providing different types when instantiating a pydantic model will throw a validation error. For example, if the post_id is defined as a string, and we try to instantiate an EmbeddedChunkedPost with a None or int post_id, it will throw an error.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":5,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":53,"end":61,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":119,"end":126,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":143,"end":149,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":180,"end":199,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":207,"end":211,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":215,"end":218,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":219,"end":226,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_71":{"__typename":"Paragraph","id":"6ce43d23693c_71","name":"807d","type":"BQ","href":null,"layout":null,"metadata":null,"text":"Check out the full implementation on our 🔗 GitHub Articles Hub repository.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":44,"end":74,"href":"https:\u002F\u002Fgithub.com\u002Fdecodingml\u002Farticles-code\u002Ftree\u002Fmain\u002Farticles\u002Flarge_language_models\u002Freal_time_retrieval_system_for_social_media_data","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_72":{"__typename":"Paragraph","id":"6ce43d23693c_72","name":"1c6e","type":"H4","href":null,"layout":null,"metadata":null,"text":"3.3. Load to Qdrant","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_73":{"__typename":"Paragraph","id":"6ce43d23693c_73","name":"79bb","type":"P","href":null,"layout":null,"metadata":null,"text":"To load the LinkedIn posts to Qdrant, you have to override Bytewax’s StatelessSinkPartition class (which acts as an output in a Bytewax flow):","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":116,"end":122,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":69,"end":91,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_74":{"__typename":"Paragraph","id":"6ce43d23693c_74","name":"f7a1","type":"PRE","href":null,"layout":null,"metadata":null,"text":"class QdrantVectorSink(StatelessSinkPartition):\n    def __init__(\n        self,\n        client: QdrantClient,\n        collection_name: str\n    ):\n        self._client = client\n        self._collection_name = collection_name\n\n    def write_batch(self, chunks: list[EmbeddedChunkedPost]):\n        ... # Map chunks to ids, embeddings, and metadata.\n\n        self._client.upsert(\n            collection_name=self._collection_name,\n            points=Batch(\n                ids=ids,\n                vectors=embeddings,\n                payloads=metadata,\n            ),\n        )","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_75":{"__typename":"Paragraph","id":"6ce43d23693c_75","name":"b7e5","type":"P","href":null,"layout":null,"metadata":null,"text":"Within this class, you must overwrite the write_batch() method, where we will serialize every EmbeddedChunkedPost to a format expected by Qdrant and load it to the vector DB.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":42,"end":55,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":94,"end":113,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_76":{"__typename":"Paragraph","id":"6ce43d23693c_76","name":"f4fa","type":"H3","href":null,"layout":null,"metadata":null,"text":"4. Retrieval client","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_77":{"__typename":"Paragraph","id":"6ce43d23693c_77","name":"d1b4","type":"P","href":null,"layout":null,"metadata":null,"text":"Here, we focus on preprocessing a user’s query, searching the vector DB, and postprocessing the retrieved posts for maximum results.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_78":{"__typename":"Paragraph","id":"6ce43d23693c_78","name":"dcf8","type":"P","href":null,"layout":null,"metadata":null,"text":"To design the retrieval step, we implement a QdrantVectorDBRetriever class to expose all the necessary features for our retrieval client.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":45,"end":68,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_79":{"__typename":"Paragraph","id":"6ce43d23693c_79","name":"2e80","type":"PRE","href":null,"layout":null,"metadata":null,"text":"class QdrantVectorDBRetriever:\n    def __init__(\n        self,\n        embedding_model: EmbeddingModelSingleton,\n        vector_db_client: QdrantClient,\n        cross_encoder_model: CrossEncoderModelSingleton\n        vector_db_collection: str\n    ):\n        self._embedding_model = embedding_model\n        self._vector_db_client = vector_db_client\n        self._cross_encoder_model = cross_encoder_model\n        self._vector_db_collection = vector_db_collection\n\n    def search(\n        self, query: str, limit: int = 3, return_all: bool = False\n    ) -\u003E Union[list[EmbeddedChunkedPost], dict[str, list]]:\n        ... # Search the Qdrant vector DB based on the given query.\n\n    def embed_query(self, query: str) -\u003E list[list[float]]:\n        ... # Embed the given query.\n\n    def rerank(self, query: str, posts: list[EmbeddedChunkedPost]) -\u003E list[EmbeddedChunkedPost]:\n        ... # Rerank the posts relative to the given query.\n\n    def render_as_html(self, post: EmbeddedChunkedPost) -\u003E None:\n        ... # Map the embedded post to HTML to display it.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_80":{"__typename":"Paragraph","id":"6ce43d23693c_80","name":"5184","type":"H4","href":null,"layout":null,"metadata":null,"text":"4.1. Embed query","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_81":{"__typename":"Paragraph","id":"6ce43d23693c_81","name":"cdb6","type":"P","href":null,"layout":null,"metadata":null,"text":"We must embed the query in precisely the same way we ingested our posts into the vector DB. Because the streaming pipeline is written in Python (thanks to Bytewax), and every preprocessing operation is modular, we can quickly replicate all the steps necessary to embed the query.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_82":{"__typename":"Paragraph","id":"6ce43d23693c_82","name":"9867","type":"PRE","href":null,"layout":null,"metadata":null,"text":"class QdrantVectorDBRetriever:\n\n    ...\n\n    def embed_query(self, query: str) -\u003E list[list[float]]:\n        cleaned_query = CleanedPost.clean(query)\n        chunks = ChunkedPost.chunk(cleaned_query, self._embedding_model)\n        embdedded_queries = [\n            self._embedding_model(chunk, to_list=True) for chunk in chunks\n        ]\n\n        return embdedded_queries","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_83":{"__typename":"Paragraph","id":"6ce43d23693c_83","name":"d060","type":"BQ","href":null,"layout":null,"metadata":null,"text":"Check out the full implementation on our 🔗 GitHub repository.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":44,"end":61,"href":"https:\u002F\u002Fgithub.com\u002Fdecodingml\u002Farticles-code\u002Ftree\u002Fmain\u002Farticles\u002Flarge_language_models\u002Freal_time_retrieval_system_for_social_media_data","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":41,"end":43,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_84":{"__typename":"Paragraph","id":"6ce43d23693c_84","name":"72bb","type":"H4","href":null,"layout":null,"metadata":null,"text":"4.2. Plain retrieval","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_85":{"__typename":"Paragraph","id":"6ce43d23693c_85","name":"ddbb","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s try to retrieve a set of posts without using the rerank algorithm.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_86":{"__typename":"Paragraph","id":"6ce43d23693c_86","name":"8399","type":"PRE","href":null,"layout":null,"metadata":null,"text":"vector_db_retriever = QdrantVectorDBRetriever(\n    embedding_model=EmbeddingModelSingleton(),\n    vector_db_client=build_qdrant_client()\n)\n\nquery = \"Posts about Qdrant\"\nretrieved_results = vector_db_retriever.search(query=query)\nfor post in retrieved_results[\"posts\"]:\n    vector_db_retriever.render_as_html(post)","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_87":{"__typename":"Paragraph","id":"6ce43d23693c_87","name":"b0d3","type":"P","href":null,"layout":null,"metadata":null,"text":"Here are the top 2 retrieved results sorted using the cosine similarity score ↓","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":13,"end":36,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":0,"end":79,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_88":{"__typename":"Paragraph","id":"6ce43d23693c_88","name":"c1b9","type":"P","href":null,"layout":null,"metadata":null,"text":"Result 1:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":9,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*R5L_euGz8OIjuYCU.png":{"__typename":"ImageMetadata","id":"0*R5L_euGz8OIjuYCU.png","originalHeight":1372,"originalWidth":2234,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:6ce43d23693c_89":{"__typename":"Paragraph","id":"6ce43d23693c_89","name":"5325","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"__ref":"ImageMetadata:0*R5L_euGz8OIjuYCU.png"},"text":"Result 1 for the “Posts about Qdrant” query (without using reranking) [Image by the Author — in collaboration with VectorHub]","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_90":{"__typename":"Paragraph","id":"6ce43d23693c_90","name":"d446","type":"P","href":null,"layout":null,"metadata":null,"text":"Result 2:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":9,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*xhXHUhfATKq8khO9.png":{"__typename":"ImageMetadata","id":"0*xhXHUhfATKq8khO9.png","originalHeight":901,"originalWidth":1456,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:6ce43d23693c_91":{"__typename":"Paragraph","id":"6ce43d23693c_91","name":"8337","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"__ref":"ImageMetadata:0*xhXHUhfATKq8khO9.png"},"text":"Result 2 for the “Posts about Qdrant” query (without using reranking) [Image by the Author — in collaboration with VectorHub]","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_92":{"__typename":"Paragraph","id":"6ce43d23693c_92","name":"77a8","type":"P","href":null,"layout":null,"metadata":null,"text":"You can see from the results above, that starting from the second post the results are irrelevant. Even though it has a cosine similarly score of ~0.69 the posts doesn’t contain any information about Qdrant or vector DBs.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_93":{"__typename":"Paragraph","id":"6ce43d23693c_93","name":"ce53","type":"P","href":null,"layout":null,"metadata":null,"text":"Note: We looked over the top 5 retrieved results. Nothing after the first post was relevant. We haven’t added them here as the article is already too long.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":5,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_94":{"__typename":"Paragraph","id":"6ce43d23693c_94","name":"e6f9","type":"H4","href":null,"layout":null,"metadata":null,"text":"4.3. Visualize retrieval","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_95":{"__typename":"Paragraph","id":"6ce43d23693c_95","name":"4efb","type":"P","href":null,"layout":null,"metadata":null,"text":"To visualize our retrieval, we implement a dedicated class that uses the UMAP dimensionality reduction algorithm. We have picked UMAP as it preserves the geometric properties between points (e.g., the distance) in higher dimensions when they are projected onto lower dimensions better than its peers (e.g., PCA, t-SNE).","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_96":{"__typename":"Paragraph","id":"6ce43d23693c_96","name":"aef8","type":"P","href":null,"layout":null,"metadata":null,"text":"The RetrievalVisualizer computes the projected embeddings for the entire vector space once. Afterwards, it uses the render() method to project only the given query and retrieved posts, and plot them to a 2D graph.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":4,"end":23,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_97":{"__typename":"Paragraph","id":"6ce43d23693c_97","name":"19bb","type":"PRE","href":null,"layout":null,"metadata":null,"text":"class RetrievalVisualizer:\n    def __init__(self, posts: list[EmbeddedChunkedPost]):\n        self._posts = posts\n\n        self._umap_transform = self._fit_model(self._posts)\n        self._projected_post_embeddings = self.project_posts(self._posts)\n\n    def _fit_model(self, posts: list[EmbeddedChunkedPost]) -\u003E umap.UMAP:\n        umap_transform = ... # Fit a UMAP model on the given posts.\n\n        return umap_transform\n\n    def project_posts(self, posts: list[EmbeddedChunkedPost]) -\u003E np.ndarray:\n        embeddings = np.array([post.text_embedding for post in posts])\n\n        return self._project(embeddings=embeddings)\n\n    def _project(self, embeddings: np.ndarray) -\u003E np.ndarray:\n        ... # Project the embeddings to 2D using UMAP.\n\n        return umap_embeddings\n\n    def render(\n        self,\n        embedded_queries: list[list[float]],\n        retrieved_posts: list[EmbeddedChunkedPost],\n    ) -\u003E None:\n      ... # Render the given queries & retrieved posts using matplotlib.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_98":{"__typename":"Paragraph","id":"6ce43d23693c_98","name":"4890","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s take a look at the result to see how the “Posts about Qdrant” query looks ↓","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":0,"end":81,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*nHkwv8htoaVo5EQf.png":{"__typename":"ImageMetadata","id":"0*nHkwv8htoaVo5EQf.png","originalHeight":925,"originalWidth":1456,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:6ce43d23693c_99":{"__typename":"Paragraph","id":"6ce43d23693c_99","name":"f5d1","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*nHkwv8htoaVo5EQf.png"},"text":"Visualization of the “Posts about Qdrant” query using UMAP (without reranking) [Image by the Author — in collaboration with VectorHub].","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_100":{"__typename":"Paragraph","id":"6ce43d23693c_100","name":"1325","type":"P","href":null,"layout":null,"metadata":null,"text":"Our results are not great. You can see how far the retrieved posts are from our query in the vector space.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_101":{"__typename":"Paragraph","id":"6ce43d23693c_101","name":"b434","type":"P","href":null,"layout":null,"metadata":null,"text":"Can we improve the quality of our retrieval system using the rerank algorithm?","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":61,"end":67,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_102":{"__typename":"Paragraph","id":"6ce43d23693c_102","name":"4906","type":"H4","href":null,"layout":null,"metadata":null,"text":"4.4. Rerank","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_103":{"__typename":"Paragraph","id":"6ce43d23693c_103","name":"b12f","type":"P","href":null,"layout":null,"metadata":null,"text":"We use the reranking algorithm to refine our retrieval for the initial query. Our initial retrieval step — because it used cosine similarity (or similar distance metrics) to compute the distance between a query and post embeddings — may have missed more complex (but essential) relationships between the query and the documents in the vector space. Reranking leverages the power of transformer models that are capable of understanding more nuanced semantic relationships.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":11,"end":20,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_104":{"__typename":"Paragraph","id":"6ce43d23693c_104","name":"7e8d","type":"P","href":null,"layout":null,"metadata":null,"text":"We use a cross-encoder model to implement the reranking step, so we can score the query relative to all retrieved posts individually. These scores take into consideration more complex relationships than cosine similarity can. Under the hood is a BERT classifier that outputs a number between 0 and 1 according to how similar the 2 given sentences are. The BERT classifier outputs 0 if they are entirely different and 1 if they are a perfect match.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":9,"end":22,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*86jt5YNILwTtyhZX.png":{"__typename":"ImageMetadata","id":"0*86jt5YNILwTtyhZX.png","originalHeight":658,"originalWidth":900,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:6ce43d23693c_105":{"__typename":"Paragraph","id":"6ce43d23693c_105","name":"ec39","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*86jt5YNILwTtyhZX.png"},"text":"Bi-Encoder vs. Cross-Encoder [Image by the Author — in collaboration with VectorHub]","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_106":{"__typename":"Paragraph","id":"6ce43d23693c_106","name":"2edd","type":"P","href":null,"layout":null,"metadata":null,"text":"Bi-Encoder vs. Cross-Encoder [Image by the Author — in collaboration with VectorHub]","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_107":{"__typename":"Paragraph","id":"6ce43d23693c_107","name":"b743","type":"P","href":null,"layout":null,"metadata":null,"text":"But, you might ask, “Why not use the cross-encoder model from the start if it is that much better?”","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":37,"end":50,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":21,"end":99,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_108":{"__typename":"Paragraph","id":"6ce43d23693c_108","name":"ad49","type":"P","href":null,"layout":null,"metadata":null,"text":"The answer, in a word, is speed. Using a cross-encoder model to search your whole collection is much slower than using cosine similarity. To optimize your retrieval, therefore, your reranking process should involve 2 steps:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_109":{"__typename":"Paragraph","id":"6ce43d23693c_109","name":"b772","type":"OLI","href":null,"layout":null,"metadata":null,"text":"an initial rough retrieval step using cosine similarity, which retrieves the top N items as potential candidates","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_110":{"__typename":"Paragraph","id":"6ce43d23693c_110","name":"568e","type":"OLI","href":null,"layout":null,"metadata":null,"text":"filtering the rough search using the rerank strategy, which retrieves the top K items as your final results","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_111":{"__typename":"Paragraph","id":"6ce43d23693c_111","name":"63b5","type":"P","href":null,"layout":null,"metadata":null,"text":"The implementation is relatively straightforward. For each retrieved post, we create a pair consisting of the (cleaned) query and the text of the post. We do this for all retrieved posts, resulting in a list of pairs.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_112":{"__typename":"Paragraph","id":"6ce43d23693c_112","name":"01ae","type":"P","href":null,"layout":null,"metadata":null,"text":"Next, we call a cross-encoder\u002Fms-marco-MiniLM-L-6-v2 model (from sentence-transformers) to give the retrieved posts their rerank score. We then sort the posts in descending order based on their rerank score.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":16,"end":52,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_113":{"__typename":"Paragraph","id":"6ce43d23693c_113","name":"8e36","type":"BQ","href":null,"layout":null,"metadata":null,"text":"Check out the rerank algorithm implementation on our 🔗 GitHub repository.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":56,"end":73,"href":"https:\u002F\u002Fgithub.com\u002Fdecodingml\u002Farticles-code\u002Fblob\u002Fmain\u002Farticles\u002Flarge_language_models\u002Freal_time_retrieval_system_for_social_media_data\u002Fsrc\u002Fretrievers.py#L89","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_114":{"__typename":"Paragraph","id":"6ce43d23693c_114","name":"d10f","type":"H4","href":null,"layout":null,"metadata":null,"text":"4.5. Visualize retrieval with rerank","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_115":{"__typename":"Paragraph","id":"6ce43d23693c_115","name":"91da","type":"P","href":null,"layout":null,"metadata":null,"text":"Now that we’ve added the rerank pattern to our retrieval system, let’s see if it improves the results of our “Posts about Qdrant” query ↓","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":109,"end":129,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_116":{"__typename":"Paragraph","id":"6ce43d23693c_116","name":"0a83","type":"P","href":null,"layout":null,"metadata":null,"text":"Result 1","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*hKRNu3jQ2V2_JrrM.png":{"__typename":"ImageMetadata","id":"0*hKRNu3jQ2V2_JrrM.png","originalHeight":801,"originalWidth":1456,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:6ce43d23693c_117":{"__typename":"Paragraph","id":"6ce43d23693c_117","name":"3275","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"__ref":"ImageMetadata:0*hKRNu3jQ2V2_JrrM.png"},"text":"Result 1 for the “Posts about Qdrant” query (using reranking) [Image by the Author — in collaboration with VectorHub]","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_118":{"__typename":"Paragraph","id":"6ce43d23693c_118","name":"2a76","type":"P","href":null,"layout":null,"metadata":null,"text":"Result 2:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":9,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*SvKByecO1s8UIZ65.png":{"__typename":"ImageMetadata","id":"0*SvKByecO1s8UIZ65.png","originalHeight":932,"originalWidth":1456,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:6ce43d23693c_119":{"__typename":"Paragraph","id":"6ce43d23693c_119","name":"ad93","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"__ref":"ImageMetadata:0*SvKByecO1s8UIZ65.png"},"text":"Result 2 for the “Posts about Qdrant” query (using reranking) [Image by the Author — in collaboration with VectorHub]","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_120":{"__typename":"Paragraph","id":"6ce43d23693c_120","name":"ce8f","type":"P","href":null,"layout":null,"metadata":null,"text":"The improvement is remarkable! All our results are about Qdrant and vector DBs.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_121":{"__typename":"Paragraph","id":"6ce43d23693c_121","name":"e65a","type":"P","href":null,"layout":null,"metadata":null,"text":"Note: We looked over the top 5 retrieved results. The top 4 out of 5 posts are relevant to our query, which is incredible.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":5,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_122":{"__typename":"Paragraph","id":"6ce43d23693c_122","name":"9475","type":"P","href":null,"layout":null,"metadata":null,"text":"Now, let’s look at the UMAP visualization:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*46m4qp3GlPAuC82g.png":{"__typename":"ImageMetadata","id":"0*46m4qp3GlPAuC82g.png","originalHeight":918,"originalWidth":1456,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:6ce43d23693c_123":{"__typename":"Paragraph","id":"6ce43d23693c_123","name":"55f9","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*46m4qp3GlPAuC82g.png"},"text":"Visualization of the “Posts about Qdrant” query using UMAP (with reranking) [Image by the Author — in collaboration with VectorHub].","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_124":{"__typename":"Paragraph","id":"6ce43d23693c_124","name":"eb95","type":"P","href":null,"layout":null,"metadata":null,"text":"While the returned posts aren’t very close to the query, they are a lot closer to the query compared to when we weren’t reranking the retrieved posts.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":66,"end":149,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_125":{"__typename":"Paragraph","id":"6ce43d23693c_125","name":"ec67","type":"H3","href":null,"layout":null,"metadata":null,"text":"5. Conclusion","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_126":{"__typename":"Paragraph","id":"6ce43d23693c_126","name":"fde3","type":"P","href":null,"layout":null,"metadata":null,"text":"In this article, we learned how to adapt a RAG retrieval pattern to improve LinkedIn post retrieval. To keep our database up to date with rapidly changing social media data, we implemented a real-time streaming pipeline that uses CDC to sync the raw LinkedIn posts data source with a vector DB. You also saw how to use Bytewax to write — using only Python — a streaming pipeline that cleans, chunks, and embeds LinkedIn posts.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_127":{"__typename":"Paragraph","id":"6ce43d23693c_127","name":"7eb9","type":"P","href":null,"layout":null,"metadata":null,"text":"Finally, you learned how to implement a standard retrieval client for RAG and saw how to improve it using the rerank pattern. As retrieval is complex to evaluate, you saw how to visualize the retrieval for a given query by rendering all the posts, the query, and the retrieved posts in a 2D space using UMAP.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_128":{"__typename":"Paragraph","id":"6ce43d23693c_128","name":"412d","type":"BQ","href":null,"layout":null,"metadata":null,"text":"This article is a summary of my contribution from VectorHub. Check out the full article here to dig into the details, the code and more experiments.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":61,"end":92,"href":"https:\u002F\u002Fsuperlinked.com\u002Fvectorhub\u002Farticles\u002Freal-time-retrieval-system-social-media-data","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":5,"end":12,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":18,"end":25,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":29,"end":44,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":50,"end":59,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":96,"end":99,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":100,"end":104,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":109,"end":118,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":121,"end":126,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":131,"end":147,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":0,"end":25,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":26,"end":148,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_129":{"__typename":"Paragraph","id":"6ce43d23693c_129","name":"041e","type":"P","href":null,"layout":null,"metadata":null,"text":"→ Join 5k+ engineers in the 𝗗𝗲𝗰𝗼𝗱𝗶𝗻𝗴 𝗠𝗟 𝗡𝗲𝘄𝘀𝗹𝗲𝘁𝘁𝗲𝗿 for battle-tested content on production-grade ML. 𝗘𝘃𝗲𝗿𝘆 𝘄𝗲𝗲𝗸:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:6ce43d23693c_130":{"__typename":"Paragraph","id":"6ce43d23693c_130","name":"ee1e","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"text":"Decoding ML Newsletter | Paul Iusztin | Substack\nJoin for battle-tested content on designing, coding, and deploying production-grade ML & MLOps systems. Every week. For…decodingml.substack.com","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":192,"href":"https:\u002F\u002Fdecodingml.substack.com\u002F?source=post_page-----2cc6bb01141f--------------------------------","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":0,"end":48,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":49,"end":169,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":{"__typename":"MixtapeMetadata","href":"https:\u002F\u002Fdecodingml.substack.com\u002F?source=post_page-----2cc6bb01141f--------------------------------","mediaResource":{"__typename":"MediaResource","mediumCatalog":null},"thumbnailImageId":"0*RbO1fw-7Y380mMug"}},"CollectionViewerEdge:collectionId:57b7a1f365ee-viewerId:lo_fa54ab178e35":{"__typename":"CollectionViewerEdge","id":"collectionId:57b7a1f365ee-viewerId:lo_fa54ab178e35","isEditor":false,"isMuting":false},"UserViewerEdge:userId:8323de62a1a1-viewerId:lo_fa54ab178e35":{"__typename":"UserViewerEdge","id":"userId:8323de62a1a1-viewerId:lo_fa54ab178e35","isMuting":false},"PostViewerEdge:postId:9cc01d50a2a0-viewerId:lo_fa54ab178e35":{"__typename":"PostViewerEdge","shouldIndexPostForExternalSearch":true,"id":"postId:9cc01d50a2a0-viewerId:lo_fa54ab178e35"},"Tag:ml-system-design":{"__typename":"Tag","id":"ml-system-design","displayTitle":"Ml System Design","normalizedTagSlug":"ml-system-design"},"Tag:artificial-intelligence":{"__typename":"Tag","id":"artificial-intelligence","displayTitle":"Artificial Intelligence","normalizedTagSlug":"artificial-intelligence"},"Tag:machine-learning":{"__typename":"Tag","id":"machine-learning","displayTitle":"Machine Learning","normalizedTagSlug":"machine-learning"},"Tag:streaming-pipeline":{"__typename":"Tag","id":"streaming-pipeline","displayTitle":"Streaming Pipeline","normalizedTagSlug":"streaming-pipeline"},"Tag:data-science":{"__typename":"Tag","id":"data-science","displayTitle":"Data Science","normalizedTagSlug":"data-science"},"Post:9cc01d50a2a0":{"__typename":"Post","id":"9cc01d50a2a0","collection":{"__ref":"Collection:57b7a1f365ee"},"content({\"postMeteringOptions\":{\"referrer\":\"\"}})":{"__typename":"PostContent","isLockedPreviewOnly":false,"bodyModel":{"__typename":"RichText","sections":[{"__typename":"Section","name":"ef28","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"d022","startIndex":11,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"a674","startIndex":17,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"d094","startIndex":36,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"dd22","startIndex":48,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"68d6","startIndex":76,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"031a","startIndex":125,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"0f55","startIndex":129,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}],"paragraphs":[{"__ref":"Paragraph:6ce43d23693c_0"},{"__ref":"Paragraph:6ce43d23693c_1"},{"__ref":"Paragraph:6ce43d23693c_2"},{"__ref":"Paragraph:6ce43d23693c_3"},{"__ref":"Paragraph:6ce43d23693c_4"},{"__ref":"Paragraph:6ce43d23693c_5"},{"__ref":"Paragraph:6ce43d23693c_6"},{"__ref":"Paragraph:6ce43d23693c_7"},{"__ref":"Paragraph:6ce43d23693c_8"},{"__ref":"Paragraph:6ce43d23693c_9"},{"__ref":"Paragraph:6ce43d23693c_10"},{"__ref":"Paragraph:6ce43d23693c_11"},{"__ref":"Paragraph:6ce43d23693c_12"},{"__ref":"Paragraph:6ce43d23693c_13"},{"__ref":"Paragraph:6ce43d23693c_14"},{"__ref":"Paragraph:6ce43d23693c_15"},{"__ref":"Paragraph:6ce43d23693c_16"},{"__ref":"Paragraph:6ce43d23693c_17"},{"__ref":"Paragraph:6ce43d23693c_18"},{"__ref":"Paragraph:6ce43d23693c_19"},{"__ref":"Paragraph:6ce43d23693c_20"},{"__ref":"Paragraph:6ce43d23693c_21"},{"__ref":"Paragraph:6ce43d23693c_22"},{"__ref":"Paragraph:6ce43d23693c_23"},{"__ref":"Paragraph:6ce43d23693c_24"},{"__ref":"Paragraph:6ce43d23693c_25"},{"__ref":"Paragraph:6ce43d23693c_26"},{"__ref":"Paragraph:6ce43d23693c_27"},{"__ref":"Paragraph:6ce43d23693c_28"},{"__ref":"Paragraph:6ce43d23693c_29"},{"__ref":"Paragraph:6ce43d23693c_30"},{"__ref":"Paragraph:6ce43d23693c_31"},{"__ref":"Paragraph:6ce43d23693c_32"},{"__ref":"Paragraph:6ce43d23693c_33"},{"__ref":"Paragraph:6ce43d23693c_34"},{"__ref":"Paragraph:6ce43d23693c_35"},{"__ref":"Paragraph:6ce43d23693c_36"},{"__ref":"Paragraph:6ce43d23693c_37"},{"__ref":"Paragraph:6ce43d23693c_38"},{"__ref":"Paragraph:6ce43d23693c_39"},{"__ref":"Paragraph:6ce43d23693c_40"},{"__ref":"Paragraph:6ce43d23693c_41"},{"__ref":"Paragraph:6ce43d23693c_42"},{"__ref":"Paragraph:6ce43d23693c_43"},{"__ref":"Paragraph:6ce43d23693c_44"},{"__ref":"Paragraph:6ce43d23693c_45"},{"__ref":"Paragraph:6ce43d23693c_46"},{"__ref":"Paragraph:6ce43d23693c_47"},{"__ref":"Paragraph:6ce43d23693c_48"},{"__ref":"Paragraph:6ce43d23693c_49"},{"__ref":"Paragraph:6ce43d23693c_50"},{"__ref":"Paragraph:6ce43d23693c_51"},{"__ref":"Paragraph:6ce43d23693c_52"},{"__ref":"Paragraph:6ce43d23693c_53"},{"__ref":"Paragraph:6ce43d23693c_54"},{"__ref":"Paragraph:6ce43d23693c_55"},{"__ref":"Paragraph:6ce43d23693c_56"},{"__ref":"Paragraph:6ce43d23693c_57"},{"__ref":"Paragraph:6ce43d23693c_58"},{"__ref":"Paragraph:6ce43d23693c_59"},{"__ref":"Paragraph:6ce43d23693c_60"},{"__ref":"Paragraph:6ce43d23693c_61"},{"__ref":"Paragraph:6ce43d23693c_62"},{"__ref":"Paragraph:6ce43d23693c_63"},{"__ref":"Paragraph:6ce43d23693c_64"},{"__ref":"Paragraph:6ce43d23693c_65"},{"__ref":"Paragraph:6ce43d23693c_66"},{"__ref":"Paragraph:6ce43d23693c_67"},{"__ref":"Paragraph:6ce43d23693c_68"},{"__ref":"Paragraph:6ce43d23693c_69"},{"__ref":"Paragraph:6ce43d23693c_70"},{"__ref":"Paragraph:6ce43d23693c_71"},{"__ref":"Paragraph:6ce43d23693c_72"},{"__ref":"Paragraph:6ce43d23693c_73"},{"__ref":"Paragraph:6ce43d23693c_74"},{"__ref":"Paragraph:6ce43d23693c_75"},{"__ref":"Paragraph:6ce43d23693c_76"},{"__ref":"Paragraph:6ce43d23693c_77"},{"__ref":"Paragraph:6ce43d23693c_78"},{"__ref":"Paragraph:6ce43d23693c_79"},{"__ref":"Paragraph:6ce43d23693c_80"},{"__ref":"Paragraph:6ce43d23693c_81"},{"__ref":"Paragraph:6ce43d23693c_82"},{"__ref":"Paragraph:6ce43d23693c_83"},{"__ref":"Paragraph:6ce43d23693c_84"},{"__ref":"Paragraph:6ce43d23693c_85"},{"__ref":"Paragraph:6ce43d23693c_86"},{"__ref":"Paragraph:6ce43d23693c_87"},{"__ref":"Paragraph:6ce43d23693c_88"},{"__ref":"Paragraph:6ce43d23693c_89"},{"__ref":"Paragraph:6ce43d23693c_90"},{"__ref":"Paragraph:6ce43d23693c_91"},{"__ref":"Paragraph:6ce43d23693c_92"},{"__ref":"Paragraph:6ce43d23693c_93"},{"__ref":"Paragraph:6ce43d23693c_94"},{"__ref":"Paragraph:6ce43d23693c_95"},{"__ref":"Paragraph:6ce43d23693c_96"},{"__ref":"Paragraph:6ce43d23693c_97"},{"__ref":"Paragraph:6ce43d23693c_98"},{"__ref":"Paragraph:6ce43d23693c_99"},{"__ref":"Paragraph:6ce43d23693c_100"},{"__ref":"Paragraph:6ce43d23693c_101"},{"__ref":"Paragraph:6ce43d23693c_102"},{"__ref":"Paragraph:6ce43d23693c_103"},{"__ref":"Paragraph:6ce43d23693c_104"},{"__ref":"Paragraph:6ce43d23693c_105"},{"__ref":"Paragraph:6ce43d23693c_106"},{"__ref":"Paragraph:6ce43d23693c_107"},{"__ref":"Paragraph:6ce43d23693c_108"},{"__ref":"Paragraph:6ce43d23693c_109"},{"__ref":"Paragraph:6ce43d23693c_110"},{"__ref":"Paragraph:6ce43d23693c_111"},{"__ref":"Paragraph:6ce43d23693c_112"},{"__ref":"Paragraph:6ce43d23693c_113"},{"__ref":"Paragraph:6ce43d23693c_114"},{"__ref":"Paragraph:6ce43d23693c_115"},{"__ref":"Paragraph:6ce43d23693c_116"},{"__ref":"Paragraph:6ce43d23693c_117"},{"__ref":"Paragraph:6ce43d23693c_118"},{"__ref":"Paragraph:6ce43d23693c_119"},{"__ref":"Paragraph:6ce43d23693c_120"},{"__ref":"Paragraph:6ce43d23693c_121"},{"__ref":"Paragraph:6ce43d23693c_122"},{"__ref":"Paragraph:6ce43d23693c_123"},{"__ref":"Paragraph:6ce43d23693c_124"},{"__ref":"Paragraph:6ce43d23693c_125"},{"__ref":"Paragraph:6ce43d23693c_126"},{"__ref":"Paragraph:6ce43d23693c_127"},{"__ref":"Paragraph:6ce43d23693c_128"},{"__ref":"Paragraph:6ce43d23693c_129"},{"__ref":"Paragraph:6ce43d23693c_130"}]},"validatedShareKey":"","shareKeyCreator":null},"creator":{"__ref":"User:8323de62a1a1"},"inResponseToEntityType":null,"isLocked":false,"isMarkedPaywallOnly":false,"lockedSource":"LOCKED_POST_SOURCE_NONE","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fdecodingml\u002Fa-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0","primaryTopic":null,"topics":[{"__typename":"Topic","slug":"data-science"},{"__typename":"Topic","slug":"programming"}],"isLimitedState":false,"isPublished":true,"allowResponses":true,"responsesLocked":false,"visibility":"PUBLIC","latestPublishedVersion":"6ce43d23693c","postResponses":{"__typename":"PostResponses","count":0},"responseDistribution":"NOT_DISTRIBUTED","clapCount":323,"title":"A Real-time Retrieval System for RAG on Social Media Data","isSeries":false,"sequence":null,"uniqueSlug":"a-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0","socialTitle":"","socialDek":"","canonicalUrl":"https:\u002F\u002Fmedium.com\u002Fdecodingml\u002Fa-real-time-retrieval-system-for-rag-on-social-media-data-9cc01d50a2a0","metaDescription":"","latestPublishedAt":1712754231931,"readingTime":11.449056603773585,"previewContent":{"__typename":"PreviewContent","subtitle":"Use a streaming engine to populate a vector DB in real-time. Improve RAG accuracy using rerank & UMAP."},"previewImage":{"__ref":"ImageMetadata:1*mm9nB9FZq-u5alVd_chwyg.png"},"isShortform":false,"seoTitle":"Real-time Retrieval for RAG on Social Media Data","firstPublishedAt":1711807323124,"updatedAt":1732885403940,"shortformType":"SHORTFORM_TYPE_LINK","seoDescription":"Use Bytewax to build a streaming real-time pipeline to populate a Qdrant vector DB. Implement a RAG retrieval client using rerank. Visualize using UMAP.","viewerEdge":{"__ref":"PostViewerEdge:postId:9cc01d50a2a0-viewerId:lo_fa54ab178e35"},"isSuspended":false,"license":"ALL_RIGHTS_RESERVED","tags":[{"__ref":"Tag:ml-system-design"},{"__ref":"Tag:artificial-intelligence"},{"__ref":"Tag:machine-learning"},{"__ref":"Tag:streaming-pipeline"},{"__ref":"Tag:data-science"}],"isFeaturedInPublishedPublication":false,"isNewsletter":false,"statusForCollection":"APPROVED","pendingCollection":null,"detectedLanguage":"en","wordCount":2716,"layerCake":6}}</script><script>window.__MIDDLEWARE_STATE__={"session":{"xsrf":""},"cache":{"cacheStatus":"MISS"}}</script><script src="https://cdn-client.medium.com/lite/static/js/manifest.4401c24e.js"></script><script src="https://cdn-client.medium.com/lite/static/js/4485.c0eedc38.js"></script><script src="https://cdn-client.medium.com/lite/static/js/main.9d940169.js"></script><script src="https://cdn-client.medium.com/lite/static/js/instrumentation.5007fa9c.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/reporting.e6195768.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8813.35e55d5c.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5049.d1ead72d.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/589.8ba7d406.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4237.d8c83b38.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3241.027aa7b0.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3326.69979fdb.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2705.5e7561a5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9977.0dda340d.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8640.9bcaa8fd.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3191.8c3974b0.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6372.f6f824e0.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7381.21ce652a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5429.581e8802.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5522.32d53933.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5660.9d03795a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4929.33b943f1.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1126.d4564cb2.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6834.d8976f5b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7979.9bc9ec8a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7975.a122a8cf.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3877.acc46b63.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9256.9c34dc31.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/144.8e4a0ead.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3666.95c1034a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1922.40f9cefd.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1069.66a4ec8b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3523.1fe5b47b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5659.c1f480ff.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostPage.MainContent.adc24e0e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2698.a5c8f865.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3974.4883a02b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2527.2da08924.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostResponsesContent.488f852b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/responses.editor.d1ca1cf7.chunk.js"></script><script>window.main();</script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95d80975fe118559',t:'MTc1MjIzNDE0Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><div class="extracted-iframe-content-0"></div><script defer="" src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon="{&quot;rayId&quot;:&quot;95d80975fe118559&quot;,&quot;serverTiming&quot;:{&quot;name&quot;:{&quot;cfExtPri&quot;:true,&quot;cfEdge&quot;:true,&quot;cfOrigin&quot;:true,&quot;cfL4&quot;:true,&quot;cfSpeedBrain&quot;:true,&quot;cfCacheStatus&quot;:true}},&quot;version&quot;:&quot;2025.6.2&quot;,&quot;token&quot;:&quot;0b5f665943484354a59c39c6833f7078&quot;}" crossorigin="anonymous"></script>
<script src="https://accounts.google.com/gsi/client" async=""></script></body></html>